{"version":3,"sources":["methods/typedict.ts","methods/selection.ts","preference/Color.ts","themes/BackgroundCanvas.tsx","themes/Yuki.ts","methods/globals.ts","compo/SettingsButton.tsx","methods/toast.ts","methods/decorator.ts","methods/copy.ts","compo/InfoView.tsx","compo/HomeButton.tsx","compo/ListView.tsx","methods/display.tsx","compo/InterestView.tsx","methods/arrayhelper.ts","constant/InfoSet.ts","compo/InlineHTML.tsx","compo/LanguageChart.tsx","compo/SettingItem.tsx","compo/ProductView.tsx","routings/Home.tsx","routings/BadUrl.tsx","routings/Settings.tsx","compo/BilibiliFlv.tsx","compo/ResponsiveComponent.tsx","routings/ProductDetail.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["PageBody","Component","getStyle","e","name","style","parentElement","toHsl","color","h","s","l","a","startsWith","r","g","b","length","parseInt","alpha","substr","paths","substring","indexOf","split","parseFloat","max","Math","min","code","toRgb","hsl","params","q","p","h_k","t_r","t_g","t_b","floor","Color","linearGradient","colorset","direction","steps","forEach","value","push","map","index","getRgba","colorSet","match","setLightness","degree","interpolate","color1","color2","step","hsl1","hsl2","isNaN","Nippon","list","Nadesiko","Koubai","Suou","Taikou","Ikkonzome","Kuwazome","Momo","Ichigo","Usubeni","Imayou","Nakabeni","Sakura","Umenezumi","Karakurenai","Enzi","Kurenai","Toki","Tyousyunn","Kokiake","SakuraNezumi","Zinnzamomi","Azuki","Suoukou","Akabeni","Sinnsyu","Haizakura","Kuriume","Ebitya","Ginnsyu","Kurotobi","Syozyohi","Kinntya","Yamabuki","Torinoko","Touou","Ukonn","Nae","Tokiwa","Midori","Rokusyou","Mizuasagi","Seiheki","Mizu","Kuroturubami","Kati","Ruri","Rurikonn","Berimidori","Nibi","Aonibi","Sionn","Hasita","Tutuzi","Gohunn","Aisumitya","Kesizumi","Sumi","Kuro","Ro","window","BackgroundCanvas","props","canvas","ctx","canvas2","ctx2","state","curTheme","initTheme","React","createRef","key","ref","this","width","height","position","top","left","zIndex","children","pointerEvents","$","css","current","getContext","on","mouseListener","touchListener","start","unbind","end","renderingState","prev","Date","getTime","setTime","val","Yuki","colortab","base","border","background","frontground","frontground2","frontground3","data","items","particals","backgroundColor","cursor","paint","next","clearTimeout","span","Shared","animationFPS","time","realSpan","realFPS","round","autoFPS","ita","u","sqrt","fillStyle","fillRect","clearRect","nextList","nextParticals","item","dist","gradient","createRadialGradient","x","y","addColorStop","beginPath","moveTo","lineTo","fill","closePath","arc","PI","dx","random","ri","pow","abs","prevDx","dd","prevDd","particalEffects","globalAlpha","animation","opacity","ms","particalOpacity","size","strokeStyle","lineWidth","stroke","cursorState","possibility","active","setTimeout","type","clientX","clientY","pressed","selection","document","getSelection","toString","focusNode","getSelectedElement","nodeName","lightness","lightness2","i","sx","sy","c","life","t","touches","j","theme","SettingsButton","right","to","scale","d","onMouseOver","onMouseOut","cx","cy","toast","f","flag","apply","arguments","debounced","text","createElement","wordBreak","display","textAlign","padding","innerText","body","appendChild","animate","fadeOut","clip","onload","overflow","userSelect","InfoView","margin","minHeight","fontSize","boxShadow","replace","maxWidth","alignItems","onMouseEnter","onMouseLeave","href","target","viewBox","version","aria-hidden","transform","fillRule","title","onClick","removeAllRanges","range","createRange","selectNodeContents","addRange","execCommand","call","execCopy","strokeWidth","src","alt","onDragStart","preventDefault","HomeButton","svg","transformOrigin","ListView","pageInput","pageCount","pageId","ceil","maxPerPage","slice","minWidth","justifyContent","setState","onKeyPress","which","letterSpacing","marginRight","whiteSpace","article","idx","borderLeft","borderBottom","displayPaperInfo","paddingRight","authors","author","join","fontStyle","publishingPlace","pageRange","year","displayBookmark","marginLeft","url","textDecoration","InterestView","flexWrap","marginBottom","borderRight","borderRadius","find","each","InfoSet","papers","bookmarks","products","id","role","languages","rate","techs","beginTime","closeTime","githubURL","avatarURL","description","videoURL","InlineHTML","innerHTML","html","console","error","LanguageChart","offset","proj","w","label","textOverflow","SettingItem","SettingValueBar","resizeListener","dragging","curVal","default","resize","bind","wordWrap","className","rx","ry","fillOpacity","currentTarget","onMouseDown","ev","parent","x1","x2","mouseMoveListener","attr","setter","formatter","previewChanging","addEventListener","mouseUpListener","valueChanged","removeEventListener","onTouchMove","getBoundingClientRect","textAnchor","off","SettingRadio","ProductView","detail","colorf","marginTop","objectFit","jumpTo","fontWeight","WebkitBoxOrient","WebkitLineClamp","tech","root","exec","location","Home","productList","paperList","bookmarkList","BadUrl","Settings","fpsSetter","fpsRadio","fpsUpdater","setInterval","clearInterval","toFixed","BilibiliFlv","dom","control","progBase","progBuffer","progCurrent","progFlag","timetip","timer","focus","copy","BilibiliFlvControlDefault","autoPlay","duration","buffered","curTime","onMouseMove","fadeIn","paused","play","pause","onCanPlay","currentTime","onTimeUpdate","onPlayEnd","stopPropagation","btnStop","btnPlay","toTimeString","progressBase","forceUpdate","scrollTop","progressBuffer","progressCurrent","progressFlag","getSnapshot","setAttribute","flvjs","isSupported","hide","flvPlayer","createPlayer","attachMediaElement","load","flvPlayerSS","offsetWidth","adjustBox","sec","minutes","seconds","padStart","_windowResizeListener","componentWillResize","innerWidth","innerHeight","componentDidMount","componentDidMountRE","componentWillUnmount","WIDTH","HEIGHT","o","randomId","append","ProductDetail","flexDirection","flex","borderTop","lineHeight","App","path","exact","component","Boolean","hostname","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.2cad7f7d.chunk.js","sourcesContent":["/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 20:55:09 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-05 23:24:50\r\n */\r\n\r\nimport { Component } from \"react\";\r\n\r\n\r\n/**\r\n * 当定义一个页面主体的元素时，\r\n * 使用 PageBody 类型代表一个接受空 props 初始化的 React 组件.\r\n * \r\n * @export\r\n * @class PageBody\r\n * @extends {Component<{}, S>}\r\n * @template S 组件的 state 的类型\r\n */\r\nexport class PageBody<S> extends Component<{}, S> {};\r\n\r\n/**\r\n * 以\"年+月\"表示的时间.\r\n */\r\nexport type YearMonthLike = [string, string] | [number, number] | \"-\";\r\n\r\n/**\r\n * 语言.\r\n */\r\nexport type Language = \"JavaScript\" | \"TypeScript\" | \"C++\" | \"HTML\" | \"CSS\" | \"Other\"\r\n    | \"Python\";\r\n\r\n/**\r\n * 语言的使用信息.\r\n */\r\nexport type LanguageInfo = {\r\n    name: Language;\r\n    rate: number;\r\n};\r\n\r\n/**\r\n * 技术.\r\n */\r\nexport type Tech = \"Express\" | \"React\" | \"D3.js\" | \"JQuery\" | \"Leaflet\" | \"MapBox\" | \"axios\"\r\n    | \"Other\";\r\n\r\n/**\r\n * 页面的配色方案.\r\n *\r\n * @export\r\n * @interface Colortab\r\n */\r\nexport interface Colortab {\r\n    color: string;\r\n    border: string;\r\n    base: string;\r\n    background: string;\r\n    frontground: string;\r\n    frontground2: string;\r\n    frontground3: string;\r\n};\r\n\r\n/**\r\n * 为页面指定的配色方案和背景的绘制动画.\r\n *\r\n * @export\r\n * @interface Theme\r\n * @template T 组件绘制过程中记录的数据的结构\r\n */\r\nexport interface Theme<T=any> {\r\n    /**\r\n     * 配色方案.\r\n     */\r\n    colortab: Colortab;\r\n    /**\r\n     * 绘制下一帧的定时器.\r\n     */\r\n    next?: NodeJS.Timeout;\r\n    /**\r\n     * 组件绘制过程中记录的数据.\r\n     */\r\n    data: T;\r\n    /**\r\n     * 开始绘制.\r\n     */\r\n    start: (ctx: CanvasRenderingContext2D, ctx2: CanvasRenderingContext2D) => void;\r\n    /**\r\n     * 绘制一帧.\r\n     */\r\n    paint: (ctx: CanvasRenderingContext2D, ctx2: CanvasRenderingContext2D) => void;\r\n    /**\r\n     * 结束绘制.\r\n     */\r\n    end: () => void;\r\n    /**\r\n     * 鼠标交互.\r\n     */\r\n    mouseListener: (e: JQuery.MouseEventBase) => void;\r\n    /**\r\n     * 触屏交互.\r\n     */\r\n    touchListener: (e: JQuery.TouchEventBase) => void;\r\n};\r\n\r\n\r\n/**\r\n * 粒子特效.\r\n *\r\n * @export\r\n * @interface Partical\r\n */\r\nexport interface Partical {\r\n    color: {\r\n        r: number;\r\n        g: number;\r\n        b: number;\r\n    } | string;\r\n    animation: {\r\n        x: (ms: number) => number;\r\n        y: (ms: number) => number;\r\n        opacity: (ms: number) => number;\r\n        size: (ms: number) => number;\r\n    };\r\n    ms: number;\r\n    life: number;\r\n};\r\n\r\n/**\r\n * 文章.\r\n */\r\nexport type Article = {\r\n    title: string;\r\n    data: string;\r\n};\r\n\r\n/**\r\n * 论文信息.\r\n */\r\nexport type PaperInfo = {\r\n    authors: Array<string>;\r\n    title: string;\r\n    publishingPlace: string;\r\n    year: number;\r\n    pageRange?: string;\r\n};\r\n\r\n/**\r\n * 书签.\r\n */\r\nexport type Bookmark = {\r\n    type: \"tech\" | \"design\" | \"other\";\r\n    title: string;\r\n    url: string;\r\n};\r\n\r\nexport type Role = \"individual\" | \"engineer\" | \"leader\" | \"collaborator\" | \"contributor\";\r\n\r\n/**\r\n * 作品 id.\r\n */\r\nexport type ProductId = string;\r\n\r\n/**\r\n * 作品详细数据.\r\n */\r\nexport interface Product {\r\n    name: string;\r\n    id: string;\r\n    role: Role;\r\n    languages: Array<LanguageInfo>;\r\n    techs: Array<Tech>;\r\n    beginTime: YearMonthLike;\r\n    closeTime: YearMonthLike;\r\n    avatarURL: string;\r\n    videoURL?: string;\r\n    githubURL: string;\r\n    description: string;\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-29 17:07:00 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-29 17:11:30\r\n */\r\n\r\n\r\n/**\r\n * 获取当前窗口被选中且获取聚焦的元素.\r\n *\r\n * @returns {HTMLElement | null}\r\n */\r\nexport const getSelectedElement = (): HTMLElement | null => {\r\n    const selection: Selection | null = document.getSelection();\r\n    if (selection?.toString().length) {\r\n        return selection.focusNode?.parentElement || null;\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n/**\r\n * 获取指定元素的某个样式属性值，\r\n * 当该样式继承时，\r\n * 自动寻找父元素.\r\n *\r\n * @param {HTMLElement} e 目标元素\r\n * @param {keyof CSSStyleDeclaration} name 样式名\r\n * @returns {string}\r\n */\r\nexport const getStyle = (e: HTMLElement, name: keyof CSSStyleDeclaration): string => {\r\n    const style: string = e.style[name];\r\n    if (!style && e.parentElement) {\r\n        return getStyle(e.parentElement, name);\r\n    }\r\n    return style;\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2019-10-24 17:47:11 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-29 17:43:20\r\n */\r\n\r\n\r\nconst linearGradient: (colorset: Array< string | number >, direction?: 'bottom' | 'top' | 'left' | 'right') => string\r\n    = (colorset: Array< string | number >, direction: 'bottom' | 'top' | 'left' | 'right' = 'bottom') => {\r\n        let steps: Array< [string, number] > = [];\r\n        colorset.forEach((value: string | number) => {\r\n            if (typeof(value) === \"number\") {\r\n                if (steps.length > 0) {\r\n                    steps[steps.length - 1][1] = value;\r\n                }\r\n            }\r\n            else {\r\n                steps.push([value, -1]);\r\n            }\r\n        });\r\n        if (steps.length === 0) {\r\n            return 'none';\r\n        }\r\n        if (steps.length === 1) {\r\n            return steps[0][0];\r\n        }\r\n        return `linear-gradient(to ${ direction }, ${\r\n            steps.map((value: [string, number], index: number) => {\r\n                if (index === 0) {\r\n                    return value[0];\r\n                }\r\n                else if (index === steps.length - 1) {\r\n                    return ' ' + value[0];\r\n                }\r\n                else if (value[1] === -1) {\r\n                    return ' ' + value[0];\r\n                }\r\n                else {\r\n                    return ' ' + value[0] + ' ' + value[1] * 100 + '%';\r\n                }\r\n            })\r\n        })`;\r\n    };\r\n\r\n\r\n/**\r\n * Translates color code or rgb(a) to hsl(a)\r\n * @param {string} color code input\r\n */\r\nconst toHsl: (color: string) => { code: string; h: number; s: number; l: number; a: number; }\r\n    = (color: string) => {\r\n        let h: number = 0;\r\n        let s: number = 0;\r\n        let l: number = 0;\r\n        let a: number = 1;\r\n        if (color.startsWith('#')) {\r\n            let r: number = 0;\r\n            let g: number = 0;\r\n            let b: number = 0;\r\n            if (color.length === 4) {\r\n                r = 255 * parseInt(color[1], 16) / 16;\r\n                g = 255 * parseInt(color[2], 16) / 16;\r\n                b = 255 * parseInt(color[3], 16) / 16;\r\n                color = `rgb(${ r },${ g },${ b })`;\r\n            }\r\n            else if (color.length === 5) {\r\n                r = 255 * parseInt(color[1], 16) / 16;\r\n                g = 255 * parseInt(color[2], 16) / 16;\r\n                b = 255 * parseInt(color[3], 16) / 16;\r\n                let alpha = 255 * parseInt(color[4], 16);\r\n                color = `rgba(${ r },${ g },${ b },${ alpha })`;\r\n            }\r\n            else if (color.length === 7) {\r\n                r = parseInt(color.substr(1, 2), 16);\r\n                g = parseInt(color.substr(3, 2), 16);\r\n                b = parseInt(color.substr(5, 2), 16);\r\n                color = `rgb(${ r },${ g },${ b })`;\r\n            }\r\n            else if (color.length === 9) {\r\n                r = parseInt(color.substr(1, 2), 16);\r\n                g = parseInt(color.substr(3, 2), 16);\r\n                b = parseInt(color.substr(5, 2), 16);\r\n                let alpha = 255 * parseInt(color[7], 256);\r\n                color = `rgba(${ r },${ g },${ b },${ alpha })`;\r\n            }\r\n        }\r\n        if (color.startsWith('rgb(')) {\r\n            let r: number = 0;\r\n            let g: number = 0;\r\n            let b: number = 0;\r\n            const paths: [ string, string, string ]\r\n                = color.substring(color.indexOf('(') + 1, color.indexOf(')')).split(',') as [string, string, string ];\r\n            r = parseFloat(paths[0]) / 255;\r\n            g = parseFloat(paths[1]) / 255;\r\n            b = parseFloat(paths[2]) / 255;\r\n            let max: number = Math.max(r, g, b);\r\n            let min: number = Math.min(r, g, b);\r\n            h = max === min\r\n                ? 0\r\n                : r === max\r\n                    ? g >= b\r\n                        ? 60 * (g - b) / (max - min)\r\n                        : 60 * (g - b) / (max - min) + 360\r\n                    : g === max\r\n                        ? 60 * (b - r) / (max - min) + 120\r\n                        : 60 * (r - g) / (max - min) + 240;\r\n            l = (max + min) / 2;\r\n            s = l === 0 || max === min ? 0\r\n                : l <= 1 / 2\r\n                    ? (max - min) / (max + min)\r\n                    : (max - min) / (2 - max - min);\r\n            return { code: `hsl(${ h },${ s },${ l })`, h: h, s: s, l: l, a: 1 };\r\n        }\r\n        else if (color.startsWith('rgba(')) {\r\n            let r: number = 0;\r\n            let g: number = 0;\r\n            let b: number = 0;\r\n            const paths: [ string, string, string, string ]\r\n                = color.substring(color.indexOf('(') + 1, color.indexOf(')')).split(',') as [string, string, string, string ];\r\n            r = parseFloat(paths[0]) / 255;\r\n            g = parseFloat(paths[1]) / 255;\r\n            b = parseFloat(paths[2]) / 255;\r\n            a = parseFloat(paths[3]);\r\n            let max: number = Math.max(r, g, b);\r\n            let min: number = Math.min(r, g, b);\r\n            h = max === min\r\n                ? 0\r\n                : r === max\r\n                    ? g >= b\r\n                        ? 60 * (g - b) / (max - min)\r\n                        : 60 * (g - b) / (max - min) + 360\r\n                    : g === max\r\n                        ? 60 * (b - r) / (max - min) + 120\r\n                        : 60 * (r - g) / (max - min) + 240;\r\n            l = (max + min) / 2;\r\n            s = l === 0 || max === min ? 0\r\n                : l <= 1 / 2\r\n                    ? (max - min) / (max + min)\r\n                    : (max - min) / (2 - max - min);\r\n            return { code: `hsla(${ h },${ s },${ l },${ a })`, h: h, s: s, l: l, a: a };\r\n        }\r\n        return { code: 'none', h: h, s: s, l: l, a: a };\r\n    };\r\n\r\n\r\nconst toRgb: (hsl: string) => string\r\n    = (hsl: string) => {\r\n        if (hsl.startsWith(\"rgb\")) {\r\n            return hsl;\r\n        } else if (hsl.startsWith(\"#\")) {\r\n            hsl = toHsl(hsl).code;\r\n        } else if (!hsl.startsWith(\"hsl\")) {\r\n            return \"none\";\r\n        }\r\n        let params: Array<string> = hsl.substring(hsl.indexOf('(') + 1, hsl.indexOf(')')).split(',');\r\n        if (params.length === 3 || params.length === 4) {\r\n            let h: number = parseFloat(params[0]);\r\n            let s: number = parseFloat(params[1]);\r\n            let l: number = parseFloat(params[2]);\r\n            let q: number = l < 1 / 2 ? l * (1 + s) : l + s - (l * s);\r\n            let p: number = 2 * l - q;\r\n            let h_k: number = h / 360;\r\n            let t_r: number = h_k + 1 / 3;\r\n            t_r = t_r > 1 ? t_r - 1 : t_r < 0 ? t_r + 1 : t_r;\r\n            let t_g: number = h_k;\r\n            t_g = t_g > 1 ? t_g - 1 : t_g < 0 ? t_g + 1 : t_g;\r\n            let t_b: number = h_k - 1 / 3;\r\n            t_b = t_b > 1 ? t_b - 1 : t_b < 0 ? t_b + 1 : t_b;\r\n\r\n            let r: number = t_r < 1 / 6\r\n                ? p + (q - p) * 6 * t_r\r\n                : t_r < 1 / 2\r\n                    ? q\r\n                    : t_r < 2 / 3\r\n                        ? p + (q - p) * 6 * (2 / 3 - t_r)\r\n                        : p;\r\n            let g: number = t_g < 1 / 6\r\n                ? p + (q - p) * 6 * t_g\r\n                : t_g < 1 / 2\r\n                    ? q\r\n                    : t_g < 2 / 3\r\n                        ? p + (q - p) * 6 * (2 / 3 - t_g)\r\n                        : p;\r\n            let b: number = t_b < 1 / 6\r\n                ? p + (q - p) * 6 * t_b\r\n                : t_b < 1 / 2\r\n                    ? q\r\n                    : t_b < 2 / 3\r\n                        ? p + (q - p) * 6 * (2 / 3 - t_b)\r\n                        : p;\r\n\r\n            if (params.length === 4) {\r\n                return `rgba(${ Math.floor(r * 255) },${ Math.floor(g * 255) },${ Math.floor(b * 255) },${ params[3] })`;\r\n            }\r\n            return `rgb(${ Math.floor(r * 255) },${ Math.floor(g * 255) },${ Math.floor(b * 255) })`;\r\n        }\r\n        return 'none';\r\n    };\r\n\r\n\r\nconst getRgba: (color: string) => { r: number; g: number; b: number; a: number; }\r\n    = (color: string) => {\r\n        if (!color.startsWith(\"rgb\")) {\r\n            color = toRgb(color);\r\n        }\r\n        let colorSet: Array<string> = toRgb(\r\n            color\r\n        ).match(/\\d+/g)!;\r\n        if (color.startsWith(\"rgba\")) {\r\n            return {\r\n                r: parseInt(colorSet[0]),\r\n                g: parseInt(colorSet[1]),\r\n                b: parseInt(colorSet[2]),\r\n                a: parseFloat(colorSet[3])\r\n            };\r\n        } else {\r\n            return {\r\n                r: parseInt(colorSet[0]),\r\n                g: parseInt(colorSet[1]),\r\n                b: parseInt(colorSet[2]),\r\n                a: 1\r\n            };\r\n        }\r\n    };\r\n\r\n\r\n/**\r\n * Sets lightness of a color.\r\n * @param {string} color\r\n * @param {number} degree\r\n * @returns\r\n */\r\nconst setLightness: (color: string, degree: number) => string\r\n    = (color: string, degree: number) => {\r\n        const { h, s, a } = toHsl(color);\r\n        let hsl: string = a === 1 ? `hsl(${ h },${ s },${ degree })` : `hsla(${ h },${ s },${ degree },${ a })`;\r\n        return toRgb(hsl);\r\n    };\r\n    \r\n\r\n/**\r\n * Returns a interpolation between two colors.\r\n * @param {string} color1\r\n * @param {string} color2\r\n * @param {number} step a number between [0, 1]\r\n * @returns\r\n */\r\nconst interpolate: (color1: string, color2: string, step?: number) => string\r\n    = (color1: string, color2: string, step: number = 0.5) => {\r\n        const hsl1: { code: string; h: number; s: number; l: number; a: number; } = toHsl(color1);\r\n        const hsl2: { code: string; h: number; s: number; l: number; a: number; } = toHsl(color2);\r\n        let h: number = hsl1.h * (1 - step) + hsl2.h * step;\r\n        let s: number = hsl1.s * (1 - step) + hsl2.s * step;\r\n        let l: number = hsl1.l * (1 - step) + hsl2.l * step;\r\n        let a: number = hsl1.a * (1 - step) + hsl2.a * step;\r\n        a = isNaN(a) ? 1 : a;\r\n        let hsl: string = a === 1 ? `hsl(${ h },${ s },${ l })` : `hsla(${ h },${ s },${ l },${ a })`;\r\n        return toRgb(hsl);\r\n    };\r\n\r\n\r\n/**\r\n * Color: namespace\r\n */\r\nconst Color = {\r\n    /**Creates a linear gradient.*/\r\n    linearGradient: linearGradient,\r\n\r\n    /**Translates a color code to hsl(a).*/\r\n    toHsl: toHsl,\r\n    \r\n    /**Translates a hsl(a) code to rgb(a).*/\r\n    toRgb: toRgb,\r\n\r\n    /**Get rgba values.*/\r\n    getRgba: getRgba,\r\n\r\n    /**Sets lightness of a color.*/\r\n    setLightness: setLightness,\r\n    \r\n    /**Returns a interpolation between two colors.*/\r\n    interpolate: interpolate,\r\n\r\n    /**\r\n     * Colorset Nippon\r\n     * Traditional Japanese colors.\r\n     */\r\n    Nippon: {\r\n        list: ['#808F7C', '#51A8DD', '#B54434', '#F0A986', '#F596AA', '#89916B', '#FAD689', '#336774', '#8D742A', '#DC9FB4', '#B28FCE', '#77428D', '#9E7A7A', '#734338', '#BA9132', '#DAC9A6', '#904840', '#6699A1', '#66BAB7', '#4A225D', '#6D2E5B', '#4E4F97', '#D9AB42', '#4B4E2A', '#005CAF', '#574C57', '#0C0C0C', '#0089A7', '#AF5F3C', '#B4A582', '#434343', '#855B32', '#6A4028', '#405B55', '#E87A90', '#113285', '#268785', '#F4A7B9', '#F9BF45', '#A8D8B9', '#62592C', '#EBB471', '#CA7A2C', '#DDA52D', '#D9CD90', '#ADA142', '#B17844', '#42602D', '#0F4C3A', '#947A6D', '#E9CD4C', '#B19693', '#F05E1C', '#305A56', '#91AD70', '#876633', '#33A6B8', '#BC9F77', '#724938', '#261E47', '#08192D', '#7D6C46', '#2D6D4B', '#FFB11B', '#2E5C6E', '#967249', '#F6C555', '#A0674B', '#884C3A', '#26453D', '#B481BB', '#572A3F', '#24936E', '#255359', '#00896C', '#96632E', '#3C2F41', '#9A5034', '#69B0AC', '#FFBA84', '#0093D3', '#5E3D50', '#8E354A', '#E16B8C', '#86473F', '#4D5139', '#7B90D2', '#9B90C2', '#91989F', '#867835', '#376B6D', '#828282', '#F75C2F', '#90B44B', '#8F5A3C', '#CAAD5F', '#7BA23F', '#516E41', '#60373E', '#006284', '#211E55', '#77969A', '#E2943B', '#0D5661', '#78C2C4', '#B07736', '#6E75A4', '#592C63', '#8B81C3', '#FF5E99', '#0B1013', '#FEDFE1', '#C46243', '#A5A051', '#2EA9DF', '#F19483', '#8F77B5', '#A8497A', '#70649A', '#554236', '#646A58', '#724832', '#1C1C1C', '#B9887D', '#4F4F48', '#ED784A', '#86A697', '#81C7D4', '#B5495B', '#563F2E', '#20604F', '#562E37', '#A28C37', '#C1693C', '#FFC408', '#C73E3A', '#AB3B3A', '#B35C37', '#E03C8A', '#FFF10C', '#CC543A', '#CC006B', '#43341B', '#C99833', '#7D532C', '#E8B647', '#854836', '#DCB879', '#86C166', '#838A2D', '#C78550', '#C18A26', '#DB8E71', '#986DB2', '#877F6C', '#E79460', '#91B493', '#A96360', '#FC9F4D', '#B55D4C', '#897D55', '#ECB88A', '#465D4C', '#D75455', '#0F2540', '#707C74', '#5B622E', '#F7D94C', '#080808', '#64363C', '#E9A368', '#BEC23F', '#656765', '#4F726C', '#D19826', '#0C4842', '#58B2DC', '#EB7A77', '#00AA90', '#EFBB24', '#6C6A2D', '#A5DEE4', '#E3916E', '#E98B2A', '#FB966E', '#2B5F75', '#FCFAF2', '#9F353A', '#66327C', '#3A3226', '#6A8372', '#6F3381', '#985F2A', '#373C38', '#E83015', '#3F2B36', '#6E552F', '#D7B98E', '#994639', '#1B813E', '#622954', '#C1328E', '#E1A679', '#607890', '#FB9966', '#577C8A', '#BF6766', '#B1B479', '#78552B', '#DDD23B', '#616138', '#3A8FB7', '#B47157', '#CA7853', '#D7C4BB', '#9B6E23', '#74673E', '#6C6024', '#B5CAA0', '#6A4C9C', '#F7C242', '#FBE251', '#f0dddd', '#52433D', '#227D51', '#F8C3CD', '#D05A6E', '#D0104C', '#1E88A8', '#C7802D', '#7DB9DE', '#F17C67', '#787878', '#DB4D6D', '#4A593D', '#939650', '#BDC0BA', '#EEA9A9', '#CB1B45', '#72636E', '#566C73', '#8A6BBE', '#A36336', '#954A45', '#096148', '#533D5B', '#5DAC81', '#535953', '#787D7B', '#A35E47', '#82663A', '#36563C', '#B68E55', '#FFFFFB', '#0B346E', '#CB4042'],\r\n\r\n        /**撫子 rgb(220,159,180)*/\r\n        Nadesiko: '#DC9FB4',\r\n        /**紅梅 rgb(225,107,140)*/\r\n        Koubai: '#E16B8C',\r\n        /**蘇芳 rgb(142,53,74)*/\r\n        Suou: '#8E354A',\r\n        /**退紅 rgb(248,195,205)*/\r\n        Taikou: '#F8C3CD',\r\n        /**一斥染 rgb(244,167,185)*/\r\n        Ikkonzome: '#F4A7B9',\r\n        /**桑染 rgb(100,54,60)*/\r\n        Kuwazome: '#64363C',\r\n        /**桃 rgb(245,150,170)*/\r\n        Momo: '#F596AA',\r\n        /**苺 rgb(181,73,91)*/\r\n        Ichigo: '#B5495B',\r\n        /**薄紅 rgb(232,122,144)*/\r\n        Usubeni: '#E87A90',\r\n        /**今様 rgb(208,90,110)*/\r\n        Imayou: '#D05A6E',\r\n        /**中紅 rgb(219,77,109)*/\r\n        Nakabeni: '#DB4D6D',\r\n        /**桜 rgb(254,223,225)*/\r\n        Sakura: '#FEDFE1',\r\n        /**梅鼠 rgb(158,122,122)*/\r\n        Umenezumi: '#9E7A7A',\r\n        /**韓紅花 rgb(208,16,76)*/\r\n        Karakurenai: '#D0104C',\r\n        /**燕脂 rgb(159,53,58)*/\r\n        Enzi: '#9F353A',\r\n        /**紅 rgb(203,27,69)*/\r\n        Kurenai: '#CB1B45',\r\n        /**鴇 rgb(238,169,169)*/\r\n        Toki: '#EEA9A9',\r\n        /**長春 rgb(191,103,102)*/\r\n        Tyousyunn: '#BF6766',\r\n        /**深緋 rgb(134,71,63)*/\r\n        Kokiake: '#86473F',\r\n        /**桜鼠 rgb(177,150,147)*/\r\n        SakuraNezumi: '#B19693',\r\n        /**甚三紅 rgb(235,122,119)*/\r\n        Zinnzamomi: '#EB7A77',\r\n        /**小豆 rgb(149,74,69)*/\r\n        Azuki: '#954A45',\r\n        /**蘇芳香 rgb(169,99,96)*/\r\n        Suoukou: '#A96360',\r\n        /**赤紅 rgb(203,64,66)*/\r\n        Akabeni: '#CB4042',\r\n        /**真朱 rgb(171,59,58)*/\r\n        Sinnsyu: '#AB3B3A',\r\n        /**灰桜 rgb(215,196,187)*/\r\n        Haizakura: '#D7C4BB',\r\n        /**栗梅 rgb(144,72,64)*/\r\n        Kuriume: '#904840',\r\n        /**海老茶 rgb(115,67,56)*/\r\n        Ebitya: '#734338',\r\n        /**銀朱 rgb(199,62,58)*/\r\n        Ginnsyu: '#C73E3A',\r\n        /**黒鳶 rgb(85,66,54)*/\r\n        Kurotobi: '#554236',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**猩猩緋 rgb(232,48,21)*/\r\n        Syozyohi: '#E83015',\r\n        /**\r\n         */\r\n        /**金茶 rgb(199,128,45)*/\r\n        Kinntya: '#C7802D',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**山吹 rgb(255,177,27)*/\r\n        Yamabuki: '#FFB11B',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**鳥の子 rgb(218,201,166)*/\r\n        Torinoko: '#DAC9A6',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**籐黄 rgb(255,196,8)*/\r\n        Touou: '#FFC408',\r\n        /**鬱金 rgb(239,187,36)*/\r\n        Ukonn: '#EFBB24',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**苗 rgb(134,193,102)*/\r\n        Nae: '#86C166',\r\n        /**\r\n         */\r\n        /**常盤 rgb(27,129,62)*/\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        Tokiwa: '#1B813E',\r\n        /**緑 rgb(34,125,81)*/\r\n        Midori: '#227D51',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**緑青 rgb(36,147,110)*/\r\n        Rokusyou: '#24936E',\r\n        /**\r\n         */\r\n        /**水浅葱 rgb(102,186,183)*/\r\n        Mizuasagi: '#66BAB7',\r\n        /**青碧 rgb(38,135,133)*/\r\n        Seiheki: '#268785',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**水 rgb(129,199,212)*/\r\n        Mizu: '#81C7D4',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**黒橡 rgb(11,16,19)*/\r\n        Kuroturubami: '#0B1013',\r\n        /**\r\n         */\r\n        /**褐 rgb(8,25,45)*/\r\n        Kati: '#08192D',\r\n        /**瑠璃 rgb(0,92,175)*/\r\n        Ruri: '#005CAF',\r\n        /**瑠璃紺 rgb(11,52,110)*/\r\n        Rurikonn: '#0B346E',\r\n        /**红碧 rgb(123,144,210)*/\r\n        Berimidori: '#7B90D2',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**鈍 rgb(101,103,101)*/\r\n        Nibi: '#656765',\r\n        /**青鈍 rgb(83,89,83)*/\r\n        Aonibi: '#535953',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**紫苑 rgb(143,119,181)*/\r\n        Sionn: '#8F77B5',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**半 rgb(152,109,78)*/\r\n        Hasita: '#986DB2',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**躑躅 rgb(224,60,138)*/\r\n        Tutuzi: '#E03C8A',\r\n        /**胡粉 rgb(189,192,186)*/\r\n        Gohunn: '#FFFFFB',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**藍墨茶 rgb(55,60,56)*/\r\n        Aisumitya: '#373C38',\r\n        /**消炭 rgb(67,67,67)*/\r\n        Kesizumi: '#434343',\r\n        /**墨 rgb(28,28,28)*/\r\n        Sumi: '#1C1C1C',\r\n        /**黒 rgb(8,8,8)*/\r\n        Kuro: '#080808',\r\n        /**呂 rgb(12,12,12)*/\r\n        Ro: '#0C0C0C'\r\n    },\r\n}\r\n\r\n\r\nexport type ColorThemeKey = \"Caffee\" | \"NakiriAyame\";\r\n\r\nexport const ColorThemes = {\r\n    Caffee: {\r\n        // OuterBackground: '#4E3327',\r\n        OuterBackground: '#F0F0F0',\r\n        Border: '#231711',\r\n        // OuterColor: '#FEFEFE',\r\n        OuterColor: '#141414',\r\n        InnerBackground: '#FEFEFE',\r\n        InnerColor: '#FCD3AE',\r\n        Red: '#C32936',\r\n        Green: '#2E7917',\r\n        Grey: '#877977'\r\n    },\r\n    NakiriAyame: {\r\n        OuterBackground: '#FCFBFC',\r\n        Border: '#D2394A',\r\n        OuterColor: '#D2394A',\r\n        InnerBackground: '#2A282B',\r\n        InnerColor: '#FCD3AE',\r\n        Red: '#AD2138',\r\n        Green: '#52826D',\r\n        Grey: '#D3C1BE'\r\n    },\r\n    OokamiMio: {\r\n        Black: '#333130',\r\n        Red: '#FE685F'\r\n    }\r\n};\r\n\r\n\r\nexport default Color;\r\n\r\n(window as any)['Color'] = Color;\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 21:15:16 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-31 18:46:41\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport $ from \"jquery\";\r\nimport { Theme } from \"../methods/typedict\";\r\n\r\n\r\nexport interface BackgroundCanvasProps {\r\n    initTheme: Theme;\r\n};\r\n\r\nexport interface BackgroundCanvasState {\r\n    curTheme: Theme;\r\n};\r\n\r\n/**\r\n * 这个组件将作为页面的背景，\r\n * 其定位不随页面移动.\r\n * 建议在页面其他元素的最外层渲染.\r\n * \r\n * @export\r\n * @class BackgroundCanvas\r\n * @extends {Component<BackgroundCanvasProps, BackgroundCanvasState>}\r\n */\r\nexport class BackgroundCanvas extends Component<BackgroundCanvasProps, BackgroundCanvasState> {\r\n\r\n    // 背景\r\n    protected canvas: React.RefObject<HTMLCanvasElement>;\r\n    protected ctx?: CanvasRenderingContext2D;\r\n\r\n    // 鼠标\r\n    protected canvas2: React.RefObject<HTMLCanvasElement>;\r\n    protected ctx2?: CanvasRenderingContext2D;\r\n\r\n    public constructor(props: BackgroundCanvasProps) {\r\n        super(props);\r\n        this.state = {\r\n            curTheme: this.props.initTheme\r\n        };\r\n\r\n        this.canvas = React.createRef<HTMLCanvasElement>();\r\n        this.canvas2 = React.createRef<HTMLCanvasElement>();\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <>\r\n                <canvas key=\"animation\" ref={ this.canvas }\r\n                width=\"100%\" height=\"100%\" style={{\r\n                    position: \"fixed\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    zIndex: -9999\r\n                }} />\r\n                <>\r\n                    { this.props.children }\r\n                </>\r\n                <canvas key=\"cursor\" ref={ this.canvas2 }\r\n                width=\"100%\" height=\"100%\" style={{\r\n                    position: \"fixed\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    zIndex: 9999,\r\n                    pointerEvents: \"none\"\r\n                }} />\r\n            </>\r\n        );\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        // 隐藏默认指针\r\n        $(\"body\").css(\"cursor\", \"none\");\r\n        // 设定大小\r\n        this.canvas.current!.width = $(window).width()!;\r\n        this.canvas.current!.height = $(window).height()!;\r\n        this.canvas2.current!.width = $(window).width()!;\r\n        this.canvas2.current!.height = $(window).height()!;\r\n        // 获取 canvas 上下文\r\n        this.ctx = this.canvas.current!.getContext(\"2d\")!;\r\n        this.ctx2 = this.canvas2.current!.getContext(\"2d\")!;\r\n        // 绑定监听\r\n        $(window).on(\"resize\", () => {\r\n            this.canvas.current!.width = $(window).width()!;\r\n            this.canvas.current!.height = $(window).height()!;\r\n            this.canvas2.current!.width = $(window).width()!;\r\n            this.canvas2.current!.height = $(window).height()!;\r\n        });\r\n        $(\"*\").on(\"mouseover\", e => {\r\n            this.state.curTheme.mouseListener(e);\r\n        }).on(\"mouseout\", e => {\r\n            this.state.curTheme.mouseListener(e);\r\n        }).on(\"click\", e => {\r\n            this.state.curTheme.mouseListener(e);\r\n        }).on(\"mousedown\", e => {\r\n            this.state.curTheme.mouseListener(e);\r\n        }).on(\"mouseup\", e => {\r\n            this.state.curTheme.mouseListener(e);\r\n        }).on(\"mousemove\", e => {\r\n            this.state.curTheme.mouseListener(e);\r\n        }).on(\"touchstart\", e => {\r\n            this.state.curTheme.touchListener(e);\r\n        }).on(\"touchmove\", e => {\r\n            this.state.curTheme.touchListener(e);\r\n        }).on(\"touchend\", e => {\r\n            this.state.curTheme.touchListener(e);\r\n        });\r\n        // 开始渲染\r\n        this.state.curTheme.start(this.ctx!, this.ctx2!);\r\n    }\r\n\r\n    public componentWillUnmount(): void {\r\n        // 还原默认指针\r\n        $(\"body\").css(\"cursor\", \"initial\");\r\n        // 解除监听\r\n        $(window).unbind();\r\n    }\r\n\r\n    public getSnapshotBeforeUpdate(): void {\r\n        // 停止渲染\r\n        this.state.curTheme.end();\r\n    }\r\n\r\n    public componentDidUpdate(): void {\r\n        // 开始渲染\r\n        this.state.curTheme.start(this.ctx!, this.ctx2!);\r\n    }\r\n\r\n};\r\n\r\n\r\n/** 记录绘制的时间 */\r\nexport const renderingState = {\r\n    prev: (new Date()).getTime(),\r\n    setTime: (val: number) => renderingState.prev = val,\r\n    getTime: () => renderingState.prev\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 21:37:20 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-05 23:25:34\r\n */\r\n\r\nimport { Theme, Partical } from \"../methods/typedict\";\r\nimport $ from \"jquery\";\r\nimport { getSelectedElement, getStyle } from \"../methods/selection\";\r\nimport Color from \"../preference/Color\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport { renderingState } from \"./BackgroundCanvas\";\r\n\r\n\r\ninterface SnowBall {\r\n    r: number;\r\n    x: number;\r\n    y: number;\r\n    a: number;\r\n    dist: number;\r\n    prevDx: number;\r\n    prevDd: number;\r\n    active: boolean;\r\n};\r\n\r\ninterface YukiState {\r\n    items: Array<SnowBall>;\r\n    particals: Array<Partical>;\r\n    cursor?: { x: number; y: number; pressed: boolean; };\r\n};\r\n\r\n/** 主题：雪 */\r\nexport const Yuki: Theme<YukiState> = {\r\n    colortab: {\r\n        base: \"rgb(11,11,14)\",\r\n        color: \"rgb(208,213,215)\",\r\n        border: \"rgb(155,255,254)\",\r\n        background: \"rgb(154,154,155)\",\r\n        frontground: \"rgb(254,231,111)\",\r\n        frontground2: \"rgb(251,133,154)\",\r\n        frontground3: \"rgb(198,49,43)\"\r\n    },\r\n    data: {\r\n        items: [],\r\n        particals: []\r\n    },\r\n    start: (ctx: CanvasRenderingContext2D, ctx2: CanvasRenderingContext2D) => {\r\n        ctx.canvas.style.backgroundColor = \"rgb(11,11,14)\";\r\n        Yuki.data = {\r\n            items: [],\r\n            particals: [],\r\n            cursor: void 0\r\n        };\r\n        Yuki.paint(ctx, ctx2);\r\n    },\r\n    end: () => {\r\n        if (Yuki.next) {\r\n            // 清除定时器\r\n            clearTimeout(Yuki.next);\r\n            Yuki.next = void 0;\r\n        }\r\n        Yuki.data = {\r\n            items: [],\r\n            particals: [],\r\n            cursor: void 0\r\n        };\r\n    },\r\n    paint: (ctx: CanvasRenderingContext2D, ctx2: CanvasRenderingContext2D) => {\r\n        /** 到下一帧的间隔毫秒数 */\r\n        const span: number = 1000 / Shared.animationFPS;\r\n        /** 绘制的时间 */\r\n        const time: number = (new Date()).getTime();\r\n        const realSpan: number = time - renderingState.getTime();\r\n        Shared.realFPS = Math.round(\r\n            1000 / realSpan\r\n        );\r\n        renderingState.setTime(time);\r\n\r\n        if (Shared.autoFPS) {\r\n            const ita: number = 0.1 / Shared.animationFPS;\r\n            const u: number = (realSpan - span) / span;\r\n            if (u <= 0.67) {\r\n                Shared.animationFPS += 50 * (1.67 - u) / Shared.animationFPS;\r\n            }\r\n            Shared.animationFPS = Math.max(\r\n                10, Math.min(\r\n                    120, Math.floor(\r\n                        (\r\n                            Shared.animationFPS * (\r\n                                1 - ita\r\n                            )\r\n                        ) + (\r\n                            Shared.realFPS * 2\r\n                        ) * ita\r\n                    )\r\n                )\r\n            );\r\n        }\r\n\r\n        const width: number = ctx.canvas.width;\r\n        const height: number = ctx.canvas.height;\r\n        const max: number = Math.sqrt(width * height) / 16;\r\n\r\n        // 绘制和更新\r\n        ctx.fillStyle = Yuki.colortab.base;\r\n        ctx.fillRect(0, 0, width, height);\r\n        ctx2.clearRect(0, 0, width, height);\r\n\r\n        let nextList: Array<SnowBall> = [];\r\n        let nextParticals: Array<Partical> = [];\r\n\r\n        Yuki.data.items.forEach(item => {\r\n            const r: number = item.r * item.dist;\r\n            if (r <= 0) {\r\n                // 消失\r\n                const r: number = 0.23 * max;\r\n                const gradient: CanvasGradient = ctx.createRadialGradient(\r\n                    item.x, item.y, r * 0.6, item.x, item.y, r\r\n                );\r\n                gradient.addColorStop(0, `rgba(212,215,217,${ item.a })`);\r\n                gradient.addColorStop(0.6, `rgba(181,183,184,${ item.a * 0.6 })`);\r\n                gradient.addColorStop(1, `rgba(72,73,74,${ item.a * 0.1 })`);\r\n                ctx.fillStyle = gradient;\r\n                ctx.beginPath();\r\n                ctx.moveTo(item.x, item.y - r);\r\n                ctx.lineTo(item.x + r / 25, item.y - r / 25);\r\n                ctx.lineTo(item.x + r, item.y);\r\n                ctx.lineTo(item.x + r / 25, item.y + r / 25);\r\n                ctx.lineTo(item.x, item.y + r);\r\n                ctx.lineTo(item.x - r / 25, item.y + r / 25);\r\n                ctx.lineTo(item.x - r, item.y);\r\n                ctx.lineTo(item.x - r / 25, item.y - r / 25);\r\n                ctx.lineTo(item.x, item.y - r);\r\n                ctx.fill();\r\n                ctx.closePath();\r\n                return;\r\n            }\r\n\r\n            const gradient: CanvasGradient = ctx.createRadialGradient(\r\n                item.x, item.y, r * 0.3, item.x, item.y, r\r\n            );\r\n            gradient.addColorStop(0, `rgba(212,215,217,${ item.a })`);\r\n            gradient.addColorStop(0.6, `rgba(181,183,184,${ item.a * 0.6 })`);\r\n            gradient.addColorStop(1, `rgba(72,73,74,${ item.a * 0.1 })`);\r\n            ctx.fillStyle = gradient;\r\n            ctx.beginPath();\r\n            ctx.arc(item.x, item.y, r, 0, 2 * Math.PI);\r\n            ctx.fill();\r\n            ctx.closePath();\r\n\r\n            // 移动\r\n            let dx: number = (\r\n                (Math.random() - 0.5) * width / 36\r\n            ) / Shared.animationFPS;\r\n            let ri: number = Math.pow(dx, 2) / Math.pow(\r\n                Math.abs(dx) + Math.abs(\r\n                    item.prevDx * Shared.animationFPS / 2\r\n                ), 2\r\n            );\r\n            dx = ri * dx + (1 - ri) * item.prevDx;\r\n            item.x += dx * (1 - item.dist);\r\n            item.prevDx = dx;\r\n            item.y += (\r\n                1 + 4 * r / Shared.animationFPS\r\n            ) * height / 1600 * (1 + item.y / height * 0.4);\r\n            if (item.y - r <= height) {\r\n                // 留下来\r\n                let dd: number = (Math.random() - 0.5) * 0.005;\r\n                let ri: number = Math.pow(dd, 2) / Math.pow(\r\n                    Math.abs(dd) + Math.abs(\r\n                        item.prevDd * Shared.animationFPS / 2\r\n                    ), 2\r\n                );\r\n                dd = ri * dd + (1 - ri) * item.prevDd;\r\n                item.dist += dd;\r\n                item.prevDd = dd;\r\n                const a: number = Math.min(1, 1 - 0.2 * item.dist);\r\n                if (item.a < a) {\r\n                    item.a += Math.random() * 0.16 / Shared.animationFPS;\r\n                }\r\n                item.a = Math.min(item.a, a);\r\n                nextList.push(item);\r\n            }\r\n        });\r\n\r\n        if (Shared.particalEffects) {\r\n            Yuki.data.particals.forEach(p => {\r\n                if (typeof p.color === \"string\") {\r\n                    ctx2.fillStyle = p.color;\r\n                    ctx2.globalAlpha = p.animation.opacity(p.ms) * Shared.particalOpacity;\r\n                } else {\r\n                    ctx2.globalAlpha = Shared.particalOpacity;\r\n                    ctx2.fillStyle = `rgba(${ p.color.r },${ p.color.g },${ p.color.b },${\r\n                        p.animation.opacity(p.ms)\r\n                    })`;\r\n                }\r\n                ctx2.fillRect(\r\n                    p.animation.x(p.ms),\r\n                    p.animation.y(p.ms),\r\n                    p.animation.size(p.ms),\r\n                    p.animation.size(p.ms)\r\n                );\r\n    \r\n                p.ms += span;\r\n                if (p.animation.opacity(p.ms) > 0) {\r\n                    // 还未结束\r\n                    nextParticals.push(p);\r\n                }\r\n            });\r\n        }\r\n\r\n        // 鼠标指针\r\n        if (Yuki.data.cursor) {\r\n            ctx2.globalAlpha = 1;\r\n            ctx2.strokeStyle = \"rgb(8,36,76)\";\r\n            ctx2.lineWidth = 3;\r\n            ctx2.beginPath();\r\n            ctx2.moveTo(Yuki.data.cursor.x + 1, Yuki.data.cursor.y + 1);\r\n            ctx2.lineTo(Yuki.data.cursor.x + 17, Yuki.data.cursor.y + 17);\r\n            ctx2.lineTo(Yuki.data.cursor.x + 7, Yuki.data.cursor.y + 23);\r\n            ctx2.lineTo(Yuki.data.cursor.x + 1, Yuki.data.cursor.y + 1);\r\n            ctx2.stroke();\r\n            if (Shared.cursorState === \"normal\") {\r\n                ctx2.strokeStyle = \"rgb(23,126,209)\";\r\n                ctx2.lineWidth = 1;\r\n                ctx2.beginPath();\r\n                ctx2.moveTo(Yuki.data.cursor.x, Yuki.data.cursor.y);\r\n                ctx2.lineTo(Yuki.data.cursor.x + 16, Yuki.data.cursor.y + 16);\r\n                ctx2.lineTo(Yuki.data.cursor.x + 6, Yuki.data.cursor.y + 22);\r\n                ctx2.lineTo(Yuki.data.cursor.x, Yuki.data.cursor.y);\r\n                ctx2.stroke();\r\n            } else if (Shared.cursorState === \"pointer\") {\r\n                ctx2.strokeStyle = \"rgb(23,126,209)\";\r\n                ctx2.fillStyle = `rgba(136,220,254,${\r\n                    Math.abs(\r\n                        (new Date()).getTime() % 2000 - 1000\r\n                    ) % 1000 / 1000\r\n                })`;\r\n                ctx2.lineWidth = 1;\r\n                ctx2.beginPath();\r\n                ctx2.moveTo(Yuki.data.cursor.x, Yuki.data.cursor.y);\r\n                ctx2.lineTo(Yuki.data.cursor.x + 16, Yuki.data.cursor.y + 16);\r\n                ctx2.lineTo(Yuki.data.cursor.x + 6, Yuki.data.cursor.y + 22);\r\n                ctx2.lineTo(Yuki.data.cursor.x, Yuki.data.cursor.y);\r\n                ctx2.fill();\r\n                ctx2.stroke();\r\n            }\r\n        }\r\n\r\n        // 下一帧状态\r\n        Yuki.data.items = [...nextList];\r\n        Yuki.data.particals = [...nextParticals];\r\n        /** 再生成一个光球的概率指数 */\r\n        let possibility: number = (\r\n            max - Yuki.data.items.length\r\n        ) / max * 3 / Shared.animationFPS;\r\n\r\n        while (possibility > 0) {\r\n            possibility -= Math.random();\r\n\r\n            if (possibility > 0) {\r\n                Yuki.data.items.push({\r\n                    x: Math.random() * width,\r\n                    y: Math.random() * height * 0.2,\r\n                    r: (Math.random() * 0.25 + 0.09) * max,\r\n                    a: Math.random() * 0.03 + 0.02,\r\n                    dist: 0.7 - Math.random() * Math.random() * 0.3,\r\n                    prevDx: 0,\r\n                    prevDd: 0,\r\n                    active: true\r\n                });\r\n            }\r\n        }\r\n        \r\n        // 更新定时器\r\n        Yuki.next = setTimeout(() => {\r\n            Yuki.paint(ctx, ctx2);\r\n        }, span);\r\n    },\r\n    mouseListener: (e: JQuery.MouseEventBase) => {\r\n        if (e.type === \"mouseout\") {\r\n            Yuki.data.cursor = {\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                pressed: Yuki.data.cursor?.pressed || false\r\n            };\r\n        } else if (e.type === \"mouseover\" || e.type === \"mousemove\") {\r\n            Yuki.data.cursor = {\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                pressed: Yuki.data.cursor?.pressed || false\r\n            };\r\n        } else if (e.type === \"mousedown\") {\r\n            Yuki.data.cursor = {\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                pressed: true\r\n            };\r\n        } else if (e.type === \"mouseup\") {\r\n            Yuki.data.cursor = {\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                pressed: false\r\n            };\r\n        }\r\n        if (Yuki.data.cursor?.pressed) {\r\n            // 粒子效果\r\n            if (Shared.particalEffects) {\r\n                const x: number = e.clientX;\r\n                const y: number = e.clientY;\r\n                const color: string = Color.interpolate(\r\n                    `rgb(63,192,252)`,\r\n                    `rgb(193,62,69)`,\r\n                    (Math.random() * 0.2 + 0.8) * Math.min(\r\n                        1, Yuki.data.particals.length / 2400\r\n                    )\r\n                );\r\n                // 根据被选择的元素变更颜色\r\n                const selection: HTMLElement | null = getSelectedElement();\r\n                let color2: string = `rgb(63,192,252)`;\r\n                if (selection && (\r\n                    // 这里直接赋值给 color2，判断是否为空串\r\n                    color2 = (\r\n                        selection.nodeName === \"text\"\r\n                        || selection.nodeName === \"tspan\"\r\n                    ) ? getStyle(selection, \"fill\")\r\n                    : getStyle(selection, \"color\")\r\n                )) {\r\n                    // 操作已在 if 条件中完成\r\n                } else {\r\n                    color2 = color;\r\n                }\r\n                const lightness: number = Color.toHsl(color).l * 0.9;\r\n                const lightness2: number = Color.toHsl(color2).l * 0.9;\r\n    \r\n                for (let i: number = 0; i < (\r\n                    Shared.particalEffects === 1 ? 2\r\n                        : Shared.particalEffects === 2 ? 6\r\n                            : 10\r\n                ); i++) {\r\n                    /** x 方向运动速度(每秒移动距离) */\r\n                    let sx: number = (Math.random() * 2 - 1) * 120;\r\n                    sx += (sx > 0 ? 1 : -1) * 24 * Math.random();\r\n                    /** y 方向初始运动速度(每秒移动距离) */\r\n                    const sy: number = 0 - Math.random() * Math.random() * 256 - 128;\r\n    \r\n                    /** 颜色 */\r\n                    const c: string = Math.random() < 0.8 ? color : color2;\r\n                    const l: number = c === color ? lightness : lightness2;\r\n    \r\n                    Yuki.data.particals.push({\r\n                        color: c === color ? Color.getRgba(\r\n                            Color.setLightness(\r\n                                c,\r\n                                l + (1 - l) * Math.random() * 0.6\r\n                            )\r\n                        ) : c,\r\n                        animation: {\r\n                            x: ms => x + sx * ms / 1000,\r\n                            y: ms => y + sy * ms / 1000 + ms * ms / 1200,\r\n                            opacity: ms => 1 - 0.6 * ms / 400,\r\n                            size: ms => 6 - 1.5 * ms / 400\r\n                        },\r\n                        life: 400,\r\n                        ms: 0\r\n                    });\r\n                }\r\n                for (let i: number = 0; i < (\r\n                    Shared.particalEffects === 1 ? 3\r\n                        : Shared.particalEffects === 2 ? 9\r\n                            : 14\r\n                ); i++) {\r\n                    /** x 方向运动速度(每秒移动距离) */\r\n                    let sx: number = (Math.random() * 2 - 1) * 140;\r\n                    sx += (sx > 0 ? 1 : -1) * 28 * Math.random();\r\n                    /** y 方向初始运动速度(每秒移动距离) */\r\n                    const sy: number = 0 - Math.random() * Math.random() * 282 - 141;\r\n                    \r\n                    /** 颜色 */\r\n                    const c: string = Math.random() < 0.8 ? color : color2;\r\n                    const l: number = c === color ? lightness : lightness2;\r\n    \r\n                    Yuki.data.particals.push({\r\n                        color: c.startsWith(\"rgb\") ? Color.getRgba(\r\n                            Color.setLightness(\r\n                                c,\r\n                                l * 0.6 + (1 - l * 0.6) * Math.random() * 0.5\r\n                            )\r\n                        ) : c,\r\n                        animation: {\r\n                            x: ms => x + sx * ms / 1000,\r\n                            y: ms => y + sy * ms / 1000 + ms * ms / 2000,\r\n                            opacity: ms => 1 - 0.6 * ms / 400,\r\n                            size: ms => 4 - 1 * ms / 400\r\n                        },\r\n                        life: 400,\r\n                        ms: 0\r\n                    });\r\n                }\r\n            }\r\n\r\n            // 元素交互\r\n            for (let i: number = 0; i < Yuki.data.items.length; i++) {\r\n                if (!Yuki.data.items[i].active) {\r\n                    continue;\r\n                }\r\n                const d2: number = Math.pow(\r\n                    Yuki.data.items[i].x - e.clientX, 2\r\n                ) + Math.pow(\r\n                    Yuki.data.items[i].y - e.clientY, 2\r\n                );\r\n                if (d2 <= Math.pow(Yuki.data.items[i].r, 2)) {\r\n                    const item: SnowBall = Yuki.data.items[i];\r\n                    // 防抖\r\n                    item.active = false;\r\n                    setTimeout(() => {\r\n                        if (item) {\r\n                            item.active = true;\r\n                        }\r\n                    }, 2000);\r\n                    for (let t: number = 0; t < 2600; t += Math.floor(\r\n                        1000 / Shared.animationFPS\r\n                    )) {\r\n                        setTimeout(() => {\r\n                            if (item) {\r\n                                item.y -= (\r\n                                    1 + 4 * item.r * item.dist / Shared.animationFPS\r\n                                ) * Math.sqrt(2600 - t) * $(window).height()! / 40000;\r\n                            }\r\n                        }, t);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    touchListener: (e: JQuery.TouchEventBase) => {\r\n        Yuki.data.cursor = void 0;\r\n        if (e.touches.length) {\r\n            for (let j: number = 0; j < e.touches.length; j++) {\r\n                // 粒子效果\r\n                if (Shared.particalEffects) {\r\n                    const x: number = e.touches[j].clientX;\r\n                    const y: number = e.touches[j].clientY;\r\n                    for (let i: number = 0; i < (\r\n                        Shared.particalEffects === 1 ? 2\r\n                            : Shared.particalEffects === 2 ? 5\r\n                                : 8\r\n                    ); i++) {\r\n                        /** x 方向运动速度(每秒移动距离) */\r\n                        let sx: number = (Math.random() * 2 - 1) * 100;\r\n                        sx += (sx > 0 ? 1 : -1) * 20 * Math.random();\r\n                        /** y 方向初始运动速度(每秒移动距离) */\r\n                        const sy: number = 0 - Math.random() * Math.random() * 256 - 128;\r\n        \r\n                        Yuki.data.particals.push({\r\n                            color: {\r\n                                r: 63,\r\n                                g: 192 + Math.floor(Math.random() * 30),\r\n                                b: 252\r\n                            },\r\n                            animation: {\r\n                                x: ms => x + sx * ms / 1000,\r\n                                y: ms => y + sy * ms / 1000 + ms * ms / 1600,\r\n                                opacity: ms => 1 - 0.4 * ms / 400,\r\n                                size: ms => 6 - 1.5 * ms / 400\r\n                            },\r\n                            life: 400,\r\n                            ms: 0\r\n                        });\r\n                    }\r\n                    for (let i: number = 0; i < (\r\n                        Shared.particalEffects === 1 ? 3\r\n                            : Shared.particalEffects === 2 ? 7\r\n                                : 10\r\n                    ); i++) {\r\n                        /** x 方向运动速度(每秒移动距离) */\r\n                        let sx: number = (Math.random() * 2 - 1) * 120;\r\n                        sx += (sx > 0 ? 1 : -1) * 24 * Math.random();\r\n                        /** y 方向初始运动速度(每秒移动距离) */\r\n                        const sy: number = 0 - Math.random() * Math.random() * 282 - 141;\r\n        \r\n                        Yuki.data.particals.push({\r\n                            color: {\r\n                                r: 63,\r\n                                g: 172 + Math.floor(Math.random() * 40),\r\n                                b: 252\r\n                            },\r\n                            animation: {\r\n                                x: ms => x + sx * ms / 1000,\r\n                                y: ms => y + sy * ms / 1000 + ms * ms / 1200,\r\n                                opacity: ms => 1 - 0.6 * ms / 400,\r\n                                size: ms => 4 - 1 * ms / 400\r\n                            },\r\n                            life: 400,\r\n                            ms: 0\r\n                        });\r\n                    }\r\n                }\r\n                \r\n                // 元素交互\r\n                for (let i: number = 0; i < Yuki.data.items.length; i++) {\r\n                    if (!Yuki.data.items[i].active) {\r\n                        continue;\r\n                    }\r\n                    const d2: number = Math.pow(\r\n                        Yuki.data.items[i].x - e.touches[j].clientX, 2\r\n                    ) + Math.pow(\r\n                        Yuki.data.items[i].y - e.touches[j].clientY, 2\r\n                    );\r\n                    if (d2 <= Math.pow(Yuki.data.items[i].r, 2) + 11) {\r\n                        const item: SnowBall = Yuki.data.items[i];\r\n                        // 防抖\r\n                        item.active = false;\r\n                        setTimeout(() => {\r\n                            if (item) {\r\n                                item.active = true;\r\n                            }\r\n                        }, 2000);\r\n                        for (let t: number = 0; t < 2600; t += Math.floor(\r\n                            1000 / Shared.animationFPS\r\n                        )) {\r\n                            setTimeout(() => {\r\n                                if (item) {\r\n                                    item.y -= (\r\n                                        1 + 4 * item.r * item.dist / Shared.animationFPS\r\n                                    ) * Math.sqrt(2600 - t) * $(window).height()! / 40000;\r\n                                }\r\n                            }, t);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-29 00:17:10 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-31 19:05:28\r\n */\r\n\r\nimport { Theme } from \"./typedict\";\r\nimport { Yuki } from \"../themes/Yuki\";\r\n\r\nexport interface SharedItem {\r\n    theme: Theme;\r\n    cursorState: \"normal\" | \"pointer\";\r\n    animationFPS: number;\r\n    realFPS: number;\r\n    autoFPS: boolean;\r\n    particalEffects: 0 | 1 | 2 | 3;\r\n    particalOpacity: number;\r\n};\r\n\r\nexport let Shared: SharedItem = {\r\n    theme: Yuki,\r\n    cursorState: \"normal\",\r\n    animationFPS: 60,\r\n    realFPS: 60,\r\n    autoFPS: true,\r\n    particalEffects: 2,\r\n    particalOpacity: 0.8\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-29 21:17:55 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-30 23:23:26\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport { HashRouter, Link } from \"react-router-dom\";\r\nimport { Shared } from \"../methods/globals\";\r\n\r\n\r\nexport class SettingsButton extends Component<{}, {}> {\r\n\r\n    public constructor(props: {}) {\r\n        super(props);\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div style={{\r\n                position: \"absolute\",\r\n                right: \"12px\",\r\n                top: \"12px\",\r\n                pointerEvents: \"none\"\r\n            }} >\r\n                <HashRouter>\r\n                    <Link to=\"/settings\" >\r\n                        <svg width=\"40px\" height=\"40px\"\r\n                        style={{\r\n                            scale: \"144%\"\r\n                        }} >\r\n                            <path d={\r\n                                \"M32,22 A16.5,16.5,0,0,0,32,18 L29,18 A13.5,13.5,0,0,0,28,15\"\r\n                                + \" L30,13 A16.5,16.5,0,0,0,27,10 L25,12 A13.5,13.5,0,0,0,22,11\"\r\n                                + \" L22,8 A16.5,16.5,0,0,0,18,8 L18,11 A13.5,13.5,0,0,0,15,12\"\r\n                                + \" L13,10 A16.5,16.5,0,0,0,10,13 L12,15 A13.5,13.5,0,0,0,11,18\"\r\n                                + \" L8,18 A16.5,16.5,0,0,0,8,22 L11,22 A13.5,13.5,0,0,0,12,25\"\r\n                                + \" L10,27 A16.5,16.5,0,0,0,13,30 L15,28 A13.5,13.5,0,0,0,18,29\"\r\n                                + \" L18,32 A16.5,16.5,0,0,0,22,32 L22,29 A13.5,13.5,0,0,0,25,28\"\r\n                                + \" L27,30 A16.5,16.5,0,0,0,30,27 L28,25 A13.5,13.5,0,0,0,29,22\"\r\n                            }\r\n                            style={{\r\n                                fill: Shared.theme.colortab.frontground2,\r\n                                pointerEvents: \"all\",\r\n                                cursor: \"none\"\r\n                            }}\r\n                            onMouseOver={\r\n                                () => {\r\n                                    Shared.cursorState = \"pointer\";\r\n                                }\r\n                            }\r\n                            onMouseOut={\r\n                                () => {\r\n                                    Shared.cursorState = \"normal\";\r\n                                }\r\n                            } />\r\n                            <circle\r\n                            cx={ 20 } cy={ 20 } r={ 5.6 }\r\n                            style={{\r\n                                fill: Shared.theme.colortab.frontground\r\n                            }} />\r\n                        </svg>\r\n                    </Link>\r\n                </HashRouter>\r\n            </div>\r\n        );\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-09-01 03:44:39 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-01 03:53:52\r\n */\r\n\r\nimport $ from \"jquery\";\r\nimport { debounced } from \"./decorator\";\r\n\r\n\r\nexport const toast: () => void | null = debounced((text: string) => {\r\n    const t = document.createElement(\"div\");\r\n    t.style.wordBreak = \"break-all\";\r\n    t.style.display = \"inline-block\";\r\n    t.style.position = \"absolute\";\r\n    t.style.top = \"18vh\";\r\n    t.style.left = \"32vw\";\r\n    t.style.width = \"36vw\";\r\n    t.style.textAlign = \"center\";\r\n    t.style.backgroundColor = \"rgb(22,22,22)\";\r\n    t.style.color = \"rgb(244,255,226)\";\r\n    t.style.padding = \"3vh 3vw\";\r\n    t.style.opacity = \"0.8\";\r\n    t.innerText = text;\r\n    document.body.appendChild(t);\r\n    \r\n    $(t).animate({\r\n        top: \"14vh\"\r\n    }, 800);\r\n\r\n    setTimeout(() => {\r\n        $(t).fadeOut(600);\r\n    }, 800);\r\n});\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-31 01:55:36 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-31 02:27:02\r\n */\r\n\r\n/**\r\n * 获取一个函数的防抖引用.\r\n *\r\n * @template RT 原函数返回值\r\n * @param {(...args: Array<any>) => RT} f 原函数\r\n * @param {number} [span=200] 无效化间隔\r\n * @returns {(() => RT | null)}\r\n */\r\nexport const debounced = <RT>(\r\n    f: (...args: Array<any>) => RT, span: number = 200\r\n): () => RT | null => {\r\n    let flag: boolean = true;\r\n\r\n    return function () {\r\n        if (flag) {\r\n            flag = false;\r\n            setTimeout(() => {\r\n                flag = true;\r\n            }, span);\r\n            return f.apply({}, arguments as any);\r\n        }\r\n        return null;\r\n    };\r\n};\r\n\r\n/**\r\n * 获取一个函数的防抖异步引用，\r\n * 当这个函数被连续触发时，只有最后一次生效.\r\n *\r\n * @template RT 原函数返回值\r\n * @param {() => RT} f 原函数\r\n * @param {number} [span=200] 无效化间隔\r\n * @returns {Promise<() => Promise<RT | null>>}\r\n */\r\nexport const lastCalled = async <RT>(\r\n    f: () => RT, span: number = 200\r\n): Promise<() => Promise<RT | null>> => {\r\n    let curId: number = 0;\r\n\r\n    return async () => {\r\n        curId = (curId + 1) % 1e6;\r\n        const id: number = curId;\r\n        const p: Promise<RT | null> = new Promise<RT | null>((resolve, reject) => {\r\n            setTimeout(() => {\r\n                if (id !== curId) {\r\n                    resolve(null);\r\n                }\r\n                try {\r\n                    resolve(f());\r\n                } catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, span);\r\n        });\r\n        return await p;\r\n    };\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-09-01 03:44:26 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-01 03:51:31\r\n */\r\n\r\nimport { toast } from \"./toast\";\r\n\r\n\r\nconst clip = document.createElement(\"div\");\r\n\r\nwindow.onload = () => {\r\n    clip.style.width = \"0\";\r\n    clip.style.height = \"0\";\r\n    clip.style.overflow = \"hidden\";\r\n    clip.style.userSelect = \"unset\";\r\n    document.body.appendChild(clip);\r\n};\r\n\r\nexport const execCopy = (text: string) => {\r\n    clip.innerText = text;\r\n\r\n    const selection = window.getSelection()!;\r\n    selection.removeAllRanges();\r\n\r\n    const range = document.createRange();\r\n    range.selectNodeContents(clip);\r\n\r\n    selection.addRange(range);\r\n\r\n    document.execCommand('copy');\r\n\r\n    selection.removeAllRanges();\r\n\r\n    (toast as any).call(\r\n        {},\r\n        `Copied successfully: \\n\\n\"${ text }\"`\r\n    );\r\n};\r\n\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-09-01 01:28:18 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-05 15:25:20\r\n */\r\n\r\nimport React from \"react\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport Color from \"../preference/Color\";\r\nimport { execCopy } from \"../methods/copy\";\r\n\r\n\r\nexport const InfoView = (): JSX.Element => {\r\n    return (\r\n        <div style={{\r\n            color: Shared.theme.colortab.color,\r\n            background: 'rgba(0, 0, 0, 0) url(\"./images/home.png\") no-repeat scroll 22% 0% / cover',\r\n            margin: \"calc(10px + 8vh) calc(20px + 8vw) calc(10px + 3vh)\",\r\n            minHeight: \"calc(12vw - 10px)\",\r\n            padding: \"calc(-20px + 3vh) calc(6px + 1.5vw) calc(-20px + 3vh) 28%\",\r\n            fontSize: \"calc(8px + 0.6vmax)\",\r\n            border: `1px solid ${ Shared.theme.colortab.border }`,\r\n            boxShadow: `6px 5px 0 1px ${\r\n                Shared.theme.colortab.border.replace(\r\n                    \"(\", \"a(\"\r\n                ).replace(\r\n                    \")\", \",0.1)\"\r\n                )\r\n            }`\r\n        }} >\r\n            <div key=\"name\" style={{\r\n                maxWidth: \"36vw\",\r\n                fontSize: \"calc(10px + 1vmax)\",\r\n                margin: \"1em auto 0.6em\"\r\n            }} >\r\n                <label key=\"1\" style={{\r\n                    display: \"inline-block\",\r\n                    margin: \"0 auto\",\r\n                    cursor: \"none\"\r\n                }} >\r\n                    { `Zhendong Yang` }\r\n                </label>\r\n                <label key=\"2\" style={{\r\n                    display: \"inline-block\",\r\n                    margin: \"0 auto\",\r\n                    padding: \"0 0.5em\",\r\n                    cursor: \"none\",\r\n                    opacity: 0.9,\r\n                    fontSize: \"90%\"\r\n                }} >\r\n                    { `(Kanata You)` }\r\n                </label>\r\n            </div>\r\n            <label key=\"prof\" style={{\r\n                display: \"inline-block\",\r\n                padding: \"0.1em 0.6em\",\r\n                margin: \"0.2em auto\",\r\n                cursor: \"none\",\r\n                color: Color.setLightness(\r\n                    Shared.theme.colortab.color, 0.1\r\n                ),\r\n                backgroundColor: Color.setLightness(\r\n                    Shared.theme.colortab.color, 0.8\r\n                ).replace(\r\n                    \"(\", \"a(\"\r\n                ).replace(\r\n                    \")\", \",0.3)\"\r\n                )\r\n            }} >\r\n                { `Student, China` }\r\n            </label>\r\n            <label key=\"belong\" style={{\r\n                display: \"inline-block\",\r\n                fontSize: \"90%\",\r\n                padding: \"0.3em 0.6em\",\r\n                margin: \"0.2em auto 6vh\",\r\n                cursor: \"none\",\r\n                color: Color.setLightness(\r\n                    Shared.theme.colortab.color, 0.1\r\n                ),\r\n                backgroundColor: Color.setLightness(\r\n                    Shared.theme.colortab.color, 0.8\r\n                ).replace(\r\n                    \"(\", \"a(\"\r\n                ).replace(\r\n                    \")\", \",0.3)\"\r\n                )\r\n            }} >\r\n                School of Information Management and Artifitial Intelligence,\r\n                Zhejiang University of Finance and Economics\r\n            </label>\r\n            <label key=\"contact\" style={{\r\n                display: \"inline-block\",\r\n                padding: \"0.3em 0.6em 0.1em\",\r\n                margin: \"0.2em auto 0\",\r\n                cursor: \"none\",\r\n                fontSize: \"calc(12px + 0.4vmax)\",\r\n                color: Shared.theme.colortab.frontground\r\n            }} >\r\n                Contact Info\r\n            </label>\r\n            <div key=\"links\" style={{\r\n                margin: \"1vh auto calc(4vh - 12px)\",\r\n                padding: \"0.4vh 2vw 0.4vh\",\r\n                display: \"flex\",\r\n                border: \"1px solid \" + Shared.theme.colortab.frontground3\r\n            }} >\r\n                <div key=\"github\"\r\n                style={{\r\n                    margin: \"0 calc(1vw - 4px) 0 auto\",\r\n                    padding: \"0 2px\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\"\r\n                }}\r\n                onMouseEnter={\r\n                    () => {\r\n                        Shared.cursorState = \"pointer\";\r\n                    }\r\n                }\r\n                onMouseLeave={\r\n                    () => {\r\n                        Shared.cursorState = \"normal\";\r\n                    }\r\n                } >\r\n                    <a href=\"https://github.com/AntoineYANG\" target=\"new\"\r\n                    style={{\r\n                        cursor: \"none\"\r\n                    }} >\r\n                        <svg height=\"28\" width=\"28\" viewBox=\"0 0 16 16\" version=\"1.1\"\r\n                        aria-hidden=\"true\"\r\n                        style={{\r\n                            transform: \"translateY(1.2px)\"\r\n                        }} >\r\n                            <path fillRule=\"evenodd\"\r\n                            d={\r\n                                \"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-\"\r\n                                + \".17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-\"\r\n                                + \".94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-\"\r\n                                + \".01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.8\"\r\n                                + \"7.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.\"\r\n                                + \"15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.3\"\r\n                                + \"2-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82\"\r\n                                + \".44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.8\"\r\n                                + \"7 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01\"\r\n                                + \" 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"\r\n                            }\r\n                            style={{\r\n                                fill: Shared.theme.colortab.frontground2,\r\n                                pointerEvents: \"none\"\r\n                            }} />\r\n                        </svg>\r\n                    </a>\r\n                </div>\r\n                <div key=\"npm\"\r\n                style={{\r\n                    margin: \"0 calc(1vw - 4px)\",\r\n                    padding: \"0 2px\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\"\r\n                }}\r\n                onMouseEnter={\r\n                    () => {\r\n                        Shared.cursorState = \"pointer\";\r\n                    }\r\n                }\r\n                onMouseLeave={\r\n                    () => {\r\n                        Shared.cursorState = \"normal\";\r\n                    }\r\n                } >\r\n                    <a href=\"https://www.npmjs.com/~kanatayou\" target=\"new\"\r\n                    style={{\r\n                        cursor: \"none\"\r\n                    }} >\r\n                        <svg height=\"28\" width=\"28\" viewBox=\"0 0 780 250\">\r\n                            <path d={\r\n                                \"M240,250h100v-50h100V0H240V250z M340,50h50v100h-50V50z \"\r\n                                + \"M480,0v200h100V50h50v150h50V50h50v150h50V0H480z \"\r\n                                + \"M0,200h100V50h50v150h50V0H0V200z\"\r\n                            }\r\n                            style={{\r\n                                fill: Shared.theme.colortab.frontground2\r\n                            }} />\r\n                        </svg>\r\n                    </a>\r\n                </div>\r\n                <div key=\"mail\" title=\"Click to copy\"\r\n                style={{\r\n                    margin: \"0 calc(1vw - 4px)\",\r\n                    padding: \"0 2px\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\"\r\n                }}\r\n                onMouseEnter={\r\n                    () => {\r\n                        Shared.cursorState = \"pointer\";\r\n                    }\r\n                }\r\n                onMouseLeave={\r\n                    () => {\r\n                        Shared.cursorState = \"normal\";\r\n                    }\r\n                } >\r\n                    <svg height=\"28\" width=\"28\" version=\"1.1\"\r\n                    aria-hidden=\"true\"\r\n                    style={{\r\n                        transform: \"translateY(1.2px)\"\r\n                    }}\r\n                    onClick={\r\n                        () => {\r\n                            execCopy(\"antoineyang99@gmail.com\");\r\n                        }\r\n                    } >\r\n                        <rect\r\n                        x={ 2 } y={ 5 } width={ 24 } height={ 18 }\r\n                        style={{\r\n                            fill: Shared.theme.colortab.color,\r\n                            pointerEvents: \"none\"\r\n                        }} />\r\n                        <path\r\n                        d=\"M3,23 L3,6 L14,14 L25,6 L25,23\"\r\n                        style={{\r\n                            fill: \"none\",\r\n                            stroke: Shared.theme.colortab.frontground2,\r\n                            strokeWidth: 2,\r\n                            pointerEvents: \"none\"\r\n                        }} /> />\r\n                    </svg>\r\n                </div>\r\n                <div key=\"zhihu\"\r\n                style={{\r\n                    margin: \"0 auto 0 calc(1vw - 4px)\",\r\n                    padding: \"0 2px\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\"\r\n                }}\r\n                onMouseEnter={\r\n                    () => {\r\n                        Shared.cursorState = \"pointer\";\r\n                    }\r\n                }\r\n                onMouseLeave={\r\n                    () => {\r\n                        Shared.cursorState = \"normal\";\r\n                    }\r\n                } >\r\n                    <a href=\"https://www.zhihu.com/people/bu-yuan-86-22\" target=\"new\"\r\n                    style={{\r\n                        cursor: \"none\"\r\n                    }} >\r\n                        <img src=\"./images/zhihu.jpeg\" alt=\"知乎\" width=\"28\" height=\"28\"\r\n                        onDragStart={ e => e.preventDefault() }\r\n                        style={{\r\n                            transform: \"translateY(1.6px)\"\r\n                        }} />\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-30 22:42:24 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-01 23:07:25\r\n */\r\n\r\nimport React from \"react\";\r\nimport { HashRouter, Link } from \"react-router-dom\";\r\nimport { Shared } from \"../methods/globals\";\r\n\r\n\r\nexport interface HomeButtonProps {\r\n    active: boolean;\r\n};\r\n\r\nexport const HomeButton = (props: HomeButtonProps): JSX.Element => {\r\n    const svg: JSX.Element = (\r\n        <svg width=\"40px\" height=\"40px\"\r\n        style={{\r\n            scale: \"144%\"\r\n        }} >\r\n            <rect key=\"0\"\r\n            x={ 20 } y={ 20 } width={ 20 } height={ 20 }\r\n            style={{\r\n                fill: Shared.theme.colortab.frontground,\r\n                stroke: Shared.theme.colortab.background,\r\n                pointerEvents: \"all\",\r\n                cursor: \"none\",\r\n                transform: \"rotate(18deg) translate(-10px,-10px)\",\r\n                transformOrigin: \"20px 20px\"\r\n            }}\r\n            onMouseOver={\r\n                () => {\r\n                    Shared.cursorState = \"pointer\";\r\n                }\r\n            }\r\n            onMouseOut={\r\n                () => {\r\n                    Shared.cursorState = \"normal\";\r\n                }\r\n            } />\r\n            <rect key=\"1\"\r\n            x={ 20 } y={ 20 } width={ 16 } height={ 16 }\r\n            style={{\r\n                fill: Shared.theme.colortab.frontground2,\r\n                stroke: Shared.theme.colortab.background,\r\n                transform: \"rotate(36deg) translate(-8px,-8px)\",\r\n                transformOrigin: \"20px 20px\"\r\n            }} />\r\n            <rect key=\"2\"\r\n            x={ 20 } y={ 20 } width={ 12.8 } height={ 12.8 }\r\n            style={{\r\n                fill: Shared.theme.colortab.frontground3,\r\n                stroke: Shared.theme.colortab.background,\r\n                transform: \"rotate(54deg) translate(-6.4px,-6.4px)\",\r\n                transformOrigin: \"20px 20px\"\r\n            }} />\r\n            <rect key=\"4\"\r\n            x={ 20 } y={ 20 } width={ 9.8 } height={ 9.8 }\r\n            style={{\r\n                fill: Shared.theme.colortab.frontground,\r\n                stroke: Shared.theme.colortab.background,\r\n                transform: \"rotate(72deg) translate(-4.9px,-4.9px)\",\r\n                transformOrigin: \"20px 20px\"\r\n            }} />\r\n            <rect key=\"5\"\r\n            x={ 20 } y={ 20 } width={ 7.6 } height={ 7.6 }\r\n            style={{\r\n                fill: Shared.theme.colortab.frontground2,\r\n                stroke: Shared.theme.colortab.background,\r\n                transform: \"rotate(90deg) translate(-3.8px,-3.8px)\",\r\n                transformOrigin: \"20px 20px\"\r\n            }} />\r\n            <rect key=\"6\"\r\n            x={ 20 } y={ 20 } width={ 6 } height={ 6 }\r\n            style={{\r\n                fill: Shared.theme.colortab.frontground3,\r\n                stroke: Shared.theme.colortab.background,\r\n                transform: \"rotate(108deg) translate(-3px,-3px)\",\r\n                transformOrigin: \"20px 20px\"\r\n            }} />\r\n        </svg>\r\n    );\r\n\r\n    return (\r\n        <div style={{\r\n            position: \"absolute\",\r\n            left: \"12px\",\r\n            top: \"12px\",\r\n            pointerEvents: \"none\"\r\n        }} >\r\n        {\r\n            props.active ? (\r\n                <HashRouter>\r\n                    <Link to=\"/\" >\r\n                        { svg }\r\n                    </Link>\r\n                </HashRouter>\r\n            ) : (\r\n                <>\r\n                    { svg }\r\n                </>\r\n            )\r\n        }\r\n        </div>\r\n    );\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-09-01 19:34:27 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-01 23:10:18\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport { Article } from \"../methods/typedict\";\r\nimport Color from \"../preference/Color\";\r\n\r\n\r\nexport interface ListViewProps<ItemType> {\r\n    title: string;\r\n    maxPerPage: number;\r\n    display: (item: ItemType, index: number) => JSX.Element;\r\n    style?: React.CSSProperties;\r\n};\r\n\r\nexport interface ListViewState<ItemType> {\r\n    items: Array<ItemType>;\r\n    pageId: number;\r\n};\r\n\r\n/**\r\n *\r\n *\r\n * @export\r\n * @class ListView\r\n * @extends {Component<ListViewProps<ItemType>, ListViewState<ItemType>>}\r\n * @template ItemType\r\n */\r\nexport class ListView<ItemType=Article> extends Component<\r\n    ListViewProps<ItemType>, ListViewState<ItemType>\r\n> {\r\n\r\n    protected pageInput: React.RefObject<HTMLInputElement>;\r\n\r\n    protected pageCount: number;\r\n\r\n    public constructor(props: ListViewProps<ItemType>) {\r\n        super(props);\r\n        this.state = {\r\n            items: [],\r\n            pageId: 0\r\n        };\r\n        \r\n        this.pageInput = React.createRef<HTMLInputElement>();\r\n        this.pageCount = 0;\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        this.pageCount = Math.ceil(this.state.items.length / this.props.maxPerPage);\r\n\r\n        const data: Array<ItemType> = this.state.items.slice(\r\n            this.state.pageId * this.props.maxPerPage,\r\n            (this.state.pageId + 1) * this.props.maxPerPage\r\n        );\r\n\r\n        return (\r\n            <div style={{\r\n                color: Shared.theme.colortab.color,\r\n                margin: \"calc(10px + 6vh) calc(20px + 8vw) calc(10px + 3vh)\",\r\n                padding: \"calc(4px + 2vh) calc(-60px + 6vmax)\",\r\n                textAlign: \"left\",\r\n                ...this.props.style\r\n            }} >\r\n                <div key=\"head\" style={{\r\n                    display: \"inline-block\",\r\n                    minWidth: \"40%\"\r\n                }} >\r\n                    <h3>\r\n                        { this.props.title }\r\n                    </h3>\r\n                </div>\r\n                <div key=\"tools\" style={{\r\n                    display: \"inline-flex\",\r\n                    minWidth: \"60%\",\r\n                    alignItems: \"stretch\",\r\n                    overflow: \"hidden\",\r\n                    justifyContent: \"end\"\r\n                }} >\r\n                {\r\n                    this.state.items.length ? (\r\n                        <>\r\n                            <button type=\"button\" key=\"btn_first\"\r\n                            onMouseOver={\r\n                                () => {\r\n                                    Shared.cursorState = \"pointer\";\r\n                                }\r\n                            }\r\n                            onMouseOut={\r\n                                () => {\r\n                                    Shared.cursorState = \"normal\";\r\n                                }\r\n                            }\r\n                            style={{\r\n                                margin: \"0 4px 0 auto\",\r\n                                padding: \"2px 6px\",\r\n                                color: Color.setLightness(\r\n                                    Shared.theme.colortab.background, 0.1\r\n                                ),\r\n                                cursor: \"none\",\r\n                                border: `1px solid ${ Shared.theme.colortab.frontground2 }`,\r\n                                backgroundColor: Shared.theme.colortab.frontground2\r\n                            }}\r\n                            onClick={\r\n                                () => {\r\n                                    const val: number = 0;\r\n                                    if (val !== this.state.pageId) {\r\n                                        this.setState({\r\n                                            pageId: val\r\n                                        });\r\n                                    }\r\n                                }\r\n                            } >\r\n                                «\r\n                            </button>\r\n                            <button type=\"button\" key=\"btn_prev\"\r\n                            onMouseOver={\r\n                                () => {\r\n                                    Shared.cursorState = \"pointer\";\r\n                                }\r\n                            }\r\n                            onMouseOut={\r\n                                () => {\r\n                                    Shared.cursorState = \"normal\";\r\n                                }\r\n                            }\r\n                            style={{\r\n                                margin: \"0 8px 0 2px\",\r\n                                padding: \"2px 8px\",\r\n                                color: Color.setLightness(\r\n                                    Shared.theme.colortab.background, 0.1\r\n                                ),\r\n                                cursor: \"none\",\r\n                                border: `1px solid ${ Shared.theme.colortab.frontground2 }`,\r\n                                backgroundColor: Shared.theme.colortab.frontground2\r\n                            }}\r\n                            onClick={\r\n                                () => {\r\n                                    const val: number = Math.max(\r\n                                        1, this.state.pageId\r\n                                    ) - 1;\r\n                                    if (val !== this.state.pageId) {\r\n                                        this.setState({\r\n                                            pageId: val\r\n                                        });\r\n                                    }\r\n                                }\r\n                            } >\r\n                                ‹\r\n                            </button>\r\n                            <input ref={ this.pageInput } type=\"number\"\r\n                            min={ 1 } max={ this.pageCount }\r\n                            onMouseOver={\r\n                                () => {\r\n                                    Shared.cursorState = \"pointer\";\r\n                                }\r\n                            }\r\n                            onMouseOut={\r\n                                () => {\r\n                                    Shared.cursorState = \"normal\";\r\n                                }\r\n                            }\r\n                            onKeyPress={\r\n                                e => {\r\n                                    if (e.which === 13) {\r\n                                        // Enter\r\n                                        const val: number = Math.max(\r\n                                            1, Math.min(\r\n                                                this.pageCount, parseInt(\r\n                                                    this.pageInput.current?.value || (\r\n                                                        this.state.pageId + 1\r\n                                                    ).toString()\r\n                                                )\r\n                                            )\r\n                                        ) - 1;\r\n                                        if (val === this.state.pageId && this.pageInput.current) {\r\n                                            this.pageInput.current.value = (val + 1).toString();\r\n                                        } else {\r\n                                            this.setState({\r\n                                                pageId: val\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            style={{\r\n                                cursor: \"none\",\r\n                                width: \"3em\",\r\n                                textAlign: \"center\",\r\n                                letterSpacing: \"1px\",\r\n                                color: Shared.theme.colortab.frontground,\r\n                                padding: \"2px\",\r\n                                border: `1px solid ${ Shared.theme.colortab.frontground }`,\r\n                                backgroundColor: Shared.theme.colortab.color.replace(\r\n                                    \"(\", \"a(\"\r\n                                ).replace(\r\n                                    \")\", \",0.1)\"\r\n                                )\r\n                            }} />\r\n                            <button type=\"button\" key=\"btn\"\r\n                            onMouseOver={\r\n                                () => {\r\n                                    Shared.cursorState = \"pointer\";\r\n                                }\r\n                            }\r\n                            onMouseOut={\r\n                                () => {\r\n                                    Shared.cursorState = \"normal\";\r\n                                }\r\n                            }\r\n                            style={{\r\n                                margin: \"0 0.4em 0 0\",\r\n                                padding: \"1px 3px\",\r\n                                color: Color.setLightness(\r\n                                    Shared.theme.colortab.background, 0.1\r\n                                ),\r\n                                cursor: \"none\",\r\n                                border: `1px solid ${ Shared.theme.colortab.frontground }`,\r\n                                backgroundColor: Shared.theme.colortab.frontground\r\n                            }}\r\n                            onClick={\r\n                                () => {\r\n                                    const val: number = Math.max(\r\n                                        1, Math.min(\r\n                                            this.pageCount, parseInt(\r\n                                                this.pageInput.current?.value || (\r\n                                                    this.state.pageId + 1\r\n                                                ).toString()\r\n                                            )\r\n                                        )\r\n                                    ) - 1;\r\n                                    if (val === this.state.pageId && this.pageInput.current) {\r\n                                        this.pageInput.current.value = (val + 1).toString();\r\n                                    } else {\r\n                                        this.setState({\r\n                                            pageId: val\r\n                                        });\r\n                                    }\r\n                                }\r\n                            } >\r\n                                ➔\r\n                            </button>\r\n                            <label key=\"aft\" style={{\r\n                                cursor: \"none\",\r\n                                marginRight: \"6px\",\r\n                                whiteSpace: \"nowrap\"\r\n                            }} >\r\n                                { ` / ${ this.pageCount }` }\r\n                            </label>\r\n                            <button type=\"button\" key=\"btn_next\"\r\n                            onMouseOver={\r\n                                () => {\r\n                                    Shared.cursorState = \"pointer\";\r\n                                }\r\n                            }\r\n                            onMouseOut={\r\n                                () => {\r\n                                    Shared.cursorState = \"normal\";\r\n                                }\r\n                            }\r\n                            style={{\r\n                                margin: \"0 2px 0 8px\",\r\n                                padding: \"2px 8px\",\r\n                                color: Color.setLightness(\r\n                                    Shared.theme.colortab.background, 0.1\r\n                                ),\r\n                                cursor: \"none\",\r\n                                border: `1px solid ${ Shared.theme.colortab.frontground2 }`,\r\n                                backgroundColor: Shared.theme.colortab.frontground2\r\n                            }}\r\n                            onClick={\r\n                                () => {\r\n                                    const val: number = Math.min(\r\n                                        this.pageCount, this.state.pageId + 2\r\n                                    ) - 1;\r\n                                    if (val !== this.state.pageId) {\r\n                                        this.setState({\r\n                                            pageId: val\r\n                                        });\r\n                                    }\r\n                                }\r\n                            } >\r\n                                ›\r\n                            </button>\r\n                            <button type=\"button\" key=\"btn_last\"\r\n                            onMouseOver={\r\n                                () => {\r\n                                    Shared.cursorState = \"pointer\";\r\n                                }\r\n                            }\r\n                            onMouseOut={\r\n                                () => {\r\n                                    Shared.cursorState = \"normal\";\r\n                                }\r\n                            }\r\n                            style={{\r\n                                margin: \"0 4px\",\r\n                                padding: \"2px 6px\",\r\n                                color: Color.setLightness(\r\n                                    Shared.theme.colortab.background, 0.1\r\n                                ),\r\n                                cursor: \"none\",\r\n                                border: `1px solid ${ Shared.theme.colortab.frontground2 }`,\r\n                                backgroundColor: Shared.theme.colortab.frontground2\r\n                            }}\r\n                            onClick={\r\n                                () => {\r\n                                    const val: number = this.pageCount - 1;\r\n                                    if (val !== this.state.pageId) {\r\n                                        this.setState({\r\n                                            pageId: val\r\n                                        });\r\n                                    }\r\n                                }\r\n                            } >\r\n                                »\r\n                            </button>\r\n                        </>\r\n                    ) : (\r\n                        <></>\r\n                    )\r\n                }\r\n                </div>\r\n                <hr style={{\r\n                    padding: \"1px 0\",\r\n                    border: `1px solid ${ Shared.theme.colortab.border }`\r\n                }} />\r\n                <div style={{\r\n                    margin: \"20px 0\",\r\n                    minHeight: this.props.style?.minHeight || \"10vh\",\r\n                    fontSize: \"calc(8px + 1vmin)\"\r\n                }} >\r\n                {\r\n                    data.length === 0 && (\r\n                        <p>\r\n                            { \"No results to display.\" }\r\n                        </p>\r\n                    )\r\n                }\r\n                {\r\n                    data.map((article, idx) => {\r\n                        return (\r\n                            <div key={ `${ this.state.pageId },${ idx }` }\r\n                            style={{\r\n                                margin: \"20px 0 14px\",\r\n                                borderLeft: `1px solid ${ Shared.theme.colortab.frontground }`,\r\n                                borderBottom: `1px solid ${ Shared.theme.colortab.frontground3 }`\r\n                            }} >\r\n                                { this.props.display(\r\n                                    article,\r\n                                    this.state.pageId * this.props.maxPerPage + idx + 1\r\n                                ) }\r\n                            </div>\r\n                        );\r\n                    })\r\n                }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        if (this.pageInput.current) {\r\n            this.pageInput.current.value = (this.state.pageId + 1).toString();\r\n        }\r\n    }\r\n\r\n    public componentDidUpdate(): void {\r\n        if (this.pageInput.current) {\r\n            this.pageInput.current.value = (this.state.pageId + 1).toString();\r\n        }\r\n    }\r\n\r\n}\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-09-01 20:31:35 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-01 23:24:13\r\n */\r\n\r\nimport React from \"react\";\r\nimport { PaperInfo, Bookmark } from \"./typedict\";\r\nimport { Shared } from \"./globals\";\r\n\r\n\r\n/**\r\n * 将论文信息转化为渲染实体.\r\n *\r\n * @param {PaperInfo} item\r\n * @param {number} index\r\n * @returns {JSX.Element}\r\n */\r\nexport const displayPaperInfo = (item: PaperInfo, index: number): JSX.Element => {\r\n    return (\r\n        <div style={{\r\n            display: \"flex\",\r\n            padding: \"2px 0.5em 0.5em\"\r\n        }} >\r\n            <div key=\"id\" style={{\r\n                width: \"4em\",\r\n                paddingRight: \"0.8em\",\r\n                textAlign: \"end\"\r\n            }} >\r\n                <label style={{\r\n                    cursor: \"none\"\r\n                }} >\r\n                    { `[${ index }]` }\r\n                </label>\r\n            </div>\r\n            <div key=\"info\" style={{\r\n                textAlign: \"start\"\r\n            }} >\r\n                <label style={{\r\n                    cursor: \"none\"\r\n                }} >\r\n                    <span key=\"authors\" >\r\n                    {\r\n                        item.authors.map((author, i) => {\r\n                            if (author === \"Zhendong Yang\") {\r\n                                return i === item.authors.length - 1 ? (\r\n                                    `and ${ author }`\r\n                                ) : (\r\n                                    `${ author }`\r\n                                );\r\n                            }\r\n                            return i === item.authors.length - 1 ? (\r\n                                `and ${ author }`\r\n                            ) : (\r\n                                `${ author }`\r\n                            );\r\n                        }).join(\", \") + \". \"\r\n                    }\r\n                    </span>\r\n                    <span key=\"title\" >\r\n                        { item.title + \". \" }\r\n                    </span>\r\n                    <span key=\"publishingSpace\" style={{\r\n                        fontStyle: \"italic\"\r\n                    }} >\r\n                    {\r\n                        item.publishingPlace + (\r\n                            item.pageRange ? (\r\n                                <span key=\"pageRange\"\r\n                                style={{\r\n                                    fontStyle: \"normal\"\r\n                                }} >\r\n                                    { \", \" + item.pageRange }\r\n                                </span>\r\n                            ) : \"\"\r\n                        )\r\n                    }\r\n                    </span>\r\n                    <span key=\"year\" >\r\n                        { \", \" + item.year + \". \" }\r\n                    </span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n/**\r\n * 将书签信息转化为渲染实体.\r\n *\r\n * @param {Bookmark} item\r\n * @returns {JSX.Element}\r\n */\r\nexport const displayBookmark = (item: Bookmark): JSX.Element => {\r\n    return (\r\n        <div style={{\r\n            display: \"flex\",\r\n            padding: \"2px 0.5em 0.5em\"\r\n        }} >\r\n            <div key=\"id\" style={{\r\n                width: \"4em\",\r\n                paddingRight: \"0.8em\",\r\n                textAlign: \"center\"\r\n            }} >\r\n                <label style={{\r\n                    cursor: \"none\",\r\n                    color: Shared.theme.colortab[\r\n                        item.type === \"tech\" ? \"frontground\"\r\n                            : item.type === \"design\" ? \"frontground2\"\r\n                                : \"frontground3\"\r\n                    ]\r\n                }} >\r\n                    { `${ item.type }` }\r\n                </label>\r\n            </div>\r\n            <div key=\"info\" style={{\r\n                textAlign: \"start\",\r\n                marginLeft: \"1em\"\r\n            }} >\r\n                <a href={ item.url } target=\"new\"\r\n                style={{\r\n                    cursor: \"none\",\r\n                    textDecoration: \"none\"\r\n                }}\r\n                onMouseOver={\r\n                    () => {\r\n                        Shared.cursorState = \"pointer\";\r\n                    }\r\n                }\r\n                onMouseOut={\r\n                    () => {\r\n                        Shared.cursorState = \"normal\";\r\n                    }\r\n                } >\r\n                    <label style={{\r\n                        cursor: \"none\",\r\n                        color: Shared.theme.colortab.color\r\n                    }} >\r\n                        { item.title }\r\n                    </label>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-09-02 14:18:31 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-02 15:45:27\r\n */\r\n\r\nimport React from \"react\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport Color from \"../preference/Color\";\r\n\r\n\r\nexport interface InterestViewProps {\r\n    style?: React.CSSProperties;\r\n};\r\n\r\nexport const InterestView = (props: InterestViewProps): JSX.Element => {\r\n    const techs: Array<string> = [\r\n        \"C\", \"C++\", \"CSS\", \"Express\", \"HTML\", \"JavaScript\", \"Node.js\", \"React\", \"typescript\",\r\n        \"python\"\r\n    ];\r\n\r\n    const fields: Array<string> = [\r\n        \"Data Visualization\", \"Deep Learning\", \"Front-end\", \"Machine Learning\", \"NLP\"\r\n    ];\r\n\r\n    return (\r\n        <div style={{\r\n            color: Shared.theme.colortab.color,\r\n            margin: \"calc(10px + 6vh) calc(20px + 8vw) calc(10px + 3vh)\",\r\n            padding: \"calc(4px + 2vh) calc(-60px + 6vmax)\",\r\n            textAlign: \"left\",\r\n            ...props.style\r\n        }} >\r\n            <div key=\"techs-head\" >\r\n                <h3>\r\n                    { `Technologies of Interest` }\r\n                </h3>\r\n            </div>\r\n            <div key=\"techs-items\" style={{\r\n                display: \"flex\",\r\n                flexWrap: \"wrap\",\r\n                marginBottom: \"3.2em\"\r\n            }} >\r\n            {\r\n                techs.map((item, i) => {\r\n                    return (\r\n                        <label key={ i } style={{\r\n                            cursor: \"none\",\r\n                            margin: \"0.4em 0.8em\",\r\n                            color: Color.setLightness(\r\n                                Shared.theme.colortab.border, 0.9\r\n                            ),\r\n                            padding: \"0 0.4em\",\r\n                            borderRight: `1px solid ${ Shared.theme.colortab.border }`,\r\n                            borderLeft: `1px solid ${ Shared.theme.colortab.border }`,\r\n                            borderRadius: \"6px 2px\"\r\n                        }} >\r\n                            { item }\r\n                        </label>\r\n                    );\r\n                })\r\n            }\r\n            </div>\r\n\r\n            <div key=\"fields-head\" >\r\n                <h3>\r\n                    { `Fields of Interest` }\r\n                </h3>\r\n            </div>\r\n            <div key=\"fields-items\" style={{\r\n                display: \"flex\",\r\n                flexWrap: \"wrap\"\r\n            }} >\r\n            {\r\n                fields.map((item, i) => {\r\n                    return (\r\n                        <label key={ i } style={{\r\n                            cursor: \"none\",\r\n                            margin: \"0.4em 0.8em\",\r\n                            color: Color.setLightness(\r\n                                Shared.theme.colortab.frontground, 0.9\r\n                            ),\r\n                            padding: \"0 0.6em\",\r\n                            borderRight: `1px solid ${ Shared.theme.colortab.frontground }`,\r\n                            borderLeft: `1px solid ${ Shared.theme.colortab.frontground }`,\r\n                            borderRadius: \"6px 2px\"\r\n                        }} >\r\n                            { item }\r\n                        </label>\r\n                    );\r\n                })\r\n            }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-09-05 16:46:27 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-05 16:51:13\r\n */\r\n\r\n/**\r\n * 从数组中返回第一个匹配要求的元素, \r\n * 若找不到则返回 null. \r\n *\r\n * @template T 数组元素类型\r\n * @param {Array<T>} a 数组\r\n * @param {(item: T, index: number) => boolean} each 判断函数\r\n * @returns {(T | null)}\r\n */\r\nexport const find = <T>(a: Array<T>, each: (item: T, index: number) => boolean): T | null => {\r\n    for (let i: number = 0; i < a.length; i++) {\r\n        if (each(a[i], i)) {\r\n            return a[i];\r\n        }\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n/**\r\n * 从数组中返回所有匹配要求的元素.\r\n *\r\n * @template T 数组元素类型\r\n * @param {Array<T>} a 数组\r\n * @param {(item: T, index: number) => boolean} each 判断函数\r\n * @returns {Array<T>}\r\n */\r\nexport const findAll = <T>(a: Array<T>, each: (item: T, index: number) => boolean): Array<T> => {\r\n    let box: Array<T> = [];\r\n\r\n    a.forEach((e, i) => {\r\n        if (each(e, i)) {\r\n            box.push(e);\r\n        }\r\n    });\r\n\r\n    return box;\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-09-05 15:33:17 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-06 00:59:09\r\n */\r\n\r\nimport { PaperInfo, Bookmark, Product } from \"../methods/typedict\";\r\n\r\n\r\nexport const InfoSet = {\r\n    /**\r\n     * 论文信息列表.\r\n     * \r\n     * @type {Array<PaperInfo>}\r\n     */\r\n    papers: [{\r\n        authors: [\r\n            \"Zhiguang Zhou\", \"Xinlong Zhang\", \"Zhendong Yang\", \"Yuanyuan Chen\",\r\n            \"Yuhua Liu\", \"Jin Wen\", \"Binjie Chen\", \"Ying Zhao\", \"Wei Chen*\"\r\n        ],\r\n        title: \"Visual Abstraction of Geographical Point Data with Spatial Autocorrelations\",\r\n        publishingPlace: \"IEEE Conference on Visual Analytics Science and Technology\",\r\n        year: 2020\r\n    }] as Array<PaperInfo>,\r\n\r\n    /**\r\n     * 外链信息列表.\r\n     * \r\n     * @type {Array<Bookmark>}\r\n     */\r\n    bookmarks: [{\r\n        type: \"tech\",\r\n        title: \"[翻译] 神经网络的直观解释 - HackCV\",\r\n        url: \"https://hackcv.com/posts/%E7%BF%BB%E8%AF%91-%E7%A5%9E%E7%BB%8F%E7%BD%\"\r\n            + \"91%E7%BB%9C%E7%9A%84%E7%9B%B4%E8%A7%82%E8%A7%A3%E9%87%8A/\"\r\n    }, {\r\n        type: \"tech\",\r\n        title: \".md格式的markdown文件常用语法介绍 - 简书\",\r\n        url: \"https://www.jianshu.com/p/61e02a55f2a6\"\r\n    }, {\r\n        type: \"design\",\r\n        title: \"NIPPON COLORS - 日本の伝統色\",\r\n        url: \"http://nipponcolors.com/\"\r\n    }, {\r\n        type: \"tech\",\r\n        title: \"一文看懂25个神经网络模型_网络_不积跬步，无以至千里-CSDN博客\",\r\n        url: \"https://blog.csdn.net/dujiahei/article/details/80965661\"\r\n    }, {\r\n        type: \"tech\",\r\n        title: \"卷积核与特征提取 - 理想几岁 - 博客园\",\r\n        url: \"https://www.cnblogs.com/zongfa/p/9130167.html\"\r\n    }, {\r\n        type: \"tech\",\r\n        title: \"js实现将canvas保存成图片并下载到本地_JavaScript_u012246064的博客-CSDN博客\",\r\n        url: \"https://blog.csdn.net/u012246064/article/details/78032153/\"\r\n    }, {\r\n        type: \"tech\",\r\n        title: \"C++ STL 四种智能指针_C/C++_Dablelv的博客专栏-CSDN博客\",\r\n        url: \"https://blog.csdn.net/k346k346/article/details/81478223\"\r\n    }, {\r\n        type: \"tech\",\r\n        title: \"Nodejs+Express创建HTTPS服务器 - 阳光小白 - 博客园\",\r\n        url: \"https://www.cnblogs.com/handongyu/p/6260209.html\"\r\n    }, {\r\n        type: \"tech\",\r\n        title: \"npm包的发布+ts_pandoraqjk的博客-CSDN博客\",\r\n        url: \"https://blog.csdn.net/pandoraqjk/article/details/106398758\"\r\n    }, {\r\n        type: \"other\",\r\n        title: \"Carbon\",\r\n        url: \"https://carbon.now.sh/\"\r\n    }, {\r\n        type: \"design\",\r\n        title: \"算法可视化\",\r\n        url: \"https://bindog.github.io/blog/2014/08/09/visualizing-algorithms/\"\r\n    }, {\r\n        type: \"design\",\r\n        title: \"CNN Explainer\",\r\n        url: \"https://poloclub.github.io/cnn-explainer/\"\r\n    }, {\r\n        type: \"tech\",\r\n        title: \"正则表达式 - JavaScript | MDN\",\r\n        url: \"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/\"\r\n            + \"Regular_Expressions\"\r\n    }, {\r\n        type: \"tech\",\r\n        title: \"Machine Learning Mastery\",\r\n        url: \"https://machinelearningmastery.com/\"\r\n    }, {\r\n        type: \"tech\",\r\n        title: \"常用激活函数（激励函数）理解与总结_网络_StevenSun的博客空间-CSDN博客\",\r\n        url: \"https://blog.csdn.net/tyhj_sf/article/details/79932893\"\r\n    }, {\r\n        type: \"design\",\r\n        title: \"CSS-sprites，又叫精灵图 - 简书\",\r\n        url: \"https://www.jianshu.com/p/9b54e9d0e31a\"\r\n    }, {\r\n        type: \"tech\",\r\n        title: \"详解react、redux、react-redux之间的关系 - 简书\",\r\n        url: \"https://www.jianshu.com/p/728a1afce96d\"\r\n    }, {\r\n        type: \"tech\",\r\n        title: \"快速搭建你的 github pages 个人博客 —— 基于 Create-React-App 的单页面应用实践 - 简书\",\r\n        url: \"https://www.jianshu.com/p/4d8011e9c805\"\r\n    }, {\r\n        type: \"tech\",\r\n        title: \"Page Visibility API 教程 - 阮一峰的网络日志\",\r\n        url: \"http://www.ruanyifeng.com/blog/2018/10/page_visibility_api.html\"\r\n    }, {\r\n        type: \"tech\",\r\n        title: \"如何部署create-react-app项目到Github pages步骤 - 知乎\",\r\n        url: \"https://zhuanlan.zhihu.com/p/88481760\"\r\n    }] as Array<Bookmark>,\r\n\r\n    /**\r\n     * 展示作品列表.\r\n     * \r\n     * @type {Array<Product>}\r\n     */\r\n    products: [{\r\n        name: \"[ChinaVis2019 challenge] ZUFE-yzd-challenge2\",\r\n        id: \"000000\",\r\n        role: \"leader\",\r\n        languages: [{\r\n            name: \"JavaScript\",\r\n            rate: 0.583\r\n        }, {\r\n            name: \"C++\",\r\n            rate: 0.300\r\n        }, {\r\n            name: \"HTML\",\r\n            rate: 0.104\r\n        }, {\r\n            name: \"CSS\",\r\n            rate: 0.013\r\n        }],\r\n        techs: [\"Express\", \"JQuery\", \"Leaflet\", \"axios\"],\r\n        beginTime: [\"2019\", \"05\"],\r\n        closeTime: [\"2019\", \"08\"],\r\n        githubURL: \"https://github.com/zufe-yzd/workspace\",\r\n        avatarURL: \"https://avatars2.githubusercontent.com/u/50646985?s=60&v=4\",\r\n        description: (\r\n            \"This product is made by team ZUFE-yzd, submitted to <i>ChinaVis2019</i> and \"\r\n            + \"ended up earning the team an Award of Excellence. \"\r\n        )\r\n    }, {\r\n        name: \"Unused Product 2019.9\",\r\n        id: \"000001\",\r\n        role: \"engineer\",\r\n        languages: [{\r\n            name: \"TypeScript\",\r\n            rate: 0.884\r\n        }, {\r\n            name: \"CSS\",\r\n            rate: 0.072\r\n        }, {\r\n            name: \"Python\",\r\n            rate: 0.037\r\n        }, {\r\n            name: \"Other\",\r\n            rate: 0.007\r\n        }],\r\n        techs: [\"React\", \"MapBox\", \"JQuery\", \"axios\"],\r\n        beginTime: [\"2019\", \"09\"],\r\n        closeTime: [\"2019\", \"12\"],\r\n        githubURL: \"\",\r\n        avatarURL: \"https://avatars1.githubusercontent.com/u/55677972?s=60&v=4\",\r\n        description: (\r\n            \"<b>[NOT OPEN SOURCE]</b><br/>\"\r\n            + \"This product is made by Professor Zhou's research group <i>Studio119</i>. \"\r\n        )\r\n    }, {\r\n        name: \"BiliVis\",\r\n        id: \"000002\",\r\n        role: \"individual\",\r\n        languages: [{\r\n            name: \"TypeScript\",\r\n            rate: 0.912\r\n        }, {\r\n            name: \"Python\",\r\n            rate: 0.052\r\n        }, {\r\n            name: \"HTML\",\r\n            rate: 0.014\r\n        }, {\r\n            name: \"JavaScript\",\r\n            rate: 0.011\r\n        }, {\r\n            name: \"CSS\",\r\n            rate: 0.011\r\n        }],\r\n        techs: [\"React\", \"JQuery\", \"axios\"],\r\n        beginTime: [\"2019\", \"12\"],\r\n        closeTime: [\"2020\", \"01\"],\r\n        githubURL: \"https://github.com/AntoineYANG/BiliVis\",\r\n        avatarURL: \"https://avatars3.githubusercontent.com/u/48707735?\"\r\n            + \"s=88&u=6a81260924552d398cbbd4d919caf5a4bb6a7416&v=4\",\r\n        description: (\r\n            \"Uses web crawler (programmed by python3, depending on beautifulsoup) \"\r\n            + \"to get Danmaku of a video on <b>Bilibili</b>. <br />\"\r\n            + \"This system allow you to search for any videos by the <b>av-</b> id \"\r\n            + \"<i>(Unfortunately, <b>Bilibili</b> started to use <b>bv-</b> code \"\r\n            + \"instead from March 23, 2020, which did cause some inconvenience)</i>. \"\r\n            + \"An SVG animation is set to give a 1-min quick play of all the Danmaku. \"\r\n            + \"Moreover, each piece of Danmaku are counted, showing which part of the \"\r\n            + \"video got the most amount of Danmaku, and the number of Danmaku counted \"\r\n            + \"by date, to show how the popularity of the video was changing during the time. \"\r\n        )\r\n    }, {\r\n        name: \"[IEEE_VIS_VAST] zhou2020(vast)\",\r\n        id: \"000003\",\r\n        role: \"engineer\",\r\n        languages: [{\r\n            name: \"TypeScript\",\r\n            rate: 0.665\r\n        }, {\r\n            name: \"Python\",\r\n            rate: 0.162\r\n        }, {\r\n            name: \"C++\",\r\n            rate: 0.058\r\n        }, {\r\n            name: \"CSS\",\r\n            rate: 0.056\r\n        }, {\r\n            name: \"JavaScript\",\r\n            rate: 0.032\r\n        }, {\r\n            name: \"HTML\",\r\n            rate: 0.027\r\n        }],\r\n        techs: [\"React\", \"MapBox\", \"JQuery\", \"axios\"],\r\n        beginTime: [\"2020\", \"02\"],\r\n        closeTime: [\"2020\", \"08\"],\r\n        githubURL: \"https://github.com/Studio119/zhou2020-vast-\",\r\n        videoURL: \"./videos/product_000003.mp4\",\r\n        avatarURL: \"https://avatars1.githubusercontent.com/u/55677972?s=60&v=4\",\r\n        description: (\r\n            \"This product is made by Professor Zhou's research group <i>Studio119</i>. <br/>\"\r\n            + \"The related paper <b>[Visual Abstraction of Geographical Point Data \"\r\n            + \"with Spatial Autocorrelations]</b> was accepted by <i>IEEE Conference on \"\r\n            + \"Visual Analytics Science and Technology (<b>VAST</b>)<i>, 2020. \"\r\n        )\r\n    }, {\r\n        name: \"Anonymous project forked from ***\",\r\n        id: \"000004\",\r\n        role: \"contributor\",\r\n        languages: [{\r\n            name: \"TypeScript\",\r\n            rate: 0.640\r\n        }, {\r\n            name: \"Python\",\r\n            rate: 0.161\r\n        }, {\r\n            name: \"JavaScript\",\r\n            rate: 0.117\r\n        }, {\r\n            name: \"HTML\",\r\n            rate: 0.044\r\n        }, {\r\n            name: \"CSS\",\r\n            rate: 0.038\r\n        }],\r\n        techs: [\"React\", \"JQuery\"],\r\n        beginTime: [\"2019\", \"09\"],\r\n        closeTime: [\"2019\", \"09\"],\r\n        githubURL: \"\",\r\n        avatarURL: \"./images/product_000004.png\",\r\n        description: (\r\n            \"<b>[NOT OPEN SOURCE]</b><br/>\"\r\n            + \"This product is made by Professor Zhou's research group <i>Studio119</i>. <br/>\"\r\n            + \"No more public description is available. \"\r\n        )\r\n    }, {\r\n        name: \"Unused Product 2020.5\",\r\n        id: \"000005\",\r\n        role: \"leader\",\r\n        languages: [{\r\n            name: \"TypeScript\",\r\n            rate: 0.919\r\n        }, {\r\n            name: \"Python\",\r\n            rate: 0.056\r\n        }, {\r\n            name: \"JavaScript\",\r\n            rate: 0.015\r\n        }, {\r\n            name: \"Other\",\r\n            rate: 0.010\r\n        }],\r\n        techs: [\"React\", \"JQuery\"],\r\n        beginTime: [\"2020\", \"05\"],\r\n        closeTime: [\"2020\", \"06\"],\r\n        githubURL: \"\",\r\n        avatarURL: \"https://avatars1.githubusercontent.com/u/55677972?s=60&v=4\",\r\n        description: (\r\n            \"This product is made by Professor Zhou's research group <i>Studio119</i>. <br/>\"\r\n            + \"No more public description is available. \"\r\n        )\r\n    }] as Array<Product>,\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-09-05 18:40:08 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-05 18:45:54\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\n\r\n\r\nexport interface InlineHTMLProps {\r\n    html: string;\r\n};\r\n/**\r\n * 这个组件用于新建一个 div 元素内联 html, \r\n * 将 html 字符串转化为 DOM 元素.\r\n *\r\n * @export\r\n * @class InlineHTML\r\n * @extends {Component<InlineHTMLProps, {}>}\r\n */\r\nexport class InlineHTML extends Component<InlineHTMLProps, {}> {\r\n\r\n    protected ref: React.RefObject<HTMLDivElement>;\r\n    \r\n    public constructor(props: InlineHTMLProps) {\r\n        super(props);\r\n        this.state = {};\r\n\r\n        this.ref = React.createRef<HTMLDivElement>();\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div ref={ this.ref } ></div>\r\n        );\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        if (!this.ref.current) {\r\n            console.error(\"InlineHTML element did not mount successfully.\")\r\n            return;\r\n        }\r\n\r\n        this.ref.current.innerHTML = this.props.html;\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-09-05 19:56:44 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-05 20:41:10\r\n */\r\n\r\nimport React from \"react\";\r\nimport { LanguageInfo } from \"../methods/typedict\";\r\nimport { Shared } from \"../methods/globals\";\r\n\r\n\r\nexport interface LanguageChartProps {\r\n    data: Array<LanguageInfo>;\r\n};\r\n\r\n/**\r\n * 函数式组件: 绘制语言使用统计图.\r\n *\r\n * @param {LanguageChartProps} props\r\n * @returns {JSX.Element}\r\n */\r\nexport const LanguageChart = (props: LanguageChartProps): JSX.Element => {\r\n    let offset: number = 0;\r\n    const b: number = 99 + props.data.length;\r\n\r\n    const proj: Array<{\r\n        x: number;\r\n        w: number;\r\n        label: string;\r\n        value: number;\r\n    }> = props.data.map(d => {\r\n        offset += d.rate * b + 1;\r\n        return {\r\n            x: offset - d.rate * b - 1,\r\n            w: d.rate * b,\r\n            label: d.name,\r\n            value: d.rate\r\n        };\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <svg key=\"1\" style={{\r\n                display: \"block\",\r\n                width: \"96%\",\r\n                height: \"6px\",\r\n                margin: \"4px 2% 2px\",\r\n                borderRadius: \"3px\"\r\n            }} >\r\n            {\r\n                proj.map((d, i) => {\r\n                    return (\r\n                        <rect key={ i }\r\n                        x={ `${ d.x }%` } y=\"0\"\r\n                        width={ `${ d.w }%` } height=\"6px\"\r\n                        style={{\r\n                            fill: Shared.theme.colortab[(\r\n                                i % 3 === 0 ? \"frontground\"\r\n                                    : i % 3 === 1 ? \"frontground2\"\r\n                                        : \"frontground3\"\r\n                            )]\r\n                        }} />\r\n                    );\r\n                })\r\n            }\r\n            </svg>\r\n            <div key=\"2\" style={{\r\n                display: \"block\",\r\n                fontSize: \"10px\",\r\n                width: \"96%\",\r\n                height: \"12px\",\r\n                margin: \"2px 2% 4px\",\r\n                overflow: \"hidden\",\r\n                textAlign: \"left\"\r\n            }} >\r\n            {\r\n                proj.map((d, i) => {\r\n                    return d.w >= 8 ? (\r\n                        <label key={ i }\r\n                        style={{\r\n                            cursor: \"none\",\r\n                            color: Shared.theme.colortab[(\r\n                                i % 3 === 0 ? \"frontground\"\r\n                                    : i % 3 === 1 ? \"frontground2\"\r\n                                        : \"frontground3\"\r\n                            )],\r\n                            textOverflow: \"ellipsis\",\r\n                            position: \"relative\",\r\n                            top: 0,\r\n                            left: `${ i * 3 }%`,\r\n                            width: `${ d.w - 2 }%`,\r\n                            overflow: \"hidden\",\r\n                            display: \"inline-block\"\r\n                        }} >\r\n                            { d.label }\r\n                        </label>\r\n                    ) : null;\r\n                })\r\n            }\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-29 21:47:03 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-05 20:53:12\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport $ from \"jquery\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport Color from \"../preference/Color\";\r\n\r\n\r\nexport interface SettingItemProps {\r\n    name: string;\r\n    valueChanged: (value: any) => void;\r\n};\r\n\r\nexport interface SettingItemState {};\r\n\r\n/**\r\n * 这个组件用来作为设置页面中的单个选项.\r\n *\r\n * @export\r\n * @class SettingItem\r\n * @extends {Component<P, S>}\r\n * @template P\r\n * @template S\r\n */\r\nexport class SettingItem<P extends SettingItemProps, S extends SettingItemState> extends Component<P, S> {\r\n\r\n    public constructor(props: P) {\r\n        super(props);\r\n    }\r\n\r\n};\r\n\r\n\r\nexport interface SettingValueBarProps extends SettingItemProps {\r\n    min: number;\r\n    max: number;\r\n    setter: (val: number) => number;\r\n    formatter: (val: number) => (string | number);\r\n    default: number;\r\n    valueChanged: (value: number) => void;\r\n    previewChanging: (value: number) => void;\r\n};\r\n\r\nexport interface SettingValueBarState extends SettingItemState {\r\n    value: number;\r\n};\r\n\r\n/**\r\n * 数字类型的拖动条.\r\n *\r\n * @export\r\n * @class SettingValueBar\r\n * @extends {SettingItem<SettingValueBarProps, SettingValueBarState>}\r\n */\r\nexport class SettingValueBar extends SettingItem<SettingValueBarProps, SettingValueBarState> {\r\n\r\n    protected svg: React.RefObject<SVGSVGElement>;\r\n    protected resizeListener: () => void;\r\n\r\n    protected dragging: boolean;\r\n    protected curVal: number;\r\n\r\n    public constructor(props: SettingValueBarProps) {\r\n        super(props);\r\n        this.state = {\r\n            value: this.props.default\r\n        };\r\n\r\n        this.svg = React.createRef<SVGSVGElement>();\r\n        this.resizeListener = this.resize.bind(this);\r\n\r\n        this.dragging = false;\r\n        this.curVal = this.props.default;\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div style={{\r\n                display: \"inline-flex\",\r\n                margin: \"2vh 2vw\",\r\n                fontSize: \"105%\",\r\n                alignItems: \"center\"\r\n            }} >\r\n                <label style={{\r\n                    cursor: \"none\",\r\n                    display: \"inline-block\",\r\n                    width: \"20vw\",\r\n                    maxWidth: \"260px\",\r\n                    marginLeft: \"auto\",\r\n                    marginRight: \"calc(4px + 0.1vw)\",\r\n                    wordBreak: \"break-all\",\r\n                    wordWrap: \"break-word\"\r\n                }} >\r\n                    { this.props.name }\r\n                </label>\r\n                <svg ref={ this.svg } height=\"40px\" style={{\r\n                    maxWidth: \"68vw\",\r\n                    minWidth: \"34vw\",\r\n                    marginRight: \"auto\"\r\n                }} >\r\n                    <rect key=\"background\" className=\"background\"\r\n                    x={ 0 } y={ 15 } width={ 40 } height={ 10 }\r\n                    rx={ 4 } ry={ 4 }\r\n                    style={{\r\n                        fill: Color.setLightness(\r\n                            Shared.theme.colortab.background, 0.2\r\n                        ),\r\n                        stroke: Color.setLightness(\r\n                            Shared.theme.colortab.background, 0.8\r\n                        ),\r\n                        strokeWidth: 2,\r\n                        pointerEvents: \"none\"\r\n                    }} />\r\n                    <rect key=\"target\" className=\"target\"\r\n                    x={ 0 } y={ 20 } width={ 22 } height={ 22 }\r\n                    rx={ 4 } ry={ 4 }\r\n                    style={{\r\n                        fill: Color.setLightness(\r\n                            Shared.theme.colortab.frontground,\r\n                            0.88\r\n                        ),\r\n                        fillOpacity: 0.8,\r\n                        stroke: Shared.theme.colortab.frontground2,\r\n                        strokeWidth: 4,\r\n                        transform: \"translate(-11px,-11px)\"\r\n                    }}\r\n                    onMouseOver={\r\n                        e => {\r\n                            Shared.cursorState = \"pointer\";\r\n                            e.currentTarget.style.fillOpacity = \"1.0\";\r\n                        }\r\n                    }\r\n                    onMouseOut={\r\n                        e => {\r\n                            Shared.cursorState = \"normal\";\r\n                            e.currentTarget.style.fillOpacity = \"0.8\";\r\n                        }\r\n                    }\r\n                    onMouseDown={\r\n                        ev => {\r\n                            this.dragging = true;\r\n\r\n                            const target: EventTarget = ev.target;\r\n                            const w: number = $(target).parent(\"svg\").width()!;\r\n                            const x1: number = 4 + 0.05 * w;\r\n                            const x2: number = 0.7 * w - 16;\r\n                            const offset: number = $(target).parent(\"svg\").offset()?.left || 0;\r\n\r\n                            const mouseMoveListener = (e: MouseEvent) => {\r\n                                const x: number = Math.max(\r\n                                    x1, Math.min(\r\n                                        x2, e.clientX - offset\r\n                                    )\r\n                                );\r\n                                this.curVal = this.props.min + (x - x1) / (x2 - x1) * (\r\n                                    this.props.max - this.props.min\r\n                                );\r\n                                $(target).attr(\r\n                                    \"x\", x\r\n                                );\r\n                                const val: number = this.props.setter(this.curVal);\r\n                                $(target).parent(\"svg\").children(\"text\").css(\r\n                                    \"fill\", Shared.theme.colortab.frontground\r\n                                ).text(\r\n                                    this.props.formatter(val)\r\n                                );\r\n                                this.props.previewChanging(val);\r\n                            };\r\n\r\n                            const mouseUpListener = () => {\r\n                                this.dragging = false;\r\n                                $(target).parent(\"svg\").children(\"text\").css(\r\n                                    \"fill\", Shared.theme.colortab.border\r\n                                );\r\n                                const val: number = this.props.setter(this.curVal);\r\n                                if (val !== this.state.value) {\r\n                                    this.props.valueChanged(val);\r\n                                    this.setState({\r\n                                        value: val\r\n                                    })\r\n                                }\r\n\r\n                                document.body.removeEventListener(\r\n                                    \"mousemove\", mouseMoveListener\r\n                                );\r\n                                document.body.removeEventListener(\r\n                                    \"mouseup\", mouseUpListener\r\n                                );\r\n                            };\r\n\r\n                            document.body.addEventListener(\r\n                                \"mousemove\", mouseMoveListener\r\n                            );\r\n                            document.body.addEventListener(\r\n                                \"mouseup\", mouseUpListener\r\n                            );\r\n                        }\r\n                    }\r\n                    onTouchMove={\r\n                        async e => {\r\n                            if (e.touches[0]) {\r\n                                const w: number = $(\r\n                                    e.currentTarget.parentElement!\r\n                                ).width()!;\r\n                                const x1: number = 4 + 0.05 * w;\r\n                                const x2: number = 0.7 * w - 16;\r\n                                const x: number = Math.max(\r\n                                    x1, Math.min(\r\n                                        x2, e.touches[0].clientX - (\r\n                                            e.currentTarget.parentElement!.getBoundingClientRect().left\r\n                                        )\r\n                                    )\r\n                                );\r\n                                this.curVal = this.props.min + (x - x1) / (x2 - x1) * (\r\n                                    this.props.max - this.props.min\r\n                                );\r\n                                $(e.currentTarget.parentElement!).children(\"rect.target\").attr(\r\n                                    \"x\", x\r\n                                );\r\n                                const val: number = this.props.setter(this.curVal);\r\n                                $(e.currentTarget.parentElement!).children(\"text\").text(\r\n                                    this.props.formatter(val)\r\n                                );\r\n                                if (val !== this.state.value) {\r\n                                    this.props.valueChanged(val);\r\n                                    this.setState({\r\n                                        value: val\r\n                                    })\r\n                                }\r\n                            }\r\n                        }\r\n                    } />\r\n                    <text x={ 100 } y={ 20 } textAnchor=\"middle\"\r\n                    style={{\r\n                        fill: Shared.theme.colortab.border,\r\n                        transform: \"translate(-0.5em,0.2em)\"\r\n                    }} >\r\n                        { this.props.formatter(this.state.value) }\r\n                    </text>\r\n                </svg>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    protected resize(): void {\r\n        const svg: JQuery<SVGSVGElement> = $(this.svg.current!);\r\n\r\n        const w: number = svg.width()!;\r\n\r\n        const background: JQuery<SVGRectElement> = svg.children(\"rect.background\") as unknown as JQuery<SVGRectElement>;\r\n        const target: JQuery<SVGRectElement> = svg.children(\"rect.target\") as unknown as JQuery<SVGRectElement>;\r\n        const text: JQuery<SVGTextElement> = svg.children(\"text\") as unknown as JQuery<SVGTextElement>;\r\n\r\n        const x1: number = 4 + 0.05 * w;\r\n        const x2: number = 0.7 * w - 16;\r\n\r\n        background.attr(\"x\", x1).attr(\"width\", x2 - x1);\r\n        target.attr(\r\n            \"x\", (\r\n                this.state.value - this.props.min\r\n            ) / (\r\n                this.props.max - this.props.min\r\n            ) * (x2 - x1) + x1\r\n        );\r\n        text.attr(\"x\", x2 + (w - x2) / 2);\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        this.resize();\r\n        $(window).on(\"resize\", this.resizeListener);\r\n    }\r\n\r\n    public componentWillUnmount(): void {\r\n        $(window).off(\"resize\", this.resizeListener);\r\n    }\r\n\r\n    public componentDidUpdate(): void {\r\n        this.curVal = this.props.default;\r\n        this.dragging = false;\r\n        this.resize();\r\n    }\r\n\r\n};\r\n\r\nexport interface SettingRadioProps extends SettingItemProps {\r\n    formatter: (val: boolean) => (string | number);\r\n    default: boolean;\r\n    valueChanged: (value: boolean) => void;\r\n};\r\n\r\nexport interface SettingRadioState extends SettingItemState {\r\n    value: boolean;\r\n};\r\n\r\n/**\r\n * 单选框.\r\n *\r\n * @export\r\n * @class SettingRadio\r\n * @extends {SettingItem<SettingRadioProps, SettingRadioState>}\r\n */\r\nexport class SettingRadio extends SettingItem<SettingRadioProps, SettingRadioState> {\r\n\r\n    protected svg: React.RefObject<SVGSVGElement>;\r\n    protected resizeListener: () => void;\r\n\r\n    public constructor(props: SettingRadioProps) {\r\n        super(props);\r\n        this.state = {\r\n            value: this.props.default\r\n        };\r\n\r\n        this.svg = React.createRef<SVGSVGElement>();\r\n        this.resizeListener = this.resize.bind(this);\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return this.props.name ? (\r\n            <div style={{\r\n                display: \"inline-flex\",\r\n                margin: \"2vh 2vw\",\r\n                fontSize: \"105%\",\r\n                alignItems: \"center\"\r\n            }} >\r\n                <label style={{\r\n                    cursor: \"none\",\r\n                    display: \"inline-block\",\r\n                    width: \"20vw\",\r\n                    maxWidth: \"260px\",\r\n                    marginLeft: \"auto\",\r\n                    marginRight: \"calc(4px + 0.1vw)\",\r\n                    wordBreak: \"break-all\",\r\n                    wordWrap: \"break-word\"\r\n                }} >\r\n                    { this.props.name }\r\n                </label>\r\n                <svg ref={ this.svg } height=\"40px\" style={{\r\n                    maxWidth: \"68vw\",\r\n                    minWidth: \"34vw\",\r\n                    marginRight: \"auto\"\r\n                }} >\r\n                    <rect key=\"background\" className=\"background\"\r\n                    x={ 0 } y={ 6 } width={ 28 } height={ 28 }\r\n                    rx={ 6 } ry={ 6 }\r\n                    style={{\r\n                        fill: Color.setLightness(\r\n                            Shared.theme.colortab.background, 0.2\r\n                        ),\r\n                        stroke: Color.setLightness(\r\n                            Shared.theme.colortab.background, 0.8\r\n                        ),\r\n                        strokeWidth: 3\r\n                    }}\r\n                    onMouseOver={\r\n                        e => {\r\n                            Shared.cursorState = \"pointer\";\r\n                            e.currentTarget.style.fill = Color.setLightness(\r\n                                Shared.theme.colortab.background, 0.08\r\n                            );\r\n                        }\r\n                    }\r\n                    onMouseOut={\r\n                        e => {\r\n                            Shared.cursorState = \"normal\";\r\n                            e.currentTarget.style.fill = Color.setLightness(\r\n                                Shared.theme.colortab.background, 0.2\r\n                            );\r\n                        }\r\n                    }\r\n                    onClick={\r\n                        () => {\r\n                            const val: boolean = !this.state.value;\r\n                            this.props.valueChanged(val);\r\n                            this.setState({\r\n                                value: val\r\n                            });\r\n                        }\r\n                    } />\r\n                    <circle key=\"target\" className=\"target\"\r\n                    cx={ 20 } cy={ 20 } r={ 9 }\r\n                    style={{\r\n                        display: this.state.value ? \"initial\" : \"none\",\r\n                        fill: \"none\",\r\n                        stroke: Color.setLightness(\r\n                            Shared.theme.colortab.frontground2, 0.7\r\n                        ),\r\n                        strokeWidth: 3.6,\r\n                        pointerEvents: \"none\"\r\n                    }} />\r\n                    <text x={ 100 } y={ 20 } textAnchor=\"middle\"\r\n                    style={{\r\n                        fill: Shared.theme.colortab.border,\r\n                        transform: \"translate(-0.5em,0.2em)\"\r\n                    }} >\r\n                        { this.props.formatter(this.state.value) }\r\n                    </text>\r\n                </svg>\r\n            </div>\r\n        ) : (\r\n            <div style={{\r\n                display: \"inline-flex\",\r\n                margin: \"2vh 2vw\",\r\n                fontSize: \"105%\",\r\n                alignItems: \"center\"\r\n            }} >\r\n                <svg ref={ this.svg } height=\"40px\" style={{\r\n                    width: \"36px\",\r\n                    height: \"36px\"\r\n                }} >\r\n                    <rect key=\"background\" className=\"background\"\r\n                    x={ 0 } y={ 6 } width={ 28 } height={ 28 }\r\n                    rx={ 6 } ry={ 6 }\r\n                    style={{\r\n                        fill: Color.setLightness(\r\n                            Shared.theme.colortab.background, 0.2\r\n                        ),\r\n                        stroke: Color.setLightness(\r\n                            Shared.theme.colortab.background, 0.8\r\n                        ),\r\n                        strokeWidth: 3\r\n                    }}\r\n                    onMouseOver={\r\n                        e => {\r\n                            Shared.cursorState = \"pointer\";\r\n                            e.currentTarget.style.fill = Color.setLightness(\r\n                                Shared.theme.colortab.background, 0.08\r\n                            );\r\n                        }\r\n                    }\r\n                    onMouseOut={\r\n                        e => {\r\n                            Shared.cursorState = \"normal\";\r\n                            e.currentTarget.style.fill = Color.setLightness(\r\n                                Shared.theme.colortab.background, 0.2\r\n                            );\r\n                        }\r\n                    }\r\n                    onClick={\r\n                        () => {\r\n                            const val: boolean = !this.state.value;\r\n                            this.props.valueChanged(val);\r\n                            this.setState({\r\n                                value: val\r\n                            });\r\n                        }\r\n                    } />\r\n                    <circle key=\"target\" className=\"target\"\r\n                    cx={ 20 } cy={ 20 } r={ 9 }\r\n                    style={{\r\n                        display: this.state.value ? \"initial\" : \"none\",\r\n                        fill: \"none\",\r\n                        stroke: Color.setLightness(\r\n                            Shared.theme.colortab.frontground2, 0.7\r\n                        ),\r\n                        strokeWidth: 3.6,\r\n                        pointerEvents: \"none\"\r\n                    }} />\r\n                    <text x={ 100 } y={ 20 } textAnchor=\"middle\"\r\n                    style={{\r\n                        fill: Shared.theme.colortab.border,\r\n                        transform: \"translate(-0.5em,0.2em)\"\r\n                    }} >\r\n                        { this.props.formatter(this.state.value) }\r\n                    </text>\r\n                </svg>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    protected resize(): void {\r\n        const svg: JQuery<SVGSVGElement> = $(this.svg.current!);\r\n\r\n        const w: number = svg.width()!;\r\n\r\n        const background: JQuery<SVGRectElement> = svg.children(\"rect.background\") as unknown as JQuery<SVGRectElement>;\r\n        const target: JQuery<SVGCircleElement> = svg.children(\"circle.target\") as unknown as JQuery<SVGCircleElement>;\r\n        const text: JQuery<SVGTextElement> = svg.children(\"text\") as unknown as JQuery<SVGTextElement>;\r\n\r\n        const x1: number = 4 + 0.05 * w;\r\n        const x2: number = 0.7 * w - 16;\r\n\r\n        background.attr(\"x\", x1);\r\n        target.attr(\"cx\", x1 + 14);\r\n        text.attr(\"x\", x2 + (w - x2) / 2);\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        this.resize();\r\n        $(window).on(\"resize\", this.resizeListener);\r\n    }\r\n\r\n    public componentWillUnmount(): void {\r\n        $(window).off(\"resize\", this.resizeListener);\r\n    }\r\n\r\n    public componentDidUpdate(): void {\r\n        this.resize();\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-09-05 15:10:09 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-05 23:12:15\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport { ProductId, Role } from \"../methods/typedict\";\r\nimport { find } from \"../methods/arrayhelper\";\r\nimport { InfoSet } from \"../constant/InfoSet\";\r\nimport Color from \"../preference/Color\";\r\nimport { InlineHTML } from \"./InlineHTML\";\r\nimport { LanguageChart } from \"./LanguageChart\";\r\nimport { SettingRadio } from \"./SettingItem\";\r\n\r\n\r\nexport interface ProductViewProps {\r\n    title: string;\r\n    style?: React.CSSProperties;\r\n};\r\n\r\nexport interface ProductViewState {\r\n    items: Array<ProductId>;\r\n    detail: boolean;\r\n};\r\n\r\n/**\r\n * 这个组件由于渲染作品集合.\r\n *\r\n * @export\r\n * @class ProductView\r\n * @extends {Component<ProductViewProps, ProductViewState>}\r\n */\r\nexport class ProductView extends Component<ProductViewProps, ProductViewState> {\r\n\r\n    public constructor(props: ProductViewProps) {\r\n        super(props);\r\n        this.state = {\r\n            items: [],\r\n            detail: true\r\n        };\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        const colorf = (role: Role): string => {\r\n            return role === \"individual\" ? \"rgb(255,176,255)\"\r\n                : role === \"leader\" ? \"rgb(254,241,135)\"\r\n                    : role === \"engineer\" ? \"rgb(235,81,82)\"\r\n                        : role === \"contributor\" ? \"rgb(148,243,237)\"\r\n                            : \"rgb(176,217,246)\"\r\n        };\r\n\r\n        return (\r\n            <div style={{\r\n                color: Shared.theme.colortab.color,\r\n                margin: \"calc(10px + 3vh) calc(20px + 8vw)\",\r\n                padding: \"calc(4px + 2vh) calc(-60px + 6vmax)\",\r\n                ...this.props.style\r\n            }} >\r\n                <div key=\"header\" style={{\r\n                    display: \"flex\"\r\n                }} >\r\n                    <div key=\"head\" style={{\r\n                        display: \"inline-block\",\r\n                        minWidth: \"40%\"\r\n                    }} >\r\n                        <h3 style={{\r\n                            textAlign: \"left\"\r\n                        }}\r\n                        onMouseOver={\r\n                            () => {\r\n                                Shared.cursorState = \"pointer\";\r\n                            }\r\n                        }\r\n                        onMouseOut={\r\n                            () => {\r\n                                Shared.cursorState = \"normal\";\r\n                            }\r\n                        } >\r\n                            { this.props.title }\r\n                        </h3>\r\n                    </div>\r\n                    <div key=\"tools\" style={{\r\n                        display: \"inline-flex\",\r\n                        minWidth: \"60%\",\r\n                        alignItems: \"center\",\r\n                        overflow: \"hidden\",\r\n                        justifyContent: \"end\"\r\n                    }} >\r\n                        <label style={{\r\n                            cursor: \"none\"\r\n                        }} >\r\n                            Detail\r\n                        </label>\r\n                        <SettingRadio name=\"\" default={ this.state.detail }\r\n                        formatter={ () => \"\" }\r\n                        valueChanged={\r\n                            b => {\r\n                                this.setState({\r\n                                    detail: b\r\n                                });\r\n                            }\r\n                        } />\r\n                    </div>\r\n                </div>\r\n                <hr style={{\r\n                    padding: \"1px 0\",\r\n                    border: `1px solid ${ Shared.theme.colortab.border }`,\r\n                    marginTop: 0\r\n                }} />\r\n                <div style={{\r\n                    margin: \"20px 0\",\r\n                    minHeight: this.props.style?.minHeight || \"300px\",\r\n                    fontSize: \"calc(8px + 1vmin)\",\r\n                    display: \"flex\",\r\n                    flexWrap: \"wrap\",\r\n                    justifyContent: \"space-around\" // 分散对齐\r\n                }} >\r\n                {\r\n                    this.state.items.map(id => {\r\n                        const item = find(InfoSet.products, e => e.id === id);\r\n                        if (!item) {\r\n                            return (\r\n                                <></>\r\n                            );\r\n                        }\r\n                        return (\r\n                            <div key={ id } style={{\r\n                                display: \"inline-block\",\r\n                                width: \"calc(150px + 16vmin)\",\r\n                                margin: \"1.2vmax 1.6vmin\",\r\n                                padding: \"3vmin 4vmin\"\r\n                            }} >\r\n                                <img src={ `./images/product_${ id }.png` }\r\n                                alt={ `product_${ id }` }\r\n                                onDragStart={ e => e.preventDefault() }\r\n                                style={{\r\n                                    display: \"block\",\r\n                                    width: \"calc(150px + 16vmin)\",\r\n                                    height: \"calc(81.82px + 8.72vmin)\",\r\n                                    marginBottom: \"calc(4px + 0.5em)\",\r\n                                    objectFit: \"contain\",\r\n                                    backgroundColor: \"#000000\"\r\n                                }}\r\n                                onMouseOver={\r\n                                    () => {\r\n                                        Shared.cursorState = \"pointer\";\r\n                                    }\r\n                                }\r\n                                onMouseOut={\r\n                                    () => {\r\n                                        Shared.cursorState = \"normal\";\r\n                                    }\r\n                                }\r\n                                onClick={\r\n                                    () => {\r\n                                        this.jumpTo(item.id);\r\n                                    }\r\n                                } />\r\n                                <div key=\"head\" style={{\r\n                                    display: \"flex\"\r\n                                }} >\r\n                                    <div key=\"avatar\"\r\n                                    style={{\r\n                                        display: \"inline-block\",\r\n                                        width: \"28px\"\r\n                                    }} >\r\n                                        <img src={ item.avatarURL }\r\n                                        alt={ `avatar` }\r\n                                        onDragStart={ e => e.preventDefault() }\r\n                                        style={{\r\n                                            display: \"block\",\r\n                                            width: \"28px\",\r\n                                            height: \"28px\",\r\n                                            objectFit: \"contain\",\r\n                                            backgroundColor: \"#000000\",\r\n                                            borderRadius: \"14px\"\r\n                                        }} />\r\n                                    </div>\r\n                                    <div key=\"info\"\r\n                                    style={{\r\n                                        display: \"inline-block\",\r\n                                        width: \"calc(112px + 16vmin)\",\r\n                                        marginLeft: \"8px\"\r\n                                    }} >\r\n                                        <label key=\"name\" style={{\r\n                                            cursor: \"none\",\r\n                                            fontWeight: \"bold\",\r\n                                            height: \"2.5em\",\r\n                                            display: \"-webkit-box\",\r\n                                            WebkitBoxOrient: \"vertical\",\r\n                                            WebkitLineClamp: 2,\r\n                                            overflow: \"hidden\",\r\n                                            textAlign: \"left\"\r\n                                        }}\r\n                                        onMouseOver={\r\n                                            () => {\r\n                                                Shared.cursorState = \"pointer\";\r\n                                            }\r\n                                        }\r\n                                        onMouseOut={\r\n                                            () => {\r\n                                                Shared.cursorState = \"normal\";\r\n                                            }\r\n                                        }\r\n                                        onClick={\r\n                                            () => {\r\n                                                this.jumpTo(item.id);\r\n                                            }\r\n                                        } >\r\n                                            { item.name }\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n                            {\r\n                                this.state.detail ? (\r\n                                    <div key=\"more\" >\r\n                                        <div key=\"base\" style={{\r\n                                            display: \"flex\",\r\n                                            margin: \"0.1em 0 0.4em\",\r\n                                            justifyContent: \"space-between\" // 两端对齐\r\n                                        }} >\r\n                                            <label key=\"role\" style={{\r\n                                                cursor: \"none\",\r\n                                                fontSize: \"80%\",\r\n                                                display: \"inline-block\",\r\n                                                color: colorf(item.role),\r\n                                                border: \"1px solid \" + colorf(item.role),\r\n                                                borderRadius: \"6px\",\r\n                                                overflow: \"hidden\",\r\n                                                padding: \"0 0.3em\",\r\n                                                margin: \"0 0.4em\"\r\n                                            }} >\r\n                                                { item.role }\r\n                                            </label>\r\n                                            <label key=\"time\" style={{\r\n                                                cursor: \"none\",\r\n                                                fontSize: \"80%\",\r\n                                                display: \"inline-block\",\r\n                                                color: Color.setLightness(\r\n                                                    Shared.theme.colortab.color,\r\n                                                    0.5\r\n                                                ),\r\n                                                overflow: \"hidden\",\r\n                                                opacity: 0.8\r\n                                            }} >\r\n                                            {\r\n                                                `${ item.beginTime[0] }/${ item.beginTime[1] }`\r\n                                                + \" ~ \"\r\n                                                + (\r\n                                                    item.closeTime === \"-\" ? \"\" : (\r\n                                                        `${ item.closeTime[0] }/${ item.closeTime[1] }`\r\n                                                    )\r\n                                                )\r\n                                            }\r\n                                            </label>\r\n                                        </div>\r\n                                        <div key=\"techs\" style={{\r\n                                            fontSize: \"80%\",\r\n                                            color: Color.setLightness(\r\n                                                Shared.theme.colortab.color,\r\n                                                0.5\r\n                                            ),\r\n                                            height: \"1.3em\",\r\n                                            margin: \"0.1em 0\",\r\n                                            textAlign: \"left\",\r\n                                            overflow: \"hidden\"\r\n                                        }} >\r\n                                        {\r\n                                            item.techs.map((tech, i) => {\r\n                                                return (\r\n                                                    <label key={ i }\r\n                                                    style={{\r\n                                                        display: \"inline-block\",\r\n                                                        cursor: \"none\",\r\n                                                        margin: \"0 0.5em 0.1em\",\r\n                                                        color: Color.setLightness(\r\n                                                            Shared.theme.colortab.frontground,\r\n                                                            0.9\r\n                                                        ),\r\n                                                        padding: \"0 0.4em\",\r\n                                                        borderRight: `1px solid ${\r\n                                                            Shared.theme.colortab.frontground\r\n                                                        }`,\r\n                                                        borderLeft: `1px solid ${\r\n                                                            Shared.theme.colortab.frontground\r\n                                                        }`,\r\n                                                        borderRadius: \"6px 2px\"\r\n                                                    }} >\r\n                                                        { tech }\r\n                                                    </label>\r\n                                                );\r\n                                            })\r\n                                        }\r\n                                        </div>\r\n                                        <LanguageChart data={ item.languages } />\r\n                                        <label key=\"description\" style={{\r\n                                            cursor: \"none\",\r\n                                            fontSize: \"90%\",\r\n                                            color: Color.setLightness(\r\n                                                Shared.theme.colortab.color,\r\n                                                0.5\r\n                                            ),\r\n                                            height: \"3.5em\",\r\n                                            display: \"-webkit-box\",\r\n                                            WebkitBoxOrient: \"vertical\",\r\n                                            WebkitLineClamp: 3,\r\n                                            overflow: \"hidden\",\r\n                                            textAlign: \"left\"\r\n                                        }} >\r\n                                            <InlineHTML\r\n                                            html={ item.description.split(\r\n                                                /<br *\\/?>/\r\n                                            ).join(\"&nbsp;&nbsp;\") } />\r\n                                        </label>\r\n                                    </div>\r\n                                ) : null\r\n                            }\r\n                            </div>\r\n                        );\r\n                    })\r\n                }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    /**\r\n     * 跳转页面查看详情.\r\n     *\r\n     * @protected\r\n     * @param {string} id\r\n     * @memberof ProductView\r\n     */\r\n    protected jumpTo(id: string): void {\r\n        const root: string = /.*\\/#\\//.exec(window.location.href)![0];\r\n        window.location.href = root + \"product/\" + id;\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 21:07:40 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-05 20:55:52\r\n */\r\n\r\nimport React from \"react\";\r\nimport { PageBody, PaperInfo, Bookmark } from \"../methods/typedict\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport { SettingsButton } from \"../compo/SettingsButton\";\r\nimport { InfoView } from \"../compo/InfoView\";\r\nimport { HomeButton } from \"../compo/HomeButton\";\r\nimport { ListView } from \"../compo/ListView\";\r\nimport { displayPaperInfo, displayBookmark } from \"../methods/display\";\r\nimport { InterestView } from \"../compo/InterestView\";\r\nimport { ProductView } from \"../compo/ProductView\";\r\nimport { InfoSet } from \"../constant/InfoSet\";\r\n\r\n\r\n/**\r\n * 这个页面级组件渲染对应地址 / .\r\n * \r\n * @export\r\n * @class Home\r\n * @extends {PageBody<{}>}\r\n */\r\nexport class Home extends PageBody<{}> {\r\n\r\n    protected productList: React.RefObject<ProductView>;\r\n    protected paperList: React.RefObject<ListView<PaperInfo>>;\r\n    protected bookmarkList: React.RefObject<ListView<Bookmark>>;\r\n\r\n    public constructor(props: {}) {\r\n        super(props);\r\n        this.state = {};\r\n\r\n        this.productList = React.createRef<ProductView>();\r\n        this.paperList = React.createRef<ListView<PaperInfo>>();\r\n        this.bookmarkList = React.createRef<ListView<Bookmark>>();\r\n    }\r\n    \r\n    public render(): JSX.Element {\r\n        return (\r\n            <>\r\n                <InfoView />\r\n                <InterestView />\r\n                <ProductView ref={ this.productList }\r\n                title=\"Products\" />\r\n                <ListView<PaperInfo> ref={ this.paperList }\r\n                title=\"Paper Publications\" maxPerPage={ 8 }\r\n                display={ displayPaperInfo } />\r\n                <ListView<Bookmark> ref={ this.bookmarkList }\r\n                title=\"Bookmarks (external links)\" maxPerPage={ 8 }\r\n                display={ displayBookmark } />\r\n                <HomeButton active={ false } />\r\n                <SettingsButton />\r\n            </>\r\n        );\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        Shared.cursorState = \"normal\";\r\n\r\n        this.paperList.current?.setState({\r\n            items: InfoSet.papers\r\n        });\r\n\r\n        this.bookmarkList.current?.setState({\r\n            items: InfoSet.bookmarks\r\n        });\r\n\r\n        this.productList.current?.setState({\r\n            items: InfoSet.products.map(d => d.id)\r\n        });\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 20:50:07 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-01 23:06:15\r\n */\r\n\r\nimport React from \"react\";\r\nimport { PageBody } from \"../methods/typedict\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport { SettingsButton } from \"../compo/SettingsButton\";\r\nimport { HomeButton } from \"../compo/HomeButton\";\r\n\r\n\r\n/**\r\n * 这个页面级组件在无法访问对应网址时渲染.\r\n * \r\n * @export\r\n * @class BadUrl\r\n * @extends {PageBody<{}>}\r\n */\r\nexport class BadUrl extends PageBody<{}> {\r\n\r\n    public constructor(props: {}) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n    \r\n    public render(): JSX.Element {\r\n        return (\r\n            <>\r\n                <div style={{\r\n                    color: Shared.theme.colortab.color,\r\n                    margin: \"calc(10px + 6vh) calc(20px + 8vw) calc(10px + 3vh)\",\r\n                    padding: \"calc(12px + 5vh)\",\r\n                    border: `1px solid ${ Shared.theme.colortab.border }`,\r\n                    boxShadow: `6px 5px 0 1px ${\r\n                        Shared.theme.colortab.border.replace(\r\n                            \"(\", \"a(\"\r\n                        ).replace(\r\n                            \")\", \",0.1)\"\r\n                        )\r\n                    }`\r\n                }} >\r\n                    <h1 style={{\r\n                        color: Shared.theme.colortab.color,\r\n                        margin: \"calc(20px + 3vh)\"\r\n                    }} >\r\n                        404 - Bad Gateway\r\n                    </h1>\r\n                    <br />\r\n                    <span style={{ color: Shared.theme.colortab.frontground }} >\r\n                        Sorry, the URL you required is not valid.\r\n                    </span>\r\n                </div>\r\n                <HomeButton active={ true } />\r\n                <SettingsButton />\r\n            </>\r\n        );\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        Shared.cursorState = \"normal\";\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-29 21:41:10 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-01 19:53:40\r\n */\r\n\r\nimport React from \"react\";\r\nimport { PageBody } from \"../methods/typedict\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport { SettingValueBar, SettingRadio } from \"../compo/SettingItem\";\r\nimport { HomeButton } from \"../compo/HomeButton\";\r\n\r\n\r\n/**\r\n * 这个页面级组件渲染对应地址 /settings .\r\n * \r\n * @export\r\n * @class Settings\r\n * @extends {PageBody<{}>}\r\n */\r\nexport class Settings extends PageBody<{}> {\r\n\r\n    protected fpsSetter: React.RefObject<SettingValueBar>;\r\n    protected fpsRadio: React.RefObject<SettingRadio>;\r\n    protected fpsUpdater: NodeJS.Timeout;\r\n\r\n    public constructor(props: {}) {\r\n        super(props);\r\n        this.state = {};\r\n\r\n        this.fpsSetter = React.createRef<SettingValueBar>();\r\n        this.fpsRadio = React.createRef<SettingRadio>();\r\n        this.fpsUpdater = Shared.autoFPS ? setInterval(() => {\r\n            this.fpsSetter.current?.setState({\r\n                value: Shared.animationFPS\r\n            });\r\n        }, 400) : setTimeout(() => {}, 0);\r\n    }\r\n    \r\n    public render(): JSX.Element {\r\n        return (\r\n            <>\r\n                <h1 style={{\r\n                    color: Shared.theme.colortab.color,\r\n                    margin: \"calc(20px + 3vh)\"\r\n                }} >\r\n                    Settings\r\n                </h1>\r\n                <div style={{\r\n                    color: Shared.theme.colortab.color,\r\n                    width: \"86vw\",\r\n                    margin: \"calc(10px + 6vh) 4vw calc(10px + 3vh)\",\r\n                    padding: \"calc(12px + 5vh) 3vw\",\r\n                    display: \"block\"\r\n                }} >\r\n                    <SettingValueBar ref={ this.fpsSetter } name=\"Animation FPS\"\r\n                    min={ 10 } max={ 120 } default={ Shared.animationFPS }\r\n                    formatter={\r\n                        (val: number) => val\r\n                    }\r\n                    setter={\r\n                        (val: number) => Math.floor(val / 5) * 5\r\n                    }\r\n                    previewChanging={\r\n                        (val: number) => {\r\n                            clearInterval(this.fpsUpdater);\r\n                            this.fpsUpdater = setTimeout(() => {}, 0);\r\n                            if (Shared.autoFPS) {\r\n                                Shared.autoFPS = false;\r\n                                this.fpsRadio.current?.setState({\r\n                                    value: false\r\n                                });\r\n                            }\r\n                            Shared.animationFPS = val;\r\n                        }\r\n                    }\r\n                    valueChanged={\r\n                        (val: number) => {\r\n                            Shared.animationFPS = val;\r\n                        }\r\n                    } />\r\n                    <SettingRadio ref={ this.fpsRadio } name=\"Auto FPS\"\r\n                    default={ Shared.autoFPS }\r\n                    formatter={\r\n                        (val: boolean) => val ? \"on\" : \"off\"\r\n                    }\r\n                    valueChanged={\r\n                        (val: boolean) => {\r\n                            Shared.autoFPS = val;\r\n\r\n                            clearInterval(this.fpsUpdater);\r\n\r\n                            this.fpsUpdater = Shared.autoFPS ? setInterval(() => {\r\n                                this.fpsSetter.current?.setState({\r\n                                    value: Shared.animationFPS\r\n                                });\r\n                            }, 400) : setTimeout(() => {}, 0);\r\n                        }\r\n                    } />\r\n                    <SettingValueBar name=\"Partical Effects\"\r\n                    formatter={\r\n                        (val: number) => (\r\n                            val === 3 ? \"high\"\r\n                                : val === 2 ? \"normal\"\r\n                                    : val === 1 ? \"low\"\r\n                                        : \"off\"\r\n                        )\r\n                    }\r\n                    min={ 0 } max={ 3 } default={ Shared.particalEffects }\r\n                    setter={\r\n                        (val: number) => Math.round(val)\r\n                    }\r\n                    previewChanging={\r\n                        (val: number) => {\r\n                            Shared.particalEffects = val as 0 | 1 | 2 | 3;\r\n                        }\r\n                    }\r\n                    valueChanged={\r\n                        (val: number) => {\r\n                            Shared.particalEffects = val as 0 | 1 | 2 | 3;\r\n                        }\r\n                    } />\r\n                    <SettingValueBar name=\"Partical Opacity\"\r\n                    formatter={\r\n                        (val: number) => val.toFixed(2)\r\n                    }\r\n                    min={ 0.1 } max={ 1 } default={ Shared.particalOpacity }\r\n                    setter={\r\n                        (val: number) => val\r\n                    }\r\n                    previewChanging={\r\n                        (val: number) => {\r\n                            Shared.particalOpacity = val;\r\n                        }\r\n                    }\r\n                    valueChanged={\r\n                        (val: number) => {\r\n                            Shared.particalOpacity = val;\r\n                        }\r\n                    } />\r\n                </div>\r\n                <HomeButton active={ true } />\r\n            </>\r\n        );\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        Shared.cursorState = \"normal\";\r\n    }\r\n\r\n    public componentWillUnmount(): void {\r\n        clearInterval(this.fpsUpdater);\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-09-06 01:19:10 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-06 20:13:40\r\n */\r\n\r\nimport React from \"react\";\r\nimport $ from \"jquery\";\r\nimport flvjs from \"flv.js\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport { ResponsiveComponent } from \"./ResponsiveComponent\";\r\n\r\n\r\nexport interface BilibiliFlvProps {\r\n    autoPlay?: boolean;\r\n    control?: BilibiliFlvControlInterface;\r\n    onPlayEnd?: () => void;\r\n    type: \"flv\" | \"mp4\";\r\n    url: string;\r\n};\r\n\r\nexport interface BilibiliFlvState {\r\n    control: BilibiliFlvControlInterface;\r\n    state: \"playing\" | \"paused\";\r\n    duration: number;\r\n    buffered: number;\r\n    curTime: number;\r\n    w: number;\r\n};\r\n\r\n/**\r\n * 基于 bilibili/flv.js 制作的组件.\r\n *\r\n * @export\r\n * @class BilibiliFlv\r\n * @extends {ResponsiveComponent<BilibiliFlvProps, BilibiliFlvState>}\r\n */\r\nexport class BilibiliFlv extends ResponsiveComponent<BilibiliFlvProps, BilibiliFlvState> {\r\n\r\n    protected dom: React.RefObject<HTMLVideoElement>;\r\n    protected control: React.RefObject<HTMLDivElement>;\r\n    protected progBase: React.RefObject<SVGSVGElement>;\r\n    protected progBuffer: React.RefObject<SVGRectElement>;\r\n    protected progCurrent: React.RefObject<SVGRectElement>;\r\n    protected progFlag: React.RefObject<SVGGElement>;\r\n    protected timetip: React.RefObject<HTMLDivElement>;\r\n\r\n    private timer: NodeJS.Timeout;\r\n    private focus: number | null;\r\n    private copy: HTMLVideoElement;\r\n\r\n    public constructor(props: BilibiliFlvProps) {\r\n        super(props);\r\n        this.state = {\r\n            control: this.props.control || BilibiliFlvControlDefault,\r\n            state: this.props.autoPlay ? \"playing\" : \"paused\",\r\n            duration: 0,\r\n            buffered: 0,\r\n            curTime: 0,\r\n            w: 0\r\n        };\r\n\r\n        this.dom = React.createRef<HTMLVideoElement>();\r\n        this.control = React.createRef<HTMLDivElement>();\r\n        this.progBase = React.createRef<SVGSVGElement>();\r\n        this.progBuffer = React.createRef<SVGRectElement>();\r\n        this.progCurrent = React.createRef<SVGRectElement>();\r\n        this.progFlag = React.createRef<SVGGElement>();\r\n        this.timetip = React.createRef<HTMLDivElement>();\r\n\r\n        this.timer = setTimeout(() => void 0, 0);\r\n        this.focus = null;\r\n        this.copy = document.createElement(\"video\");\r\n        this.copy.style.width = \"100%\";\r\n        this.copy.style.height = \"100%\";\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div\r\n            onMouseMove={\r\n                () => {\r\n                    $(this.control.current || {}).fadeIn(200);\r\n                    clearTimeout(this.timer);\r\n                    this.timer = setTimeout(() => {\r\n                        $(this.control.current || {}).fadeOut(800);\r\n                    }, 1600);\r\n                }\r\n            }\r\n            style={{\r\n                overflow: \"hidden\"\r\n            }} >\r\n                <video key=\"video\" ref={ this.dom } autoPlay={ this.props.autoPlay }\r\n                style={{\r\n                    display: \"block\",\r\n                    width: \"100%\"\r\n                }}\r\n                onMouseOver={\r\n                    () => {\r\n                        Shared.cursorState = \"pointer\";\r\n                    }\r\n                }\r\n                onMouseOut={\r\n                    () => {\r\n                        Shared.cursorState = \"normal\";\r\n                    }\r\n                }\r\n                onClick={\r\n                    () => {\r\n                        if (!this.dom.current) {\r\n                            return;\r\n                        }\r\n                        clearTimeout(this.timer);\r\n                        $(this.control.current || {}).fadeIn(0);\r\n                        this.timer = setTimeout(() => {\r\n                            $(this.control.current || {}).fadeOut(800);\r\n                        }, 1600);\r\n                        if (this.dom.current.paused) {\r\n                            this.play();\r\n                        } else {\r\n                            this.pause();\r\n                        }\r\n                    }\r\n                }\r\n                onCanPlay={\r\n                    () => {\r\n                        this.setState({\r\n                            duration: this.dom.current!.duration,\r\n                            buffered: this.dom.current!.buffered.end(0),\r\n                            curTime: this.dom.current!.currentTime\r\n                        });\r\n                    }\r\n                }\r\n                onTimeUpdate={\r\n                    () => {\r\n                        if (this.dom.current!.currentTime === this.dom.current!.duration) {\r\n                            // 播完动作\r\n                            (this.props.onPlayEnd || (() => {\r\n                                this.dom.current!.pause();\r\n                                this.dom.current!.currentTime = 0;\r\n                                clearTimeout(this.timer);\r\n                                $(this.control.current || {}).fadeIn(0);\r\n                                this.timer = setTimeout(() => {\r\n                                    $(this.control.current || {}).fadeOut(800);\r\n                                }, 1600);\r\n                                this.setState({\r\n                                    state: \"paused\",\r\n                                    curTime: 0\r\n                                });\r\n                            }))();\r\n                        } else {\r\n                            this.setState({\r\n                                buffered: this.dom.current!.buffered.end(0),\r\n                                curTime: this.dom.current!.currentTime\r\n                            });\r\n                        }\r\n                    }\r\n                } >\r\n                    Please update your browser to support HTML5 video.\r\n                </video>\r\n                <div key=\"control\" ref={ this.control }\r\n                style={{\r\n                    width: `100%`,\r\n                    background: this.state.control.background,\r\n                    height: \"36px\",\r\n                    padding: \"0 6px\",\r\n                    position: \"relative\",\r\n                    top: \"-36px\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    flexWrap: \"wrap\",\r\n                    marginBottom: \"-36px\"\r\n                }}\r\n                onMouseOver={\r\n                    () => {\r\n                        $(this.control.current || {}).fadeIn(200);\r\n                        clearTimeout(this.timer);\r\n                    }\r\n                }\r\n                onMouseOut={\r\n                    () => {\r\n                        clearTimeout(this.timer);\r\n                        this.timer = setTimeout(() => {\r\n                            $(this.control.current || {}).fadeOut(800);\r\n                        }, 1600);\r\n                    }\r\n                }\r\n                onMouseMove={\r\n                    e => {\r\n                        e.stopPropagation();\r\n                        $(this.control.current || {}).fadeIn(200);\r\n                        clearTimeout(this.timer);\r\n                    }\r\n                } >\r\n                    {/* 播放/暂停按钮 */}\r\n                    <svg key=\"play\"\r\n                    style={{\r\n                        width: \"36px\",\r\n                        height: \"36px\",\r\n                        // border: \"1px solid blue\"\r\n                    }} >\r\n                        { this.state.state === \"playing\" ? (\r\n                            this.state.control.btnStop.map((d, i) => {\r\n                                return {\r\n                                    ...d,\r\n                                    props: i ? {\r\n                                        ...d.props,\r\n                                        style: {\r\n                                            ...d.props.style,\r\n                                            pointerEvents: \"none\"\r\n                                        }\r\n                                    } : {\r\n                                        onMouseOver: () => {\r\n                                            Shared.cursorState = \"pointer\";\r\n                                        },\r\n                                        onMouseOut: () => {\r\n                                            Shared.cursorState = \"normal\";\r\n                                        },\r\n                                        onClick: () => this.pause(),\r\n                                        ...d.props\r\n                                    },\r\n                                    key: i\r\n                                };\r\n                            })\r\n                        ) : (\r\n                            this.state.control.btnPlay.map((d, i) => {\r\n                                return {\r\n                                    ...d,\r\n                                    props: i ? {\r\n                                        ...d.props,\r\n                                        style: {\r\n                                            ...d.props.style,\r\n                                            pointerEvents: \"none\"\r\n                                        }\r\n                                    } : {\r\n                                        onMouseOver: () => {\r\n                                            Shared.cursorState = \"pointer\";\r\n                                        },\r\n                                        onMouseOut: () => {\r\n                                            Shared.cursorState = \"normal\";\r\n                                        },\r\n                                        onClick: () => this.play(),\r\n                                        ...d.props\r\n                                    },\r\n                                    key: i\r\n                                };\r\n                            })\r\n                        ) }\r\n                    </svg>\r\n                    {/* 当前时间 */}\r\n                    <label key=\"curTime\" style={{\r\n                        display: \"inline-block\",\r\n                        fontSize: \"12px\",\r\n                        width: \"48px\",\r\n                        cursor: \"none\",\r\n                        // border: \"1px solid blue\",\r\n                        color: this.state.control.color\r\n                    }} >\r\n                        { BilibiliFlv.toTimeString(this.state.curTime) }\r\n                    </label>\r\n                    {/* 进度条 */}\r\n                    <svg key=\"progress\"\r\n                    style={{\r\n                        height: \"36px\",\r\n                        // border: \"1px solid blue\"\r\n                    }} >\r\n                    {/* 背景 */}\r\n                    {\r\n                        {\r\n                            ...this.state.control.progressBase,\r\n                            props: {\r\n                                ...this.state.control.progressBase.props,\r\n                                onMouseOver: (e: React.MouseEvent<SVGRectElement, MouseEvent>) => {\r\n                                    Shared.cursorState = \"pointer\";\r\n                                    const x: number = e.clientX - (\r\n                                        $(e.currentTarget).offset()?.left || 0\r\n                                    );\r\n                                    const time: number = this.state.duration / (\r\n                                        $(e.currentTarget).width()!\r\n                                    ) * x;\r\n                                    this.focus = time;\r\n                                    this.forceUpdate();\r\n                                    if (!this.timetip.current) {\r\n                                        return;\r\n                                    }\r\n                                    this.timetip.current.style.top = `${\r\n                                        ($(e.currentTarget).offset()?.top || 0) - (\r\n                                            $(window).scrollTop() || 0\r\n                                        )\r\n                                    }px`;\r\n                                    this.timetip.current.style.left = `${\r\n                                        e.clientX\r\n                                    }px`;\r\n                                },\r\n                                onMouseMove: (e: React.MouseEvent<SVGRectElement, MouseEvent>) => {\r\n                                    Shared.cursorState = \"pointer\";\r\n                                    const x: number = e.clientX - (\r\n                                        $(e.currentTarget).offset()?.left || 0\r\n                                    );\r\n                                    const time: number = this.state.duration / (\r\n                                        $(e.currentTarget).width()!\r\n                                    ) * x;\r\n                                    this.focus = time;\r\n                                    this.forceUpdate();\r\n                                    if (!this.timetip.current) {\r\n                                        return;\r\n                                    }\r\n                                    this.timetip.current.style.top = `${\r\n                                        ($(e.currentTarget).offset()?.top || 0) - (\r\n                                            $(window).scrollTop() || 0\r\n                                        )\r\n                                    }px`;\r\n                                    this.timetip.current.style.left = `${\r\n                                        e.clientX\r\n                                    }px`;\r\n                                },\r\n                                onMouseOut: () => {\r\n                                    Shared.cursorState = \"normal\";\r\n                                    this.focus = null;\r\n                                    this.forceUpdate();\r\n                                },\r\n                                onClick: (e: React.MouseEvent<SVGRectElement, MouseEvent>) => {\r\n                                    if (!this.dom.current) {\r\n                                        return;\r\n                                    }\r\n                                    \r\n                                    const x: number = e.clientX - (\r\n                                        $(e.currentTarget).offset()?.left || 0\r\n                                    );\r\n                                    const time: number = this.state.duration / (\r\n                                        $(e.currentTarget).width()!\r\n                                    ) * x;\r\n                                    this.dom.current.currentTime = time;\r\n                                    this.setState({\r\n                                        curTime: time\r\n                                    });\r\n                                },\r\n                                x: 20\r\n                            },\r\n                            key: \"base\",\r\n                            ref: this.progBase\r\n                        }\r\n                    }\r\n                    {/* 已缓冲 */}\r\n                    {\r\n                        {\r\n                            ...this.state.control.progressBuffer,\r\n                            props: {\r\n                                ...this.state.control.progressBuffer.props,\r\n                                style: {\r\n                                    ...this.state.control.progressBuffer.props.style,\r\n                                    pointerEvents: \"none\"\r\n                                },\r\n                                x: 20\r\n                            },\r\n                            key: \"buffer\",\r\n                            ref: this.progBuffer\r\n                        }\r\n                    }\r\n                    {/* 当前进度 */}\r\n                    {\r\n                        {\r\n                            ...this.state.control.progressCurrent,\r\n                            props: {\r\n                                ...this.state.control.progressCurrent.props,\r\n                                style: {\r\n                                    ...this.state.control.progressCurrent.props.style,\r\n                                    pointerEvents: \"none\"\r\n                                },\r\n                                x: 20\r\n                            },\r\n                            key: \"current\",\r\n                            ref: this.progCurrent\r\n                        }\r\n                    }\r\n                    {/* 标志 */}\r\n                    {\r\n                        {\r\n                            ...this.state.control.progressFlag,\r\n                            props: {\r\n                                ...this.state.control.progressFlag.props,\r\n                                style: {\r\n                                    ...this.state.control.progressFlag.props.style,\r\n                                    transform: \"translateX(-100vw)\"\r\n                                }\r\n                            },\r\n                            key: \"flag\",\r\n                            ref: this.progFlag\r\n                        }\r\n                    }\r\n                    </svg>\r\n                    {/* 总时间 */}\r\n                    <label key=\"duration\" style={{\r\n                        display: \"inline-block\",\r\n                        fontSize: \"12px\",\r\n                        width: \"48px\",\r\n                        cursor: \"none\",\r\n                        // border: \"1px solid blue\",\r\n                        color: this.state.control.color\r\n                    }} >\r\n                        { BilibiliFlv.toTimeString(this.state.duration) }\r\n                    </label>\r\n                </div>\r\n                <div key=\"timetip\" ref={ this.timetip }\r\n                style={{\r\n                    pointerEvents: \"none\",\r\n                    display: typeof this.focus === \"number\" ? \"unset\" : \"none\",\r\n                    position: \"fixed\",\r\n                    top: -100,\r\n                    left: -100,\r\n                    transform: \"translate(-50%,-100%)\"\r\n                }} >\r\n                {\r\n                    this.dom.current && typeof this.focus === \"number\" ? (\r\n                        (() => {\r\n                            this.copy.currentTime = this.focus;\r\n                            return this.state.control.getSnapshot(this.focus, this.copy);\r\n                        })()\r\n                    ) : null\r\n                }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    /**\r\n     * 调整进度条元素.\r\n     *\r\n     * @protected\r\n     * @returns {void}\r\n     * @memberof BilibiliFlv\r\n     */\r\n    protected adjustBox(): void {\r\n        if (!this.progBase.current || !this.progBuffer.current\r\n            || !this.progCurrent.current || !this.progFlag.current) {\r\n            return;\r\n        }\r\n        \r\n        const w: number = this.state.w - 12 /* container-padding */ - (\r\n            36 + 48 + 48\r\n            + 10\r\n        ) /* others-box-width */;\r\n        \r\n        // progress-container\r\n        this.progBase.current.parentElement!.setAttribute(\"width\", `${ w }px`);\r\n        // progress-base\r\n        this.progBase.current.setAttribute(\"width\", `${ w - 40 }px`);\r\n        // progress-buffered\r\n        this.progBuffer.current.setAttribute(\"width\", `${\r\n            (w - 40) / this.state.duration * this.state.buffered || 0\r\n        }px`);\r\n        // progress-current\r\n        this.progCurrent.current.setAttribute(\"width\", `${\r\n            (w - 40) / this.state.duration * this.state.curTime || 0\r\n        }px`);\r\n        // progress-flag\r\n        this.progFlag.current.style.transform = `translateX(${\r\n            ((w - 40) / this.state.duration * this.state.curTime || 0) + 20\r\n        }px)`;\r\n    }\r\n\r\n    public componentDidMountRE(): void {\r\n        if (flvjs.isSupported() && this.dom.current) {\r\n            $(this.control.current || {}).hide();\r\n            const flvPlayer = flvjs.createPlayer({\r\n                type: this.props.type,\r\n                url: this.props.url\r\n            });\r\n            flvPlayer.attachMediaElement(this.dom.current);\r\n            flvPlayer.load();\r\n            const flvPlayerSS = flvjs.createPlayer({\r\n                type: this.props.type,\r\n                url: this.props.url\r\n            });\r\n            flvPlayerSS.attachMediaElement(this.copy);\r\n            flvPlayerSS.load();\r\n        }\r\n    }\r\n\r\n    public componentWillResize(): void {\r\n        const w: number = this.dom.current?.offsetWidth || 0;\r\n        if (w !== this.state.w) {\r\n            this.setState({\r\n                w: w\r\n            });\r\n        }\r\n    }\r\n\r\n    public componentDidUpdate(): void {\r\n        this.adjustBox();\r\n    }\r\n\r\n    public static toTimeString(sec: number): string {\r\n        const minutes: number = Math.floor(sec / 60);\r\n        const seconds: number = Math.floor(sec % 60);\r\n\r\n        return `${\r\n            minutes.toString().padStart(2, \"0\")\r\n        }:${\r\n            seconds.toString().padStart(2, \"0\")\r\n        }`;\r\n    }\r\n\r\n    protected play(): void {\r\n        if (!flvjs.isSupported() || !this.dom.current) {\r\n            return;\r\n        }\r\n        if (this.dom.current.paused) {\r\n            this.dom.current.play();\r\n            this.setState({\r\n                state: \"playing\"\r\n            });\r\n        }\r\n    }\r\n\r\n    protected pause(): void {\r\n        if (!flvjs.isSupported() || !this.dom.current) {\r\n            return;\r\n        }\r\n        if (!this.dom.current.paused) {\r\n            this.dom.current.pause();\r\n            this.setState({\r\n                state: \"paused\"\r\n            });\r\n        }\r\n    }\r\n\r\n    public componentWillUnmountRE(): void {\r\n        clearTimeout(this.timer);\r\n    }\r\n\r\n};\r\n\r\n/**\r\n * 播放器组件的控制条元素.\r\n *\r\n * @export\r\n * @interface BilibiliFlvControlInterface\r\n */\r\nexport interface BilibiliFlvControlInterface {\r\n    /** 整体背景样式 (style.background) */\r\n    background: string;\r\n\r\n    /** 播放按钮 */\r\n    btnPlay: Array<JSX.Element>;    // 第一个元素作为判断交互的碰撞箱 (下同)\r\n    /** 暂停按钮 */\r\n    btnStop: Array<JSX.Element>;\r\n\r\n    /** 时间字体颜色 */\r\n    color: string;\r\n\r\n    /** 进度条：背景，rect，x坐标自动延伸 */\r\n    progressBase: JSX.Element;\r\n    /** 进度条：加载，rect，x坐标自动定位 */\r\n    progressBuffer: JSX.Element;\r\n    /** 进度条：进度，rect，x坐标自动定位 */\r\n    progressCurrent: JSX.Element;\r\n    /** 进度条：标志，transformX自动定位 */\r\n    progressFlag: JSX.Element;\r\n\r\n    /** 渲染快照预览 */\r\n    getSnapshot: (time: number, o: HTMLVideoElement) => JSX.Element;\r\n};\r\n\r\n/**\r\n * 默认的控制条元素.\r\n */\r\nexport const BilibiliFlvControlDefault: BilibiliFlvControlInterface = {\r\n    background: \"rgba(30,30,30,0.9)\",\r\n\r\n    btnPlay: [(\r\n        <circle\r\n        cx=\"18\" cy=\"18\" r=\"16\"\r\n        style={{\r\n            fill: \"#00000000\"\r\n        }} />\r\n    ), (\r\n        <path d={\r\n            \"M11,10 Q11,8 17,11.33 L25,15.78 Q29,18 25,20.22 L17,24.67 Q11,28 11,26 Z\"\r\n        }\r\n        style={{\r\n            fill: \"rgb(250,250,250)\"\r\n        }} />\r\n    )],\r\n    btnStop: [(\r\n        <circle\r\n        cx=\"18\" cy=\"18\" r=\"16\"\r\n        style={{\r\n            fill: \"#00000000\"\r\n        }} />\r\n    ), (\r\n        <path d={\r\n            \"M11,10 L15,10 L15,26 L11,26 Z M21,10 L25,10 L25,26 L21,26 Z\"\r\n        }\r\n        style={{\r\n            fill: \"rgb(250,250,250)\"\r\n        }} />\r\n    )],\r\n\r\n    color: \"rgb(255,255,255)\",\r\n\r\n    progressBase: (\r\n        <rect y=\"15\" height=\"6\" rx=\"3\" ry=\"3\"\r\n        style={{\r\n            fill: \"rgb(90,90,90)\"\r\n        }} />\r\n    ),\r\n    progressBuffer: (\r\n        <rect y=\"15\" height=\"6\" rx=\"3\" ry=\"3\"\r\n        style={{\r\n            fill: \"rgb(124,124,124)\"\r\n        }} />\r\n    ),\r\n    progressCurrent: (\r\n        <rect y=\"15\" height=\"6\" rx=\"3\" ry=\"3\"\r\n        style={{\r\n            fill: \"rgb(203,200,202)\"\r\n        }} />\r\n    ),\r\n    progressFlag: (\r\n        <circle cy=\"18\" r=\"6\" cx=\"0\"\r\n        style={{\r\n            fill: \"rgb(255,255,255)\",\r\n            stroke: \"rgb(30,30,30)\"\r\n        }} />\r\n    ),\r\n\r\n    getSnapshot: (time: number, o: HTMLVideoElement) => {\r\n        const randomId: string = (Math.random() * 1e6).toFixed(0);\r\n\r\n        setTimeout(() => {\r\n            $(`#${ randomId }`).append(o);\r\n        }, 20);\r\n\r\n        return (\r\n            <div style={{\r\n                width: \"16vmin\",\r\n                backgroundColor: \"rgb(30,30,30)\",\r\n                padding: \"4px\"\r\n            }} >\r\n                <div id={ randomId }\r\n                style={{\r\n                    display: \"block\"\r\n                }} />\r\n                <label\r\n                style={{\r\n                    display: \"block\",\r\n                    fontSize: \"12px\"\r\n                }} >\r\n                    { BilibiliFlv.toTimeString(time) }\r\n                </label>\r\n            </div>\r\n        );\r\n    },\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-09-06 13:09:49 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-06 14:25:42\r\n */\r\n\r\nimport { Component } from \"react\";\r\n\r\n\r\n/**\r\n * A base class extending React.Component. \r\n * \r\n * This kind of components will automatically called a method `componentWillResize` \r\n * after the window resized. \r\n * \r\n * To make sure the component works, DO NOT override method \r\n * `componentDidMount` or `componentWillUnmount`, use \r\n * `componentDidMountRE` and `componentWillUnmountRE` instead. \r\n *\r\n * @export\r\n * @class ResponsiveComponent\r\n * @extends {Component<P, S, SS>}\r\n * @template P type of props\r\n * @template S type of state\r\n * @template SS type of children\r\n */\r\nexport class ResponsiveComponent<P = {}, S = {}, SS = any> extends Component<P, S, SS> {\r\n\r\n    /**\r\n     * This is the listener of the resizing event.\r\n     *\r\n     * @private\r\n     * @memberof ResponsiveComponent\r\n     */\r\n    private readonly _windowResizeListener = (): void => {\r\n        if (this.componentWillResize(window.innerWidth, window.innerHeight)) {\r\n            this.forceUpdate();\r\n        }\r\n    };\r\n\r\n    public constructor(props: P) {\r\n        super(props);\r\n    }\r\n    \r\n    /**\r\n     * Override this method when declaring a class extending ResponsiveComponent.\r\n     * \r\n     * This method is automatically called when the window resizes.\r\n     * \r\n     * If it returns `true`, `forceUpdate` will be called to update the elements.\r\n     * \r\n     * You need to realize that this process will NOT cause a `setState` or \r\n     * a `getSnapshotBeforeUpdate` call.\r\n     *\r\n     * @param {number} WIDTH width of the window\r\n     * @param {number} HEIGHT height of the window\r\n     * @returns {boolean | void}\r\n     * @memberof ResponsiveComponent\r\n     */\r\n    public componentWillResize(WIDTH: number, HEIGHT: number): boolean | void {}\r\n\r\n    /**\r\n     * UNSUGGESTED - use `componentDidMountRE` instead.\r\n     *\r\n     * @memberof ResponsiveComponent\r\n     */\r\n    public readonly componentDidMount = (): void => {\r\n        this.componentDidMountRE();\r\n        window.addEventListener(\"resize\", this._windowResizeListener);\r\n        this._windowResizeListener();\r\n    }\r\n\r\n    /**\r\n     * UNSUGGESTED - use `componentWillUnmountRE` instead.\r\n     *\r\n     * @memberof ResponsiveComponent\r\n     */\r\n    public readonly componentWillUnmount = (): void => {\r\n        window.removeEventListener(\"resize\", this._windowResizeListener);\r\n    }\r\n\r\n    /**\r\n     * Working as React cycling `componentDidMount`. \r\n     * \r\n     * Called immediately after a component is mounted. \r\n     * Setting state here will trigger re-rendering.\r\n     *\r\n     * @protected\r\n     * @memberof ResponsiveComponent\r\n     */\r\n    protected componentDidMountRE(): void {}\r\n\r\n    /**\r\n     * Working as React cycling `componentWillUnmount`. \r\n     * \r\n     * Called immediately before a component is destroyed. \r\n     * Perform any necessary cleanup in this method, \r\n     * such as cancelled network requests, \r\n     * or cleaning up any DOM elements created in componentDidMountRE.\r\n     *\r\n     * @protected\r\n     * @memberof ResponsiveComponent\r\n     */\r\n    protected componentWillUnmountRE(): void {}\r\n    \r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-09-05 15:50:49 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-09-06 14:42:13\r\n */\r\n\r\nimport React from \"react\";\r\nimport { PageBody, Product, Role } from \"../methods/typedict\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport { SettingsButton } from \"../compo/SettingsButton\";\r\nimport { HomeButton } from \"../compo/HomeButton\";\r\nimport { find } from \"../methods/arrayhelper\";\r\nimport { InfoSet } from \"../constant/InfoSet\";\r\nimport Color from \"../preference/Color\";\r\nimport { InlineHTML } from \"../compo/InlineHTML\";\r\nimport { BilibiliFlv } from \"../compo/BilibiliFlv\";\r\n\r\n\r\n/**\r\n * 这个页面级组件渲染单个作品的展示信息.\r\n * \r\n * @export\r\n * @class ProductDetail\r\n * @extends {PageBody<{}>}\r\n */\r\nexport class ProductDetail extends PageBody<{}> {\r\n\r\n    protected url: string;\r\n    protected data: Product;\r\n\r\n    public constructor(props: {}) {\r\n        super(props);\r\n        this.state = {};\r\n\r\n        const params: RegExpExecArray | null = /(?<=(\\/#\\/product\\/))[0-9]+(?!.)/.exec(\r\n            window.location.href\r\n        );\r\n        this.url = params ? params[0] : \"undefined\";\r\n        this.data = find(InfoSet.products, e => e.id === this.url)!;\r\n    }\r\n    \r\n    public render(): JSX.Element {\r\n        const colorf = (role: Role): string => {\r\n            return role === \"individual\" ? \"rgb(255,176,255)\"\r\n                : role === \"leader\" ? \"rgb(254,241,135)\"\r\n                    : role === \"engineer\" ? \"rgb(235,81,82)\"\r\n                        : role === \"contributor\" ? \"rgb(148,243,237)\"\r\n                            : \"rgb(176,217,246)\"\r\n        };\r\n        \r\n        return (\r\n            <>\r\n                <div style={{\r\n                    color: Shared.theme.colortab.color,\r\n                    margin: \"calc(10px + 6vh) 10vw calc(10px + 3vh)\",\r\n                    padding: \"calc(12px + 5vh) 2vmin\",\r\n                    border: `1px solid ${\r\n                        Shared.theme.colortab.border.replace(\r\n                            \"(\", \"a(\"\r\n                        ).replace(\r\n                            \")\", \",0.3)\"\r\n                        )\r\n                    }`\r\n                }} >\r\n                    <div\r\n                    style={{\r\n                        display: \"block\",\r\n                        border: \"1px solid \" + Shared.theme.colortab.border,\r\n                        margin: \"4vh 3vw\",\r\n                        padding: \"1em 0 6vh\",\r\n                        fontSize: \"calc(6px + 1.6vmin)\"\r\n                    }} >\r\n                        <div key=\"name\"\r\n                        style={{\r\n                            display: \"block\",\r\n                            backgroundColor: Shared.theme.colortab.border,\r\n                            color: Shared.theme.colortab.base\r\n                        }} >\r\n                            <h2\r\n                            style={{\r\n                                padding: \"0.2em 2em\",\r\n                                textAlign: \"left\",\r\n                                marginBottom: \"2.4em\"\r\n                            }} >\r\n                                { this.data.name }\r\n                            </h2>\r\n                        </div>\r\n                        <div key=\"head-all\" style={{\r\n                            display: \"block\",\r\n                            margin: \"0 4%\",\r\n                            color: Shared.theme.colortab.border\r\n                        }} >\r\n                            <h3\r\n                            style={{\r\n                                textAlign: \"left\"\r\n                            }} >\r\n                                Information\r\n                            </h3>\r\n                        </div>\r\n                        <div key=\"intro\"\r\n                        style={{\r\n                            display: \"flex\",\r\n                            flexWrap: \"wrap\",\r\n                            margin: \"0 4%\",\r\n                            justifyContent: \"center\"\r\n                        }} >\r\n                            <div key=\"left\"\r\n                            style={{\r\n                                minWidth: \"30%\",\r\n                                display: \"inline-flex\",\r\n                                padding: \"4vh 4%\",\r\n                                border: \"1px solid \" + Shared.theme.colortab.border,\r\n                                justifyContent: \"center\"\r\n                            }} >\r\n                                <img src={ `./images/product_${ this.data.id }.png` }\r\n                                alt={ `product_${ this.data.id }` }\r\n                                onDragStart={ e => e.preventDefault() }\r\n                                style={{\r\n                                    display: \"block\",\r\n                                    maxWidth: \"300px\",\r\n                                    objectFit: \"contain\",\r\n                                    backgroundColor: \"#000000\"\r\n                                }} />\r\n                            </div>\r\n                            <div key=\"right\"\r\n                            style={{\r\n                                minWidth: \"61%\",\r\n                                textAlign: \"left\",\r\n                                display: \"inline-flex\",\r\n                                flexDirection: \"column\"\r\n                            }} >\r\n                                <div key=\"name\"\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"center\",\r\n                                    flex: 1\r\n                                }} >\r\n                                    <label key=\"<\"\r\n                                    style={{\r\n                                        cursor: \"none\",\r\n                                        maxWidth: \"20vw\",\r\n                                        minWidth: \"18%\",\r\n                                        textAlign: \"center\",\r\n                                        padding: \"0.5em 1em\",\r\n                                        border: \"1px solid \" + Shared.theme.colortab.border\r\n                                    }} >\r\n                                        Name\r\n                                    </label>\r\n                                    <label key=\">\"\r\n                                    style={{\r\n                                        cursor: \"none\",\r\n                                        border: \"1px solid \" + Shared.theme.colortab.border,\r\n                                        wordBreak: \"break-all\",\r\n                                        padding: \"0.5em 1em\",\r\n                                        flex: \"auto\",\r\n                                        fontWeight: \"bold\"\r\n                                    }} >\r\n                                        { this.data.name }\r\n                                    </label>\r\n                                </div>\r\n                                <div key=\"avatar\"\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"center\",\r\n                                    flex: 1\r\n                                }} >\r\n                                    <label key=\"<\"\r\n                                    style={{\r\n                                        cursor: \"none\",\r\n                                        maxWidth: \"20vw\",\r\n                                        minWidth: \"18%\",\r\n                                        textAlign: \"center\",\r\n                                        padding: \"0.5em 1em\",\r\n                                        border: \"1px solid \" + Shared.theme.colortab.border,\r\n                                        borderBottom: \"none\"\r\n                                    }} />\r\n                                    <label key=\">\"\r\n                                    style={{\r\n                                        cursor: \"none\",\r\n                                        border: \"1px solid \" + Shared.theme.colortab.border,\r\n                                        wordBreak: \"break-all\",\r\n                                        padding: \"0.5em 1em\",\r\n                                        flex: \"auto\",\r\n                                        fontWeight: \"bold\",\r\n                                        borderBottom: \"none\"\r\n                                    }} >\r\n                                        <img src={ this.data.avatarURL }\r\n                                        width=\"48px\" height=\"48px\"\r\n                                        alt=\"avatar\"\r\n                                        onDragStart={ e => e.preventDefault() }\r\n                                        style={{\r\n                                            display: \"block\",\r\n                                            objectFit: \"contain\",\r\n                                            backgroundColor: \"#000000\"\r\n                                        }} />\r\n                                    </label>\r\n                                </div>\r\n                                <div key=\"role\"\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"center\",\r\n                                    flex: 1\r\n                                }} >\r\n                                    <label key=\"<\"\r\n                                    style={{\r\n                                        cursor: \"none\",\r\n                                        maxWidth: \"20vw\",\r\n                                        minWidth: \"18%\",\r\n                                        textAlign: \"center\",\r\n                                        padding: \"0.5em 1em\",\r\n                                        border: \"1px solid \" + Shared.theme.colortab.border,\r\n                                        borderTop: \"none\"\r\n                                    }} >\r\n                                        Role\r\n                                    </label>\r\n                                    <label key=\">\"\r\n                                    style={{\r\n                                        cursor: \"none\",\r\n                                        border: \"1px solid \" + Shared.theme.colortab.border,\r\n                                        wordBreak: \"break-all\",\r\n                                        padding: \"0.5em 1em\",\r\n                                        flex: \"auto\",\r\n                                        color: colorf(this.data.role)\r\n                                    }} >\r\n                                        { this.data.role }\r\n                                    </label>\r\n                                </div>\r\n                                <div key=\"period\"\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"center\",\r\n                                    flex: 1\r\n                                }} >\r\n                                    <label key=\"<\"\r\n                                    style={{\r\n                                        cursor: \"none\",\r\n                                        maxWidth: \"20vw\",\r\n                                        minWidth: \"18%\",\r\n                                        textAlign: \"center\",\r\n                                        padding: \"0.5em 1em\",\r\n                                        border: \"1px solid \" + Shared.theme.colortab.border\r\n                                    }} >\r\n                                        Period\r\n                                    </label>\r\n                                    <label key=\">\"\r\n                                    style={{\r\n                                        cursor: \"none\",\r\n                                        border: \"1px solid \" + Shared.theme.colortab.border,\r\n                                        wordBreak: \"break-all\",\r\n                                        padding: \"0.5em 1em\",\r\n                                        flex: \"auto\"\r\n                                    }} >\r\n                                    {\r\n                                        `${ this.data.beginTime[0] }/${ this.data.beginTime[1] }`\r\n                                        + \" ~ \"\r\n                                        + (\r\n                                            this.data.closeTime === \"-\" ? \"\" : (\r\n                                                `${\r\n                                                    this.data.closeTime[0]\r\n                                                }/${\r\n                                                    this.data.closeTime[1]\r\n                                                }`\r\n                                            )\r\n                                        )\r\n                                    }\r\n                                    </label>\r\n                                </div>\r\n                                <div key=\"GitHub\"\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"center\",\r\n                                    flex: 1\r\n                                }} >\r\n                                    <label key=\"<\"\r\n                                    style={{\r\n                                        cursor: \"none\",\r\n                                        maxWidth: \"20vw\",\r\n                                        minWidth: \"18%\",\r\n                                        textAlign: \"center\",\r\n                                        padding: \"0.5em 1em\",\r\n                                        border: \"1px solid \" + Shared.theme.colortab.border\r\n                                    }} >\r\n                                        GitHub\r\n                                    </label>\r\n                                    <label key=\">\"\r\n                                    style={{\r\n                                        cursor: \"none\",\r\n                                        border: \"1px solid \" + Shared.theme.colortab.border,\r\n                                        wordBreak: \"break-all\",\r\n                                        padding: \"0.5em 1em\",\r\n                                        flex: \"auto\"\r\n                                    }} >\r\n                                    {\r\n                                        this.data.githubURL ? (\r\n                                            <a href={ this.data.githubURL } target=\"new\"\r\n                                            onMouseOver={\r\n                                                () => {\r\n                                                    Shared.cursorState = \"pointer\";\r\n                                                }\r\n                                            }\r\n                                            onMouseOut={\r\n                                                () => {\r\n                                                    Shared.cursorState = \"normal\";\r\n                                                }\r\n                                            }\r\n                                            style={{\r\n                                                cursor: \"none\",\r\n                                                color: Color.interpolate(\r\n                                                    Shared.theme.colortab.color,\r\n                                                    Shared.theme.colortab.frontground\r\n                                                )\r\n                                            }} >\r\n                                                { this.data.githubURL }\r\n                                            </a>\r\n                                        ) : (\r\n                                            <span style={{\r\n                                                fontStyle: \"italic\"\r\n                                            }} >\r\n                                                Not released\r\n                                            </span>\r\n                                        )\r\n                                    }\r\n                                    </label>\r\n                                </div>\r\n                                <div key=\"techs\"\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"center\",\r\n                                    flex: 1\r\n                                }} >\r\n                                    <label key=\"<\"\r\n                                    style={{\r\n                                        cursor: \"none\",\r\n                                        maxWidth: \"20vw\",\r\n                                        minWidth: \"18%\",\r\n                                        textAlign: \"center\",\r\n                                        padding: \"0.5em 1em\",\r\n                                        border: \"1px solid \" + Shared.theme.colortab.border\r\n                                    }} >\r\n                                        Techs\r\n                                    </label>\r\n                                    <label key=\">\"\r\n                                    style={{\r\n                                        cursor: \"none\",\r\n                                        border: \"1px solid \" + Shared.theme.colortab.border,\r\n                                        wordBreak: \"break-all\",\r\n                                        padding: \"0.5em 1em\",\r\n                                        flex: \"auto\"\r\n                                    }} >\r\n                                    {\r\n                                        this.data.techs.map((tech, i) => {\r\n                                            return (\r\n                                                <label key={ i }\r\n                                                style={{\r\n                                                    display: \"inline-block\",\r\n                                                    cursor: \"none\",\r\n                                                    margin: \"0 0.5em 0.1em\",\r\n                                                    color: Color.setLightness(\r\n                                                        Shared.theme.colortab.frontground,\r\n                                                        0.9\r\n                                                    ),\r\n                                                    padding: \"0 0.4em\",\r\n                                                    borderRight: `1px solid ${\r\n                                                        Shared.theme.colortab.frontground\r\n                                                    }`,\r\n                                                    borderLeft: `1px solid ${\r\n                                                        Shared.theme.colortab.frontground\r\n                                                    }`,\r\n                                                    borderRadius: \"6px 2px\"\r\n                                                }} >\r\n                                                    { tech }\r\n                                                </label>\r\n                                            );\r\n                                        })\r\n                                    }\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            this.data.videoURL ? (\r\n                                <div key=\"video\"\r\n                                style={{\r\n                                    margin: \"2em 4%\",\r\n                                    padding: \"1em 1vmin\"\r\n                                }} >\r\n                                    <div key=\"head\" style={{\r\n                                        display: \"block\",\r\n                                        color: Shared.theme.colortab.border\r\n                                    }} >\r\n                                        <h3\r\n                                        style={{\r\n                                            textAlign: \"left\"\r\n                                        }} >\r\n                                            Video\r\n                                        </h3>\r\n                                    </div>\r\n                                    <BilibiliFlv url={ this.data.videoURL } type=\"mp4\" />\r\n                                </div>\r\n                            ) : null\r\n                        }\r\n                        <div key=\"description\"\r\n                        style={{\r\n                            display: \"block\",\r\n                            margin: \"2em 4% 1em\",\r\n                            textAlign: \"left\",\r\n                            padding: \"1em 1vmin\",\r\n                            lineHeight: \"2em\"\r\n                        }} >\r\n                            <div key=\"head\" style={{\r\n                                display: \"block\",\r\n                                color: Shared.theme.colortab.border\r\n                            }} >\r\n                                <h3\r\n                                style={{\r\n                                    textAlign: \"left\"\r\n                                }} >\r\n                                    Description\r\n                                </h3>\r\n                            </div>\r\n                            <InlineHTML html={ this.data.description } />\r\n                        </div>\r\n                        <div key=\"langs\"\r\n                        style={{\r\n                            display: \"block\",\r\n                            margin: \"1em 4% 2em\",\r\n                            textAlign: \"left\",\r\n                            padding: \"1em 1vmin\",\r\n                            lineHeight: \"2em\"\r\n                        }} >\r\n                            <div key=\"head\" style={{\r\n                                display: \"block\",\r\n                                color: Shared.theme.colortab.border\r\n                            }} >\r\n                                <h3\r\n                                style={{\r\n                                    textAlign: \"left\"\r\n                                }} >\r\n                                    Languages\r\n                                </h3>\r\n                            </div>\r\n                            {\r\n                                this.data.languages.map((d, i) => {\r\n                                    return (\r\n                                        <label key={ i }\r\n                                        style={{\r\n                                            display: \"inline-block\",\r\n                                            cursor: \"none\",\r\n                                            margin: \"0.5em 0.5em\",\r\n                                            color: Color.setLightness(\r\n                                                Shared.theme.colortab.frontground2,\r\n                                                0.9\r\n                                            ),\r\n                                            padding: \"0 0.8em\",\r\n                                            borderTop: `1px solid ${\r\n                                                Shared.theme.colortab.frontground2\r\n                                            }`,\r\n                                            borderBottom: `1px solid ${\r\n                                                Shared.theme.colortab.frontground2\r\n                                            }`,\r\n                                            borderRadius: \"10px 4px\"\r\n                                        }} >\r\n                                            <span key=\"name\"\r\n                                            style={{\r\n                                                fontWeight: \"bold\"\r\n                                            }} >\r\n                                                { d.name }\r\n                                            </span>\r\n                                            <span key=\"rate\"\r\n                                            style={{\r\n                                                color: Shared.theme.colortab.color,\r\n                                                marginLeft: \"1em\"\r\n                                            }} >\r\n                                                { `${ (\r\n                                                    d.rate * 100\r\n                                                ).toFixed(2) }%` }\r\n                                            </span>\r\n                                        </label>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <HomeButton active={ true } />\r\n                <SettingsButton />\r\n            </>\r\n        );\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        Shared.cursorState = \"normal\";\r\n    }\r\n\r\n    public componentDidCatch(): void {\r\n        const root: string = /.*\\/#\\//.exec(window.location.href)![0];\r\n        window.location.href = root + \"not_found/\" + (this.url || \"undefined\");\r\n    }\r\n\r\n};\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport { Home } from './routings/Home';\nimport { BadUrl } from './routings/BadUrl';\nimport { BackgroundCanvas } from './themes/BackgroundCanvas';\nimport { Theme } from './methods/typedict';\nimport { Shared } from './methods/globals';\nimport { Settings } from './routings/Settings';\nimport { ProductDetail } from './routings/ProductDetail';\n\n\nexport interface AppState {\n  theme: Theme;\n};\n\n/**\n * 默认的最外层渲染元素.\n *\n * @class App\n * @extends {Component<{}, {}>}\n */\nclass App extends Component<{}, AppState> {\n\n  public constructor(props: {}) {\n    super(props);\n    this.state = {\n      theme: Shared.theme\n    };\n  }\n\n  public render(): JSX.Element {\n    Shared.theme = this.state.theme;\n\n    return (\n      <div className=\"App\">\n        <BackgroundCanvas initTheme={ this.state.theme } >\n          <HashRouter>\n            <Switch>\n              <Route path=\"/\" exact component={ Home } />\n              <Route path=\"/settings\" exact component={ Settings } />\n              <Route path=\"/product/*\" exact component={ ProductDetail } />\n              <Route path=\"/**\" component={ BadUrl } />\n            </Switch>\n          </HashRouter>\n        </BackgroundCanvas>\n      </div>\n    );\n  }\n\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}