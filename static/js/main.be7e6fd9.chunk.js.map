{"version":3,"sources":["methods/typedict.ts","themes/Yuki.ts","methods/constants.ts","methods/globals.ts","routings/Home.tsx","routings/BadUrl.tsx","themes/BackgroundCanvas.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["PageBody","Component","Yuki","colortab","color","border","data","items","start","ctx","paint","end","next","clearTimeout","width","canvas","height","max","Math","sqrt","fillStyle","fillRect","nextList","forEach","item","r","dist","gradient","createRadialGradient","x","y","addColorStop","a","beginPath","moveTo","lineTo","fill","closePath","arc","PI","dx","random","ri","pow","abs","prevDx","dd","prevDd","min","push","possibility","length","setTimeout","Shared","theme","Home","style","margin","padding","boxShadow","replace","BadUrl","BackgroundCanvas","props","state","curTheme","initTheme","React","createRef","ref","this","position","top","left","zIndex","children","current","$","window","getContext","on","App","className","path","exact","component","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.be7e6fd9.chunk.js","sourcesContent":["/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 20:55:09 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-29 00:27:39\r\n */\r\n\r\nimport { Component } from \"react\";\r\n\r\n\r\n/**\r\n * 当定义一个页面主体的元素时，\r\n * 使用 PageBody 类型代表一个接受空 props 初始化的 React 组件.\r\n * \r\n * @export\r\n * @class PageBody\r\n * @extends {Component<{}, S>}\r\n * @template S 组件的 state 的类型\r\n */\r\nexport class PageBody<S> extends Component<{}, S> {};\r\n\r\n/**\r\n * 页面的配色方案.\r\n *\r\n * @export\r\n * @interface Colortab\r\n */\r\nexport interface Colortab {\r\n    color: string;\r\n    border: string;\r\n};\r\n\r\n/**\r\n * 为页面指定的配色方案和背景的绘制动画.\r\n *\r\n * @export\r\n * @interface Theme\r\n * @template T 组件绘制过程中记录的数据的结构\r\n */\r\nexport interface Theme<T=any> {\r\n    /**\r\n     * 配色方案.\r\n     */\r\n    colortab: Colortab;\r\n    /**\r\n     * 绘制下一帧的定时器.\r\n     */\r\n    next?: NodeJS.Timeout;\r\n    /**\r\n     * 组件绘制过程中记录的数据.\r\n     */\r\n    data: T;\r\n    /**\r\n     * 开始绘制.\r\n     */\r\n    start: (ctx: CanvasRenderingContext2D) => void;\r\n    /**\r\n     * 绘制一帧.\r\n     */\r\n    paint: (ctx: CanvasRenderingContext2D) => void;\r\n    /**\r\n     * 结束绘制.\r\n     */\r\n    end: () => void;\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 21:37:20 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-29 00:29:43\r\n */\r\n\r\nimport { Theme } from \"../methods/typedict\";\r\nimport { BackgroundCanvasRenderingFPS } from \"../methods/constants\";\r\n\r\n\r\ninterface SnowBall {\r\n    r: number;\r\n    x: number;\r\n    y: number;\r\n    a: number;\r\n    dist: number;\r\n    prevDx: number;\r\n    prevDd: number;\r\n};\r\n\r\ninterface YukiState {\r\n    items: Array<SnowBall>;\r\n};\r\n\r\n/** 主题：雪 */\r\nexport const Yuki: Theme<YukiState> = {\r\n    colortab: {\r\n        color: \"rgb(208,213,215)\",\r\n        border: \"rgb(155,255,254)\"\r\n    },\r\n    data: {\r\n        items: []\r\n    },\r\n    start: (ctx: CanvasRenderingContext2D) => {\r\n        Yuki.data = {\r\n            items: []\r\n        };\r\n        Yuki.paint(ctx);\r\n    },\r\n    end: () => {\r\n        if (Yuki.next) {\r\n            // 清除定时器\r\n            clearTimeout(Yuki.next);\r\n            Yuki.next = void 0;\r\n        }\r\n        Yuki.data = {\r\n            items: []\r\n        };\r\n    },\r\n    paint: (ctx: CanvasRenderingContext2D) => {\r\n        /** 到下一帧的间隔毫秒数 */\r\n        const span: number = 1000 / BackgroundCanvasRenderingFPS;\r\n        const width: number = ctx.canvas.width;\r\n        const height: number = ctx.canvas.height;\r\n        const max: number = Math.sqrt(width * height) / 16;\r\n\r\n        // 绘制和更新\r\n        ctx.fillStyle = \"rgb(11,11,14)\";\r\n        ctx.fillRect(0, 0, width, height);\r\n\r\n        let nextList: Array<SnowBall> = [];\r\n\r\n        Yuki.data.items.forEach(item => {\r\n            const r: number = item.r * item.dist;\r\n            if (r <= 0) {\r\n                // 消失\r\n                const r: number = 0.23 * max;\r\n                const gradient: CanvasGradient = ctx.createRadialGradient(\r\n                    item.x, item.y, r * 0.6, item.x, item.y, r\r\n                );\r\n                gradient.addColorStop(0, `rgba(212,215,217,${ item.a })`);\r\n                gradient.addColorStop(0.6, `rgba(181,183,184,${ item.a * 0.6 })`);\r\n                gradient.addColorStop(1, `rgba(72,73,74,${ item.a * 0.1 })`);\r\n                ctx.fillStyle = gradient;\r\n                ctx.beginPath();\r\n                ctx.moveTo(item.x, item.y - r);\r\n                ctx.lineTo(item.x + r / 25, item.y - r / 25);\r\n                ctx.lineTo(item.x + r, item.y);\r\n                ctx.lineTo(item.x + r / 25, item.y + r / 25);\r\n                ctx.lineTo(item.x, item.y + r);\r\n                ctx.lineTo(item.x - r / 25, item.y + r / 25);\r\n                ctx.lineTo(item.x - r, item.y);\r\n                ctx.lineTo(item.x - r / 25, item.y - r / 25);\r\n                ctx.lineTo(item.x, item.y - r);\r\n                ctx.fill();\r\n                ctx.closePath();\r\n                return;\r\n            }\r\n            const gradient: CanvasGradient = ctx.createRadialGradient(\r\n                item.x, item.y, r * 0.3, item.x, item.y, r\r\n            );\r\n            gradient.addColorStop(0, `rgba(212,215,217,${ item.a })`);\r\n            gradient.addColorStop(0.6, `rgba(181,183,184,${ item.a * 0.6 })`);\r\n            gradient.addColorStop(1, `rgba(72,73,74,${ item.a * 0.1 })`);\r\n            ctx.fillStyle = gradient;\r\n            ctx.beginPath();\r\n            ctx.arc(item.x, item.y, r, 0, 2 * Math.PI);\r\n            ctx.fill();\r\n            ctx.closePath();\r\n\r\n            // 移动\r\n            let dx: number = (\r\n                (Math.random() - 0.5) * width / 36\r\n            ) / BackgroundCanvasRenderingFPS;\r\n            let ri: number = Math.pow(dx, 2) / Math.pow(\r\n                Math.abs(dx) + Math.abs(\r\n                    item.prevDx * BackgroundCanvasRenderingFPS / 2\r\n                ), 2\r\n            );\r\n            dx = ri * dx + (1 - ri) * item.prevDx;\r\n            item.x += dx * (1 - item.dist);\r\n            item.prevDx = dx;\r\n            item.y += (\r\n                1 + 4 * r / BackgroundCanvasRenderingFPS\r\n            ) * height / 1600 * (1 + item.y / height * 0.4);\r\n            if (item.y - r <= height) {\r\n                // 留下来\r\n                let dd: number = (Math.random() - 0.5) * 0.005;\r\n                let ri: number = Math.pow(dd, 2) / Math.pow(\r\n                    Math.abs(dd) + Math.abs(\r\n                        item.prevDd * BackgroundCanvasRenderingFPS / 2\r\n                    ), 2\r\n                );\r\n                dd = ri * dd + (1 - ri) * item.prevDd;\r\n                item.dist += dd;\r\n                item.prevDd = dd;\r\n                const a: number = Math.min(1, 1 - 0.2 * item.dist);\r\n                if (item.a < a) {\r\n                    item.a += Math.random() * 0.16 / BackgroundCanvasRenderingFPS;\r\n                }\r\n                item.a = Math.min(item.a, a);\r\n                nextList.push(item);\r\n            }\r\n        });\r\n\r\n        // 下一帧状态\r\n        Yuki.data.items = [...nextList];\r\n        /** 再生成一个光球的概率指数 */\r\n        let possibility: number = (\r\n            max - Yuki.data.items.length\r\n        ) / max * 3 / BackgroundCanvasRenderingFPS;\r\n\r\n        while (possibility > 0) {\r\n            possibility -= Math.random();\r\n\r\n            if (possibility > 0) {\r\n                Yuki.data.items.push({\r\n                    x: Math.random() * width,\r\n                    y: Math.random() * height * 0.2,\r\n                    r: (Math.random() * 0.25 + 0.09) * max,\r\n                    a: Math.random() * 0.03 + 0.02,\r\n                    dist: 0.7 - Math.random() * Math.random() * 0.3,\r\n                    prevDx: 0,\r\n                    prevDd: 0\r\n                });\r\n            }\r\n        }\r\n        \r\n        // 更新定时器\r\n        Yuki.next = setTimeout(() => {\r\n            Yuki.paint(ctx);\r\n        }, span);\r\n    }\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 21:56:38 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-28 21:57:46\r\n */\r\n\r\nexport const BackgroundCanvasRenderingFPS: number = 30;\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-29 00:17:10 \r\n * @Last Modified by:   Antoine YANG \r\n * @Last Modified time: 2020-08-29 00:17:10 \r\n */\r\n\r\nimport { Theme } from \"./typedict\";\r\nimport { Yuki } from \"../themes/Yuki\";\r\n\r\nexport interface Shared {\r\n    theme: Theme;\r\n};\r\n\r\nexport let Shared: Shared = {\r\n    theme: Yuki\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 21:07:40 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-29 00:35:16\r\n */\r\n\r\nimport React from \"react\";\r\nimport { PageBody } from \"../methods/typedict\";\r\nimport { Shared } from \"../methods/globals\";\r\n\r\n\r\n/**\r\n * 这个页面级组件渲染对应地址 / .\r\n * \r\n * @export\r\n * @class Home\r\n * @extends {PageBody<{}>}\r\n */\r\nexport class Home extends PageBody<{}> {\r\n    \r\n    public render(): JSX.Element {\r\n        return (\r\n            <>\r\n                <h1 style={{\r\n                    color: Shared.theme.colortab.color,\r\n                    margin: \"calc(20px + 3vh)\"\r\n                }} >\r\n                    AntoineYANG\r\n                </h1>\r\n                <div style={{\r\n                    color: Shared.theme.colortab.color,\r\n                    margin: \"calc(10px + 6vh) calc(20px + 8vw) calc(10px + 3vh)\",\r\n                    padding: \"calc(12px + 5vh)\",\r\n                    border: `1px solid ${ Shared.theme.colortab.border }`,\r\n                    boxShadow: `6px 5px 0 1px ${\r\n                        Shared.theme.colortab.border.replace(\r\n                            \"(\", \"a(\"\r\n                        ).replace(\r\n                            \")\", \",0.1)\"\r\n                        )\r\n                    }`\r\n                }} >\r\n                    网站升级中...\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 20:50:07 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-29 00:35:17\r\n */\r\n\r\nimport React from \"react\";\r\nimport { PageBody } from \"../methods/typedict\";\r\nimport { Shared } from \"../methods/globals\";\r\n\r\n\r\n/**\r\n * 这个页面级组件在无法访问对应网址时渲染.\r\n * \r\n * @export\r\n * @class BadUrl\r\n * @extends {PageBody<{}>}\r\n */\r\nexport class BadUrl extends PageBody<{}> {\r\n    \r\n    public render(): JSX.Element {\r\n        return (\r\n            <>\r\n                <h1 style={{\r\n                    color: Shared.theme.colortab.color,\r\n                    margin: \"calc(20px + 3vh)\"\r\n                }} >\r\n                    404\r\n                </h1>\r\n                <div style={{\r\n                    color: Shared.theme.colortab.color,\r\n                    margin: \"calc(10px + 6vh) calc(20px + 8vw) calc(10px + 3vh)\",\r\n                    padding: \"calc(12px + 5vh)\",\r\n                    border: `1px solid ${ Shared.theme.colortab.border }`,\r\n                    boxShadow: `6px 5px 0 1px ${\r\n                        Shared.theme.colortab.border.replace(\r\n                            \"(\", \"a(\"\r\n                        ).replace(\r\n                            \")\", \",0.1)\"\r\n                        )\r\n                    }`\r\n                }} >\r\n                    很抱歉，您访问的页面不存在。\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 21:15:16 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-29 00:24:06\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport $ from \"jquery\";\r\nimport { Theme } from \"../methods/typedict\";\r\n\r\n\r\nexport interface BackgroundCanvasProps {\r\n    initTheme: Theme;\r\n};\r\n\r\nexport interface BackgroundCanvasState {\r\n    curTheme: Theme;\r\n};\r\n\r\n/**\r\n * 这个组件将作为页面的背景，\r\n * 其定位不随页面移动.\r\n * 建议在页面其他元素的最外层渲染.\r\n * \r\n * @export\r\n * @class BackgroundCanvas\r\n * @extends {Component<BackgroundCanvasProps, BackgroundCanvasState>}\r\n */\r\nexport class BackgroundCanvas extends Component<BackgroundCanvasProps, BackgroundCanvasState> {\r\n\r\n    protected canvas: React.RefObject<HTMLCanvasElement>;\r\n    protected ctx?: CanvasRenderingContext2D;\r\n\r\n    public constructor(props: BackgroundCanvasProps) {\r\n        super(props);\r\n        this.state = {\r\n            curTheme: this.props.initTheme\r\n        };\r\n\r\n        this.canvas = React.createRef<HTMLCanvasElement>();\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <>\r\n                <canvas ref={ this.canvas }\r\n                width=\"100%\" height=\"100%\" style={{\r\n                    position: \"fixed\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    zIndex: -9999\r\n                }} />\r\n                <>\r\n                    { this.props.children }\r\n                </>\r\n            </>\r\n        );\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        // 设定大小\r\n        this.canvas.current!.width = $(window).width()!;\r\n        this.canvas.current!.height = $(window).height()!;\r\n        // 获取 canvas 上下文\r\n        this.ctx = this.canvas.current!.getContext(\"2d\")!;\r\n        // 绑定监听\r\n        $(window).on(\"resize\", () => {\r\n            this.canvas.current!.width = $(window).width()!;\r\n            this.canvas.current!.height = $(window).height()!;\r\n        });\r\n        // 开始渲染\r\n        this.state.curTheme.start(this.ctx!);\r\n    }\r\n\r\n    public getSnapshotBeforeUpdate(): void {\r\n        // 停止渲染\r\n        this.state.curTheme.end();\r\n    }\r\n\r\n    public componentDidUpdate(): void {\r\n        // 开始渲染\r\n        this.state.curTheme.start(this.ctx!);\r\n    }\r\n\r\n};\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport { Home } from './routings/Home';\nimport { BadUrl } from './routings/BadUrl';\nimport { BackgroundCanvas } from './themes/BackgroundCanvas';\nimport { Yuki } from './themes/Yuki';\nimport { Theme } from './methods/typedict';\nimport { Shared } from './methods/globals';\n\n\nexport interface AppState {\n  theme: Theme;\n};\n\n/**\n * 默认的最外层渲染元素.\n *\n * @class App\n * @extends {Component<{}, {}>}\n */\nclass App extends Component<{}, AppState> {\n\n  public constructor(props: {}) {\n    super(props);\n    this.state = {\n      theme: Shared.theme\n    };\n  }\n\n  public render(): JSX.Element {\n    Shared.theme = this.state.theme;\n\n    return (\n      <div className=\"App\">\n        <BackgroundCanvas initTheme={ this.state.theme } >\n          <HashRouter>\n            <Switch>\n              <Route path=\"/\" exact component={ Home } />\n              <Route path=\"/**\" component={ BadUrl } />\n            </Switch>\n          </HashRouter>\n        </BackgroundCanvas>\n      </div>\n    );\n  }\n\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}