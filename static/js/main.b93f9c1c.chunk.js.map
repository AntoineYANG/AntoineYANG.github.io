{"version":3,"sources":["methods/typedict.ts","methods/selection.ts","preference/Color.ts","themes/Yuki.ts","methods/globals.ts","compo/SettingsButton.tsx","routings/Home.tsx","compo/HomeButton.tsx","routings/BadUrl.tsx","themes/BackgroundCanvas.tsx","methods/decorator.ts","compo/SettingItem.tsx","routings/Settings.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["PageBody","Component","getStyle","e","name","style","parentElement","toHsl","color","h","s","l","a","startsWith","r","g","b","length","parseInt","alpha","substr","paths","substring","indexOf","split","parseFloat","max","Math","min","code","toRgb","hsl","params","q","p","h_k","t_r","t_g","t_b","floor","Color","linearGradient","colorset","direction","steps","forEach","value","push","map","index","getRgba","colorSet","match","setLightness","degree","interpolate","color1","color2","step","hsl1","hsl2","isNaN","Nippon","list","Nadesiko","Koubai","Suou","Taikou","Ikkonzome","Kuwazome","Momo","Ichigo","Usubeni","Imayou","Nakabeni","Sakura","Umenezumi","Karakurenai","Enzi","Kurenai","Toki","Tyousyunn","Kokiake","SakuraNezumi","Zinnzamomi","Azuki","Suoukou","Akabeni","Sinnsyu","Haizakura","Kuriume","Ebitya","Ginnsyu","Kurotobi","Syozyohi","Kinntya","Yamabuki","Torinoko","Touou","Ukonn","Nae","Tokiwa","Midori","Rokusyou","Mizuasagi","Seiheki","Mizu","Kuroturubami","Kati","Ruri","Rurikonn","Berimidori","Nibi","Aonibi","Sionn","Hasita","Tutuzi","Gohunn","Aisumitya","Kesizumi","Sumi","Kuro","Ro","window","Yuki","colortab","border","background","frontground","frontground2","frontground3","data","items","particals","start","ctx","ctx2","canvas","backgroundColor","cursor","paint","end","next","clearTimeout","span","Shared","animationFPS","width","height","sqrt","fillStyle","fillRect","clearRect","nextList","nextParticals","item","dist","gradient","createRadialGradient","x","y","addColorStop","beginPath","moveTo","lineTo","fill","closePath","arc","PI","dx","random","ri","pow","abs","prevDx","dd","prevDd","particalEffects","globalAlpha","animation","opacity","ms","particalOpacity","size","cursorState","strokeStyle","lineWidth","stroke","Date","getTime","possibility","active","setTimeout","mouseListener","type","clientX","clientY","pressed","selection","document","getSelection","toString","focusNode","getSelectedElement","nodeName","lightness","lightness2","i","sx","sy","c","life","t","$","touchListener","touches","j","theme","SettingsButton","props","position","right","top","pointerEvents","to","scale","d","onMouseOver","onMouseOut","cx","cy","Home","state","margin","padding","boxShadow","replace","left","key","transform","transformOrigin","HomeButton","BadUrl","BackgroundCanvas","canvas2","curTheme","initTheme","React","createRef","ref","this","zIndex","children","css","current","getContext","on","unbind","lastCalled","f","curId","id","Promise","resolve","reject","SettingItem","SettingValueBar","svg","resizeListener","dragging","curVal","submitTouchEnd","default","resize","bind","val","setter","valueChanged","setState","display","fontSize","alignItems","maxWidth","marginLeft","marginRight","minWidth","className","rx","ry","strokeWidth","fillOpacity","currentTarget","onMouseDown","ev","target","w","parent","x1","x2","offset","mouseMoveListener","attr","text","formatter","previewChanging","body","addEventListener","mouseUpListener","removeEventListener","onTouchStart","onTouchMove","getBoundingClientRect","textAnchor","off","SettingRadio","onClick","Settings","_val","round","toFixed","App","path","exact","component","Boolean","location","hostname","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.b93f9c1c.chunk.js","sourcesContent":["/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 20:55:09 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-29 22:50:27\r\n */\r\n\r\nimport { Component } from \"react\";\r\n\r\n\r\n/**\r\n * 当定义一个页面主体的元素时，\r\n * 使用 PageBody 类型代表一个接受空 props 初始化的 React 组件.\r\n * \r\n * @export\r\n * @class PageBody\r\n * @extends {Component<{}, S>}\r\n * @template S 组件的 state 的类型\r\n */\r\nexport class PageBody<S> extends Component<{}, S> {};\r\n\r\n/**\r\n * 页面的配色方案.\r\n *\r\n * @export\r\n * @interface Colortab\r\n */\r\nexport interface Colortab {\r\n    color: string;\r\n    border: string;\r\n    background: string;\r\n    frontground: string;\r\n    frontground2: string;\r\n    frontground3: string;\r\n};\r\n\r\n/**\r\n * 为页面指定的配色方案和背景的绘制动画.\r\n *\r\n * @export\r\n * @interface Theme\r\n * @template T 组件绘制过程中记录的数据的结构\r\n */\r\nexport interface Theme<T=any> {\r\n    /**\r\n     * 配色方案.\r\n     */\r\n    colortab: Colortab;\r\n    /**\r\n     * 绘制下一帧的定时器.\r\n     */\r\n    next?: NodeJS.Timeout;\r\n    /**\r\n     * 组件绘制过程中记录的数据.\r\n     */\r\n    data: T;\r\n    /**\r\n     * 开始绘制.\r\n     */\r\n    start: (ctx: CanvasRenderingContext2D, ctx2: CanvasRenderingContext2D) => void;\r\n    /**\r\n     * 绘制一帧.\r\n     */\r\n    paint: (ctx: CanvasRenderingContext2D, ctx2: CanvasRenderingContext2D) => void;\r\n    /**\r\n     * 结束绘制.\r\n     */\r\n    end: () => void;\r\n    /**\r\n     * 鼠标交互.\r\n     */\r\n    mouseListener: (e: JQuery.MouseEventBase) => void;\r\n    /**\r\n     * 触屏交互.\r\n     */\r\n    touchListener: (e: JQuery.TouchEventBase) => void;\r\n};\r\n\r\n\r\n/**\r\n * 粒子特效.\r\n *\r\n * @export\r\n * @interface Partical\r\n */\r\nexport interface Partical {\r\n    color: {\r\n        r: number;\r\n        g: number;\r\n        b: number;\r\n    } | string;\r\n    animation: {\r\n        x: (ms: number) => number;\r\n        y: (ms: number) => number;\r\n        opacity: (ms: number) => number;\r\n        size: (ms: number) => number;\r\n    };\r\n    ms: number;\r\n    life: number;\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-29 17:07:00 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-29 17:11:30\r\n */\r\n\r\n\r\n/**\r\n * 获取当前窗口被选中且获取聚焦的元素.\r\n *\r\n * @returns {HTMLElement | null}\r\n */\r\nexport const getSelectedElement = (): HTMLElement | null => {\r\n    const selection: Selection | null = document.getSelection();\r\n    if (selection?.toString().length) {\r\n        return selection.focusNode?.parentElement || null;\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n/**\r\n * 获取指定元素的某个样式属性值，\r\n * 当该样式继承时，\r\n * 自动寻找父元素.\r\n *\r\n * @param {HTMLElement} e 目标元素\r\n * @param {keyof CSSStyleDeclaration} name 样式名\r\n * @returns {string}\r\n */\r\nexport const getStyle = (e: HTMLElement, name: keyof CSSStyleDeclaration): string => {\r\n    const style: string = e.style[name];\r\n    if (!style && e.parentElement) {\r\n        return getStyle(e.parentElement, name);\r\n    }\r\n    return style;\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2019-10-24 17:47:11 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-29 17:43:20\r\n */\r\n\r\n\r\nconst linearGradient: (colorset: Array< string | number >, direction?: 'bottom' | 'top' | 'left' | 'right') => string\r\n    = (colorset: Array< string | number >, direction: 'bottom' | 'top' | 'left' | 'right' = 'bottom') => {\r\n        let steps: Array< [string, number] > = [];\r\n        colorset.forEach((value: string | number) => {\r\n            if (typeof(value) === \"number\") {\r\n                if (steps.length > 0) {\r\n                    steps[steps.length - 1][1] = value;\r\n                }\r\n            }\r\n            else {\r\n                steps.push([value, -1]);\r\n            }\r\n        });\r\n        if (steps.length === 0) {\r\n            return 'none';\r\n        }\r\n        if (steps.length === 1) {\r\n            return steps[0][0];\r\n        }\r\n        return `linear-gradient(to ${ direction }, ${\r\n            steps.map((value: [string, number], index: number) => {\r\n                if (index === 0) {\r\n                    return value[0];\r\n                }\r\n                else if (index === steps.length - 1) {\r\n                    return ' ' + value[0];\r\n                }\r\n                else if (value[1] === -1) {\r\n                    return ' ' + value[0];\r\n                }\r\n                else {\r\n                    return ' ' + value[0] + ' ' + value[1] * 100 + '%';\r\n                }\r\n            })\r\n        })`;\r\n    };\r\n\r\n\r\n/**\r\n * Translates color code or rgb(a) to hsl(a)\r\n * @param {string} color code input\r\n */\r\nconst toHsl: (color: string) => { code: string; h: number; s: number; l: number; a: number; }\r\n    = (color: string) => {\r\n        let h: number = 0;\r\n        let s: number = 0;\r\n        let l: number = 0;\r\n        let a: number = 1;\r\n        if (color.startsWith('#')) {\r\n            let r: number = 0;\r\n            let g: number = 0;\r\n            let b: number = 0;\r\n            if (color.length === 4) {\r\n                r = 255 * parseInt(color[1], 16) / 16;\r\n                g = 255 * parseInt(color[2], 16) / 16;\r\n                b = 255 * parseInt(color[3], 16) / 16;\r\n                color = `rgb(${ r },${ g },${ b })`;\r\n            }\r\n            else if (color.length === 5) {\r\n                r = 255 * parseInt(color[1], 16) / 16;\r\n                g = 255 * parseInt(color[2], 16) / 16;\r\n                b = 255 * parseInt(color[3], 16) / 16;\r\n                let alpha = 255 * parseInt(color[4], 16);\r\n                color = `rgba(${ r },${ g },${ b },${ alpha })`;\r\n            }\r\n            else if (color.length === 7) {\r\n                r = parseInt(color.substr(1, 2), 16);\r\n                g = parseInt(color.substr(3, 2), 16);\r\n                b = parseInt(color.substr(5, 2), 16);\r\n                color = `rgb(${ r },${ g },${ b })`;\r\n            }\r\n            else if (color.length === 9) {\r\n                r = parseInt(color.substr(1, 2), 16);\r\n                g = parseInt(color.substr(3, 2), 16);\r\n                b = parseInt(color.substr(5, 2), 16);\r\n                let alpha = 255 * parseInt(color[7], 256);\r\n                color = `rgba(${ r },${ g },${ b },${ alpha })`;\r\n            }\r\n        }\r\n        if (color.startsWith('rgb(')) {\r\n            let r: number = 0;\r\n            let g: number = 0;\r\n            let b: number = 0;\r\n            const paths: [ string, string, string ]\r\n                = color.substring(color.indexOf('(') + 1, color.indexOf(')')).split(',') as [string, string, string ];\r\n            r = parseFloat(paths[0]) / 255;\r\n            g = parseFloat(paths[1]) / 255;\r\n            b = parseFloat(paths[2]) / 255;\r\n            let max: number = Math.max(r, g, b);\r\n            let min: number = Math.min(r, g, b);\r\n            h = max === min\r\n                ? 0\r\n                : r === max\r\n                    ? g >= b\r\n                        ? 60 * (g - b) / (max - min)\r\n                        : 60 * (g - b) / (max - min) + 360\r\n                    : g === max\r\n                        ? 60 * (b - r) / (max - min) + 120\r\n                        : 60 * (r - g) / (max - min) + 240;\r\n            l = (max + min) / 2;\r\n            s = l === 0 || max === min ? 0\r\n                : l <= 1 / 2\r\n                    ? (max - min) / (max + min)\r\n                    : (max - min) / (2 - max - min);\r\n            return { code: `hsl(${ h },${ s },${ l })`, h: h, s: s, l: l, a: 1 };\r\n        }\r\n        else if (color.startsWith('rgba(')) {\r\n            let r: number = 0;\r\n            let g: number = 0;\r\n            let b: number = 0;\r\n            const paths: [ string, string, string, string ]\r\n                = color.substring(color.indexOf('(') + 1, color.indexOf(')')).split(',') as [string, string, string, string ];\r\n            r = parseFloat(paths[0]) / 255;\r\n            g = parseFloat(paths[1]) / 255;\r\n            b = parseFloat(paths[2]) / 255;\r\n            a = parseFloat(paths[3]);\r\n            let max: number = Math.max(r, g, b);\r\n            let min: number = Math.min(r, g, b);\r\n            h = max === min\r\n                ? 0\r\n                : r === max\r\n                    ? g >= b\r\n                        ? 60 * (g - b) / (max - min)\r\n                        : 60 * (g - b) / (max - min) + 360\r\n                    : g === max\r\n                        ? 60 * (b - r) / (max - min) + 120\r\n                        : 60 * (r - g) / (max - min) + 240;\r\n            l = (max + min) / 2;\r\n            s = l === 0 || max === min ? 0\r\n                : l <= 1 / 2\r\n                    ? (max - min) / (max + min)\r\n                    : (max - min) / (2 - max - min);\r\n            return { code: `hsla(${ h },${ s },${ l },${ a })`, h: h, s: s, l: l, a: a };\r\n        }\r\n        return { code: 'none', h: h, s: s, l: l, a: a };\r\n    };\r\n\r\n\r\nconst toRgb: (hsl: string) => string\r\n    = (hsl: string) => {\r\n        if (hsl.startsWith(\"rgb\")) {\r\n            return hsl;\r\n        } else if (hsl.startsWith(\"#\")) {\r\n            hsl = toHsl(hsl).code;\r\n        } else if (!hsl.startsWith(\"hsl\")) {\r\n            return \"none\";\r\n        }\r\n        let params: Array<string> = hsl.substring(hsl.indexOf('(') + 1, hsl.indexOf(')')).split(',');\r\n        if (params.length === 3 || params.length === 4) {\r\n            let h: number = parseFloat(params[0]);\r\n            let s: number = parseFloat(params[1]);\r\n            let l: number = parseFloat(params[2]);\r\n            let q: number = l < 1 / 2 ? l * (1 + s) : l + s - (l * s);\r\n            let p: number = 2 * l - q;\r\n            let h_k: number = h / 360;\r\n            let t_r: number = h_k + 1 / 3;\r\n            t_r = t_r > 1 ? t_r - 1 : t_r < 0 ? t_r + 1 : t_r;\r\n            let t_g: number = h_k;\r\n            t_g = t_g > 1 ? t_g - 1 : t_g < 0 ? t_g + 1 : t_g;\r\n            let t_b: number = h_k - 1 / 3;\r\n            t_b = t_b > 1 ? t_b - 1 : t_b < 0 ? t_b + 1 : t_b;\r\n\r\n            let r: number = t_r < 1 / 6\r\n                ? p + (q - p) * 6 * t_r\r\n                : t_r < 1 / 2\r\n                    ? q\r\n                    : t_r < 2 / 3\r\n                        ? p + (q - p) * 6 * (2 / 3 - t_r)\r\n                        : p;\r\n            let g: number = t_g < 1 / 6\r\n                ? p + (q - p) * 6 * t_g\r\n                : t_g < 1 / 2\r\n                    ? q\r\n                    : t_g < 2 / 3\r\n                        ? p + (q - p) * 6 * (2 / 3 - t_g)\r\n                        : p;\r\n            let b: number = t_b < 1 / 6\r\n                ? p + (q - p) * 6 * t_b\r\n                : t_b < 1 / 2\r\n                    ? q\r\n                    : t_b < 2 / 3\r\n                        ? p + (q - p) * 6 * (2 / 3 - t_b)\r\n                        : p;\r\n\r\n            if (params.length === 4) {\r\n                return `rgba(${ Math.floor(r * 255) },${ Math.floor(g * 255) },${ Math.floor(b * 255) },${ params[3] })`;\r\n            }\r\n            return `rgb(${ Math.floor(r * 255) },${ Math.floor(g * 255) },${ Math.floor(b * 255) })`;\r\n        }\r\n        return 'none';\r\n    };\r\n\r\n\r\nconst getRgba: (color: string) => { r: number; g: number; b: number; a: number; }\r\n    = (color: string) => {\r\n        if (!color.startsWith(\"rgb\")) {\r\n            color = toRgb(color);\r\n        }\r\n        let colorSet: Array<string> = toRgb(\r\n            color\r\n        ).match(/\\d+/g)!;\r\n        if (color.startsWith(\"rgba\")) {\r\n            return {\r\n                r: parseInt(colorSet[0]),\r\n                g: parseInt(colorSet[1]),\r\n                b: parseInt(colorSet[2]),\r\n                a: parseFloat(colorSet[3])\r\n            };\r\n        } else {\r\n            return {\r\n                r: parseInt(colorSet[0]),\r\n                g: parseInt(colorSet[1]),\r\n                b: parseInt(colorSet[2]),\r\n                a: 1\r\n            };\r\n        }\r\n    };\r\n\r\n\r\n/**\r\n * Sets lightness of a color.\r\n * @param {string} color\r\n * @param {number} degree\r\n * @returns\r\n */\r\nconst setLightness: (color: string, degree: number) => string\r\n    = (color: string, degree: number) => {\r\n        const { h, s, a } = toHsl(color);\r\n        let hsl: string = a === 1 ? `hsl(${ h },${ s },${ degree })` : `hsla(${ h },${ s },${ degree },${ a })`;\r\n        return toRgb(hsl);\r\n    };\r\n    \r\n\r\n/**\r\n * Returns a interpolation between two colors.\r\n * @param {string} color1\r\n * @param {string} color2\r\n * @param {number} step a number between [0, 1]\r\n * @returns\r\n */\r\nconst interpolate: (color1: string, color2: string, step?: number) => string\r\n    = (color1: string, color2: string, step: number = 0.5) => {\r\n        const hsl1: { code: string; h: number; s: number; l: number; a: number; } = toHsl(color1);\r\n        const hsl2: { code: string; h: number; s: number; l: number; a: number; } = toHsl(color2);\r\n        let h: number = hsl1.h * (1 - step) + hsl2.h * step;\r\n        let s: number = hsl1.s * (1 - step) + hsl2.s * step;\r\n        let l: number = hsl1.l * (1 - step) + hsl2.l * step;\r\n        let a: number = hsl1.a * (1 - step) + hsl2.a * step;\r\n        a = isNaN(a) ? 1 : a;\r\n        let hsl: string = a === 1 ? `hsl(${ h },${ s },${ l })` : `hsla(${ h },${ s },${ l },${ a })`;\r\n        return toRgb(hsl);\r\n    };\r\n\r\n\r\n/**\r\n * Color: namespace\r\n */\r\nconst Color = {\r\n    /**Creates a linear gradient.*/\r\n    linearGradient: linearGradient,\r\n\r\n    /**Translates a color code to hsl(a).*/\r\n    toHsl: toHsl,\r\n    \r\n    /**Translates a hsl(a) code to rgb(a).*/\r\n    toRgb: toRgb,\r\n\r\n    /**Get rgba values.*/\r\n    getRgba: getRgba,\r\n\r\n    /**Sets lightness of a color.*/\r\n    setLightness: setLightness,\r\n    \r\n    /**Returns a interpolation between two colors.*/\r\n    interpolate: interpolate,\r\n\r\n    /**\r\n     * Colorset Nippon\r\n     * Traditional Japanese colors.\r\n     */\r\n    Nippon: {\r\n        list: ['#808F7C', '#51A8DD', '#B54434', '#F0A986', '#F596AA', '#89916B', '#FAD689', '#336774', '#8D742A', '#DC9FB4', '#B28FCE', '#77428D', '#9E7A7A', '#734338', '#BA9132', '#DAC9A6', '#904840', '#6699A1', '#66BAB7', '#4A225D', '#6D2E5B', '#4E4F97', '#D9AB42', '#4B4E2A', '#005CAF', '#574C57', '#0C0C0C', '#0089A7', '#AF5F3C', '#B4A582', '#434343', '#855B32', '#6A4028', '#405B55', '#E87A90', '#113285', '#268785', '#F4A7B9', '#F9BF45', '#A8D8B9', '#62592C', '#EBB471', '#CA7A2C', '#DDA52D', '#D9CD90', '#ADA142', '#B17844', '#42602D', '#0F4C3A', '#947A6D', '#E9CD4C', '#B19693', '#F05E1C', '#305A56', '#91AD70', '#876633', '#33A6B8', '#BC9F77', '#724938', '#261E47', '#08192D', '#7D6C46', '#2D6D4B', '#FFB11B', '#2E5C6E', '#967249', '#F6C555', '#A0674B', '#884C3A', '#26453D', '#B481BB', '#572A3F', '#24936E', '#255359', '#00896C', '#96632E', '#3C2F41', '#9A5034', '#69B0AC', '#FFBA84', '#0093D3', '#5E3D50', '#8E354A', '#E16B8C', '#86473F', '#4D5139', '#7B90D2', '#9B90C2', '#91989F', '#867835', '#376B6D', '#828282', '#F75C2F', '#90B44B', '#8F5A3C', '#CAAD5F', '#7BA23F', '#516E41', '#60373E', '#006284', '#211E55', '#77969A', '#E2943B', '#0D5661', '#78C2C4', '#B07736', '#6E75A4', '#592C63', '#8B81C3', '#FF5E99', '#0B1013', '#FEDFE1', '#C46243', '#A5A051', '#2EA9DF', '#F19483', '#8F77B5', '#A8497A', '#70649A', '#554236', '#646A58', '#724832', '#1C1C1C', '#B9887D', '#4F4F48', '#ED784A', '#86A697', '#81C7D4', '#B5495B', '#563F2E', '#20604F', '#562E37', '#A28C37', '#C1693C', '#FFC408', '#C73E3A', '#AB3B3A', '#B35C37', '#E03C8A', '#FFF10C', '#CC543A', '#CC006B', '#43341B', '#C99833', '#7D532C', '#E8B647', '#854836', '#DCB879', '#86C166', '#838A2D', '#C78550', '#C18A26', '#DB8E71', '#986DB2', '#877F6C', '#E79460', '#91B493', '#A96360', '#FC9F4D', '#B55D4C', '#897D55', '#ECB88A', '#465D4C', '#D75455', '#0F2540', '#707C74', '#5B622E', '#F7D94C', '#080808', '#64363C', '#E9A368', '#BEC23F', '#656765', '#4F726C', '#D19826', '#0C4842', '#58B2DC', '#EB7A77', '#00AA90', '#EFBB24', '#6C6A2D', '#A5DEE4', '#E3916E', '#E98B2A', '#FB966E', '#2B5F75', '#FCFAF2', '#9F353A', '#66327C', '#3A3226', '#6A8372', '#6F3381', '#985F2A', '#373C38', '#E83015', '#3F2B36', '#6E552F', '#D7B98E', '#994639', '#1B813E', '#622954', '#C1328E', '#E1A679', '#607890', '#FB9966', '#577C8A', '#BF6766', '#B1B479', '#78552B', '#DDD23B', '#616138', '#3A8FB7', '#B47157', '#CA7853', '#D7C4BB', '#9B6E23', '#74673E', '#6C6024', '#B5CAA0', '#6A4C9C', '#F7C242', '#FBE251', '#f0dddd', '#52433D', '#227D51', '#F8C3CD', '#D05A6E', '#D0104C', '#1E88A8', '#C7802D', '#7DB9DE', '#F17C67', '#787878', '#DB4D6D', '#4A593D', '#939650', '#BDC0BA', '#EEA9A9', '#CB1B45', '#72636E', '#566C73', '#8A6BBE', '#A36336', '#954A45', '#096148', '#533D5B', '#5DAC81', '#535953', '#787D7B', '#A35E47', '#82663A', '#36563C', '#B68E55', '#FFFFFB', '#0B346E', '#CB4042'],\r\n\r\n        /**撫子 rgb(220,159,180)*/\r\n        Nadesiko: '#DC9FB4',\r\n        /**紅梅 rgb(225,107,140)*/\r\n        Koubai: '#E16B8C',\r\n        /**蘇芳 rgb(142,53,74)*/\r\n        Suou: '#8E354A',\r\n        /**退紅 rgb(248,195,205)*/\r\n        Taikou: '#F8C3CD',\r\n        /**一斥染 rgb(244,167,185)*/\r\n        Ikkonzome: '#F4A7B9',\r\n        /**桑染 rgb(100,54,60)*/\r\n        Kuwazome: '#64363C',\r\n        /**桃 rgb(245,150,170)*/\r\n        Momo: '#F596AA',\r\n        /**苺 rgb(181,73,91)*/\r\n        Ichigo: '#B5495B',\r\n        /**薄紅 rgb(232,122,144)*/\r\n        Usubeni: '#E87A90',\r\n        /**今様 rgb(208,90,110)*/\r\n        Imayou: '#D05A6E',\r\n        /**中紅 rgb(219,77,109)*/\r\n        Nakabeni: '#DB4D6D',\r\n        /**桜 rgb(254,223,225)*/\r\n        Sakura: '#FEDFE1',\r\n        /**梅鼠 rgb(158,122,122)*/\r\n        Umenezumi: '#9E7A7A',\r\n        /**韓紅花 rgb(208,16,76)*/\r\n        Karakurenai: '#D0104C',\r\n        /**燕脂 rgb(159,53,58)*/\r\n        Enzi: '#9F353A',\r\n        /**紅 rgb(203,27,69)*/\r\n        Kurenai: '#CB1B45',\r\n        /**鴇 rgb(238,169,169)*/\r\n        Toki: '#EEA9A9',\r\n        /**長春 rgb(191,103,102)*/\r\n        Tyousyunn: '#BF6766',\r\n        /**深緋 rgb(134,71,63)*/\r\n        Kokiake: '#86473F',\r\n        /**桜鼠 rgb(177,150,147)*/\r\n        SakuraNezumi: '#B19693',\r\n        /**甚三紅 rgb(235,122,119)*/\r\n        Zinnzamomi: '#EB7A77',\r\n        /**小豆 rgb(149,74,69)*/\r\n        Azuki: '#954A45',\r\n        /**蘇芳香 rgb(169,99,96)*/\r\n        Suoukou: '#A96360',\r\n        /**赤紅 rgb(203,64,66)*/\r\n        Akabeni: '#CB4042',\r\n        /**真朱 rgb(171,59,58)*/\r\n        Sinnsyu: '#AB3B3A',\r\n        /**灰桜 rgb(215,196,187)*/\r\n        Haizakura: '#D7C4BB',\r\n        /**栗梅 rgb(144,72,64)*/\r\n        Kuriume: '#904840',\r\n        /**海老茶 rgb(115,67,56)*/\r\n        Ebitya: '#734338',\r\n        /**銀朱 rgb(199,62,58)*/\r\n        Ginnsyu: '#C73E3A',\r\n        /**黒鳶 rgb(85,66,54)*/\r\n        Kurotobi: '#554236',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**猩猩緋 rgb(232,48,21)*/\r\n        Syozyohi: '#E83015',\r\n        /**\r\n         */\r\n        /**金茶 rgb(199,128,45)*/\r\n        Kinntya: '#C7802D',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**山吹 rgb(255,177,27)*/\r\n        Yamabuki: '#FFB11B',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**鳥の子 rgb(218,201,166)*/\r\n        Torinoko: '#DAC9A6',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**籐黄 rgb(255,196,8)*/\r\n        Touou: '#FFC408',\r\n        /**鬱金 rgb(239,187,36)*/\r\n        Ukonn: '#EFBB24',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**苗 rgb(134,193,102)*/\r\n        Nae: '#86C166',\r\n        /**\r\n         */\r\n        /**常盤 rgb(27,129,62)*/\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        Tokiwa: '#1B813E',\r\n        /**緑 rgb(34,125,81)*/\r\n        Midori: '#227D51',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**緑青 rgb(36,147,110)*/\r\n        Rokusyou: '#24936E',\r\n        /**\r\n         */\r\n        /**水浅葱 rgb(102,186,183)*/\r\n        Mizuasagi: '#66BAB7',\r\n        /**青碧 rgb(38,135,133)*/\r\n        Seiheki: '#268785',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**水 rgb(129,199,212)*/\r\n        Mizu: '#81C7D4',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**黒橡 rgb(11,16,19)*/\r\n        Kuroturubami: '#0B1013',\r\n        /**\r\n         */\r\n        /**褐 rgb(8,25,45)*/\r\n        Kati: '#08192D',\r\n        /**瑠璃 rgb(0,92,175)*/\r\n        Ruri: '#005CAF',\r\n        /**瑠璃紺 rgb(11,52,110)*/\r\n        Rurikonn: '#0B346E',\r\n        /**红碧 rgb(123,144,210)*/\r\n        Berimidori: '#7B90D2',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**鈍 rgb(101,103,101)*/\r\n        Nibi: '#656765',\r\n        /**青鈍 rgb(83,89,83)*/\r\n        Aonibi: '#535953',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**紫苑 rgb(143,119,181)*/\r\n        Sionn: '#8F77B5',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**半 rgb(152,109,78)*/\r\n        Hasita: '#986DB2',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**躑躅 rgb(224,60,138)*/\r\n        Tutuzi: '#E03C8A',\r\n        /**胡粉 rgb(189,192,186)*/\r\n        Gohunn: '#FFFFFB',\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**\r\n         */\r\n        /**藍墨茶 rgb(55,60,56)*/\r\n        Aisumitya: '#373C38',\r\n        /**消炭 rgb(67,67,67)*/\r\n        Kesizumi: '#434343',\r\n        /**墨 rgb(28,28,28)*/\r\n        Sumi: '#1C1C1C',\r\n        /**黒 rgb(8,8,8)*/\r\n        Kuro: '#080808',\r\n        /**呂 rgb(12,12,12)*/\r\n        Ro: '#0C0C0C'\r\n    },\r\n}\r\n\r\n\r\nexport type ColorThemeKey = \"Caffee\" | \"NakiriAyame\";\r\n\r\nexport const ColorThemes = {\r\n    Caffee: {\r\n        // OuterBackground: '#4E3327',\r\n        OuterBackground: '#F0F0F0',\r\n        Border: '#231711',\r\n        // OuterColor: '#FEFEFE',\r\n        OuterColor: '#141414',\r\n        InnerBackground: '#FEFEFE',\r\n        InnerColor: '#FCD3AE',\r\n        Red: '#C32936',\r\n        Green: '#2E7917',\r\n        Grey: '#877977'\r\n    },\r\n    NakiriAyame: {\r\n        OuterBackground: '#FCFBFC',\r\n        Border: '#D2394A',\r\n        OuterColor: '#D2394A',\r\n        InnerBackground: '#2A282B',\r\n        InnerColor: '#FCD3AE',\r\n        Red: '#AD2138',\r\n        Green: '#52826D',\r\n        Grey: '#D3C1BE'\r\n    },\r\n    OokamiMio: {\r\n        Black: '#333130',\r\n        Red: '#FE685F'\r\n    }\r\n};\r\n\r\n\r\nexport default Color;\r\n\r\n(window as any)['Color'] = Color;\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 21:37:20 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-30 04:57:28\r\n */\r\n\r\nimport { Theme, Partical } from \"../methods/typedict\";\r\nimport $ from \"jquery\";\r\nimport { getSelectedElement, getStyle } from \"../methods/selection\";\r\nimport Color from \"../preference/Color\";\r\nimport { Shared } from \"../methods/globals\";\r\n\r\n\r\ninterface SnowBall {\r\n    r: number;\r\n    x: number;\r\n    y: number;\r\n    a: number;\r\n    dist: number;\r\n    prevDx: number;\r\n    prevDd: number;\r\n    active: boolean;\r\n};\r\n\r\ninterface YukiState {\r\n    items: Array<SnowBall>;\r\n    particals: Array<Partical>;\r\n    cursor?: { x: number; y: number; pressed: boolean; };\r\n};\r\n\r\n/** 主题：雪 */\r\nexport const Yuki: Theme<YukiState> = {\r\n    colortab: {\r\n        color: \"rgb(208,213,215)\",\r\n        border: \"rgb(155,255,254)\",\r\n        background: \"rgb(154,154,155)\",\r\n        frontground: \"rgb(254,231,111)\",\r\n        frontground2: \"rgb(251,133,154)\",\r\n        frontground3: \"rgb(198,49,43)\"\r\n    },\r\n    data: {\r\n        items: [],\r\n        particals: []\r\n    },\r\n    start: (ctx: CanvasRenderingContext2D, ctx2: CanvasRenderingContext2D) => {\r\n        ctx.canvas.style.backgroundColor = \"rgb(11,11,14)\";\r\n        Yuki.data = {\r\n            items: [],\r\n            particals: [],\r\n            cursor: void 0\r\n        };\r\n        Yuki.paint(ctx, ctx2);\r\n    },\r\n    end: () => {\r\n        if (Yuki.next) {\r\n            // 清除定时器\r\n            clearTimeout(Yuki.next);\r\n            Yuki.next = void 0;\r\n        }\r\n        Yuki.data = {\r\n            items: [],\r\n            particals: [],\r\n            cursor: void 0\r\n        };\r\n    },\r\n    paint: (ctx: CanvasRenderingContext2D, ctx2: CanvasRenderingContext2D) => {\r\n        /** 到下一帧的间隔毫秒数 */\r\n        const span: number = 1000 / Shared.animationFPS;\r\n        const width: number = ctx.canvas.width;\r\n        const height: number = ctx.canvas.height;\r\n        const max: number = Math.sqrt(width * height) / 16;\r\n\r\n        // 绘制和更新\r\n        ctx.fillStyle = \"rgb(11,11,14)\";\r\n        ctx.fillRect(0, 0, width, height);\r\n        ctx2.clearRect(0, 0, width, height);\r\n\r\n        let nextList: Array<SnowBall> = [];\r\n        let nextParticals: Array<Partical> = [];\r\n\r\n        Yuki.data.items.forEach(item => {\r\n            const r: number = item.r * item.dist;\r\n            if (r <= 0) {\r\n                // 消失\r\n                const r: number = 0.23 * max;\r\n                const gradient: CanvasGradient = ctx.createRadialGradient(\r\n                    item.x, item.y, r * 0.6, item.x, item.y, r\r\n                );\r\n                gradient.addColorStop(0, `rgba(212,215,217,${ item.a })`);\r\n                gradient.addColorStop(0.6, `rgba(181,183,184,${ item.a * 0.6 })`);\r\n                gradient.addColorStop(1, `rgba(72,73,74,${ item.a * 0.1 })`);\r\n                ctx.fillStyle = gradient;\r\n                ctx.beginPath();\r\n                ctx.moveTo(item.x, item.y - r);\r\n                ctx.lineTo(item.x + r / 25, item.y - r / 25);\r\n                ctx.lineTo(item.x + r, item.y);\r\n                ctx.lineTo(item.x + r / 25, item.y + r / 25);\r\n                ctx.lineTo(item.x, item.y + r);\r\n                ctx.lineTo(item.x - r / 25, item.y + r / 25);\r\n                ctx.lineTo(item.x - r, item.y);\r\n                ctx.lineTo(item.x - r / 25, item.y - r / 25);\r\n                ctx.lineTo(item.x, item.y - r);\r\n                ctx.fill();\r\n                ctx.closePath();\r\n                return;\r\n            }\r\n\r\n            const gradient: CanvasGradient = ctx.createRadialGradient(\r\n                item.x, item.y, r * 0.3, item.x, item.y, r\r\n            );\r\n            gradient.addColorStop(0, `rgba(212,215,217,${ item.a })`);\r\n            gradient.addColorStop(0.6, `rgba(181,183,184,${ item.a * 0.6 })`);\r\n            gradient.addColorStop(1, `rgba(72,73,74,${ item.a * 0.1 })`);\r\n            ctx.fillStyle = gradient;\r\n            ctx.beginPath();\r\n            ctx.arc(item.x, item.y, r, 0, 2 * Math.PI);\r\n            ctx.fill();\r\n            ctx.closePath();\r\n\r\n            // 移动\r\n            let dx: number = (\r\n                (Math.random() - 0.5) * width / 36\r\n            ) / Shared.animationFPS;\r\n            let ri: number = Math.pow(dx, 2) / Math.pow(\r\n                Math.abs(dx) + Math.abs(\r\n                    item.prevDx * Shared.animationFPS / 2\r\n                ), 2\r\n            );\r\n            dx = ri * dx + (1 - ri) * item.prevDx;\r\n            item.x += dx * (1 - item.dist);\r\n            item.prevDx = dx;\r\n            item.y += (\r\n                1 + 4 * r / Shared.animationFPS\r\n            ) * height / 1600 * (1 + item.y / height * 0.4);\r\n            if (item.y - r <= height) {\r\n                // 留下来\r\n                let dd: number = (Math.random() - 0.5) * 0.005;\r\n                let ri: number = Math.pow(dd, 2) / Math.pow(\r\n                    Math.abs(dd) + Math.abs(\r\n                        item.prevDd * Shared.animationFPS / 2\r\n                    ), 2\r\n                );\r\n                dd = ri * dd + (1 - ri) * item.prevDd;\r\n                item.dist += dd;\r\n                item.prevDd = dd;\r\n                const a: number = Math.min(1, 1 - 0.2 * item.dist);\r\n                if (item.a < a) {\r\n                    item.a += Math.random() * 0.16 / Shared.animationFPS;\r\n                }\r\n                item.a = Math.min(item.a, a);\r\n                nextList.push(item);\r\n            }\r\n        });\r\n\r\n        if (Shared.particalEffects) {\r\n            Yuki.data.particals.forEach(p => {\r\n                if (typeof p.color === \"string\") {\r\n                    ctx2.fillStyle = p.color;\r\n                    ctx2.globalAlpha = p.animation.opacity(p.ms) * Shared.particalOpacity;\r\n                } else {\r\n                    ctx2.globalAlpha = Shared.particalOpacity;\r\n                    ctx2.fillStyle = `rgba(${ p.color.r },${ p.color.g },${ p.color.b },${\r\n                        p.animation.opacity(p.ms)\r\n                    })`;\r\n                }\r\n                ctx2.fillRect(\r\n                    p.animation.x(p.ms),\r\n                    p.animation.y(p.ms),\r\n                    p.animation.size(p.ms),\r\n                    p.animation.size(p.ms)\r\n                );\r\n    \r\n                p.ms += span;\r\n                if (p.animation.opacity(p.ms) > 0) {\r\n                    // 还未结束\r\n                    nextParticals.push(p);\r\n                }\r\n            });\r\n        }\r\n\r\n        // 鼠标指针\r\n        if (Yuki.data.cursor) {\r\n            ctx2.globalAlpha = 1;\r\n            if (Shared.cursorState === \"normal\") {\r\n                ctx2.strokeStyle = \"rgb(23,126,209)\";\r\n                ctx2.lineWidth = 1;\r\n                ctx2.beginPath();\r\n                ctx2.moveTo(Yuki.data.cursor.x, Yuki.data.cursor.y);\r\n                ctx2.lineTo(Yuki.data.cursor.x + 16, Yuki.data.cursor.y + 16);\r\n                ctx2.lineTo(Yuki.data.cursor.x + 6, Yuki.data.cursor.y + 22);\r\n                ctx2.lineTo(Yuki.data.cursor.x, Yuki.data.cursor.y);\r\n                ctx2.stroke();\r\n            } else if (Shared.cursorState === \"pointer\") {\r\n                ctx2.strokeStyle = \"rgb(23,126,209)\";\r\n                ctx2.fillStyle = `rgba(136,220,254,${\r\n                    Math.abs(\r\n                        (new Date()).getTime() % 2000 - 1000\r\n                    ) % 1000 / 1000\r\n                })`;\r\n                ctx2.lineWidth = 1;\r\n                ctx2.beginPath();\r\n                ctx2.moveTo(Yuki.data.cursor.x, Yuki.data.cursor.y);\r\n                ctx2.lineTo(Yuki.data.cursor.x + 16, Yuki.data.cursor.y + 16);\r\n                ctx2.lineTo(Yuki.data.cursor.x + 6, Yuki.data.cursor.y + 22);\r\n                ctx2.lineTo(Yuki.data.cursor.x, Yuki.data.cursor.y);\r\n                ctx2.fill();\r\n                ctx2.stroke();\r\n            }\r\n        }\r\n\r\n        // 下一帧状态\r\n        Yuki.data.items = [...nextList];\r\n        Yuki.data.particals = [...nextParticals];\r\n        /** 再生成一个光球的概率指数 */\r\n        let possibility: number = (\r\n            max - Yuki.data.items.length\r\n        ) / max * 3 / Shared.animationFPS;\r\n\r\n        while (possibility > 0) {\r\n            possibility -= Math.random();\r\n\r\n            if (possibility > 0) {\r\n                Yuki.data.items.push({\r\n                    x: Math.random() * width,\r\n                    y: Math.random() * height * 0.2,\r\n                    r: (Math.random() * 0.25 + 0.09) * max,\r\n                    a: Math.random() * 0.03 + 0.02,\r\n                    dist: 0.7 - Math.random() * Math.random() * 0.3,\r\n                    prevDx: 0,\r\n                    prevDd: 0,\r\n                    active: true\r\n                });\r\n            }\r\n        }\r\n        \r\n        // 更新定时器\r\n        Yuki.next = setTimeout(() => {\r\n            Yuki.paint(ctx, ctx2);\r\n        }, span);\r\n    },\r\n    mouseListener: (e: JQuery.MouseEventBase) => {\r\n        if (e.type === \"mouseout\") {\r\n            Yuki.data.cursor = {\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                pressed: Yuki.data.cursor?.pressed || false\r\n            };\r\n        } else if (e.type === \"mouseover\" || e.type === \"mousemove\") {\r\n            Yuki.data.cursor = {\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                pressed: Yuki.data.cursor?.pressed || false\r\n            };\r\n        } else if (e.type === \"mousedown\") {\r\n            Yuki.data.cursor = {\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                pressed: true\r\n            };\r\n        } else if (e.type === \"mouseup\") {\r\n            Yuki.data.cursor = {\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                pressed: false\r\n            };\r\n        }\r\n        if (Yuki.data.cursor?.pressed) {\r\n            // 粒子效果\r\n            if (Shared.particalEffects) {\r\n                const x: number = e.clientX;\r\n                const y: number = e.clientY;\r\n                const color: string = Color.interpolate(\r\n                    `rgb(63,192,252)`,\r\n                    `rgb(193,62,69)`,\r\n                    (Math.random() * 0.2 + 0.8) * Math.min(\r\n                        1, Yuki.data.particals.length / 2400\r\n                    )\r\n                );\r\n                // 根据被选择的元素变更颜色\r\n                const selection: HTMLElement | null = getSelectedElement();\r\n                let color2: string = `rgb(63,192,252)`;\r\n                if (selection && (\r\n                    // 这里直接赋值给 color2，判断是否为空串\r\n                    color2 = (\r\n                        selection.nodeName === \"text\"\r\n                        || selection.nodeName === \"tspan\"\r\n                    ) ? getStyle(selection, \"fill\")\r\n                    : getStyle(selection, \"color\")\r\n                )) {\r\n                    // 操作已在 if 条件中完成\r\n                } else {\r\n                    color2 = color;\r\n                }\r\n                const lightness: number = Color.toHsl(color).l * 0.9;\r\n                const lightness2: number = Color.toHsl(color2).l * 0.9;\r\n    \r\n                for (let i: number = 0; i < (\r\n                    Shared.particalEffects === 1 ? 2\r\n                        : Shared.particalEffects === 2 ? 6\r\n                            : 10\r\n                ); i++) {\r\n                    /** x 方向运动速度(每秒移动距离) */\r\n                    let sx: number = (Math.random() * 2 - 1) * 120;\r\n                    sx += (sx > 0 ? 1 : -1) * 24 * Math.random();\r\n                    /** y 方向初始运动速度(每秒移动距离) */\r\n                    const sy: number = 0 - Math.random() * Math.random() * 256 - 128;\r\n    \r\n                    /** 颜色 */\r\n                    const c: string = Math.random() < 0.8 ? color : color2;\r\n                    const l: number = c === color ? lightness : lightness2;\r\n    \r\n                    Yuki.data.particals.push({\r\n                        color: c === color ? Color.getRgba(\r\n                            Color.setLightness(\r\n                                c,\r\n                                l + (1 - l) * Math.random() * 0.6\r\n                            )\r\n                        ) : c,\r\n                        animation: {\r\n                            x: ms => x + sx * ms / 1000,\r\n                            y: ms => y + sy * ms / 1000 + ms * ms / 1200,\r\n                            opacity: ms => 1 - 0.6 * ms / 400,\r\n                            size: ms => 6 - 1.5 * ms / 400\r\n                        },\r\n                        life: 400,\r\n                        ms: 0\r\n                    });\r\n                }\r\n                for (let i: number = 0; i < (\r\n                    Shared.particalEffects === 1 ? 3\r\n                        : Shared.particalEffects === 2 ? 9\r\n                            : 14\r\n                ); i++) {\r\n                    /** x 方向运动速度(每秒移动距离) */\r\n                    let sx: number = (Math.random() * 2 - 1) * 140;\r\n                    sx += (sx > 0 ? 1 : -1) * 28 * Math.random();\r\n                    /** y 方向初始运动速度(每秒移动距离) */\r\n                    const sy: number = 0 - Math.random() * Math.random() * 282 - 141;\r\n                    \r\n                    /** 颜色 */\r\n                    const c: string = Math.random() < 0.8 ? color : color2;\r\n                    const l: number = c === color ? lightness : lightness2;\r\n    \r\n                    Yuki.data.particals.push({\r\n                        color: c.startsWith(\"rgb\") ? Color.getRgba(\r\n                            Color.setLightness(\r\n                                c,\r\n                                l * 0.6 + (1 - l * 0.6) * Math.random() * 0.5\r\n                            )\r\n                        ) : c,\r\n                        animation: {\r\n                            x: ms => x + sx * ms / 1000,\r\n                            y: ms => y + sy * ms / 1000 + ms * ms / 2000,\r\n                            opacity: ms => 1 - 0.6 * ms / 400,\r\n                            size: ms => 4 - 1 * ms / 400\r\n                        },\r\n                        life: 400,\r\n                        ms: 0\r\n                    });\r\n                }\r\n            }\r\n\r\n            // 元素交互\r\n            for (let i: number = 0; i < Yuki.data.items.length; i++) {\r\n                if (!Yuki.data.items[i].active) {\r\n                    continue;\r\n                }\r\n                const d2: number = Math.pow(\r\n                    Yuki.data.items[i].x - e.clientX, 2\r\n                ) + Math.pow(\r\n                    Yuki.data.items[i].y - e.clientY, 2\r\n                );\r\n                if (d2 <= Math.pow(Yuki.data.items[i].r, 2)) {\r\n                    const item: SnowBall = Yuki.data.items[i];\r\n                    // 防抖\r\n                    item.active = false;\r\n                    setTimeout(() => {\r\n                        if (item) {\r\n                            item.active = true;\r\n                        }\r\n                    }, 2000);\r\n                    for (let t: number = 0; t < 2600; t += Math.floor(\r\n                        1000 / Shared.animationFPS\r\n                    )) {\r\n                        setTimeout(() => {\r\n                            if (item) {\r\n                                item.y -= (\r\n                                    1 + 4 * item.r * item.dist / Shared.animationFPS\r\n                                ) * Math.sqrt(2600 - t) * $(window).height()! / 40000;\r\n                            }\r\n                        }, t);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    touchListener: (e: JQuery.TouchEventBase) => {\r\n        Yuki.data.cursor = void 0;\r\n        if (e.touches.length) {\r\n            for (let j: number = 0; j < e.touches.length; j++) {\r\n                // 粒子效果\r\n                if (Shared.particalEffects) {\r\n                    const x: number = e.touches[j].clientX;\r\n                    const y: number = e.touches[j].clientY;\r\n                    for (let i: number = 0; i < (\r\n                        Shared.particalEffects === 1 ? 2\r\n                            : Shared.particalEffects === 2 ? 5\r\n                                : 8\r\n                    ); i++) {\r\n                        /** x 方向运动速度(每秒移动距离) */\r\n                        let sx: number = (Math.random() * 2 - 1) * 100;\r\n                        sx += (sx > 0 ? 1 : -1) * 20 * Math.random();\r\n                        /** y 方向初始运动速度(每秒移动距离) */\r\n                        const sy: number = 0 - Math.random() * Math.random() * 256 - 128;\r\n        \r\n                        Yuki.data.particals.push({\r\n                            color: {\r\n                                r: 63,\r\n                                g: 192 + Math.floor(Math.random() * 30),\r\n                                b: 252\r\n                            },\r\n                            animation: {\r\n                                x: ms => x + sx * ms / 1000,\r\n                                y: ms => y + sy * ms / 1000 + ms * ms / 1600,\r\n                                opacity: ms => 1 - 0.4 * ms / 400,\r\n                                size: ms => 6 - 1.5 * ms / 400\r\n                            },\r\n                            life: 400,\r\n                            ms: 0\r\n                        });\r\n                    }\r\n                    for (let i: number = 0; i < (\r\n                        Shared.particalEffects === 1 ? 3\r\n                            : Shared.particalEffects === 2 ? 7\r\n                                : 10\r\n                    ); i++) {\r\n                        /** x 方向运动速度(每秒移动距离) */\r\n                        let sx: number = (Math.random() * 2 - 1) * 120;\r\n                        sx += (sx > 0 ? 1 : -1) * 24 * Math.random();\r\n                        /** y 方向初始运动速度(每秒移动距离) */\r\n                        const sy: number = 0 - Math.random() * Math.random() * 282 - 141;\r\n        \r\n                        Yuki.data.particals.push({\r\n                            color: {\r\n                                r: 63,\r\n                                g: 172 + Math.floor(Math.random() * 40),\r\n                                b: 252\r\n                            },\r\n                            animation: {\r\n                                x: ms => x + sx * ms / 1000,\r\n                                y: ms => y + sy * ms / 1000 + ms * ms / 1200,\r\n                                opacity: ms => 1 - 0.6 * ms / 400,\r\n                                size: ms => 4 - 1 * ms / 400\r\n                            },\r\n                            life: 400,\r\n                            ms: 0\r\n                        });\r\n                    }\r\n                }\r\n                \r\n                // 元素交互\r\n                for (let i: number = 0; i < Yuki.data.items.length; i++) {\r\n                    if (!Yuki.data.items[i].active) {\r\n                        continue;\r\n                    }\r\n                    const d2: number = Math.pow(\r\n                        Yuki.data.items[i].x - e.touches[j].clientX, 2\r\n                    ) + Math.pow(\r\n                        Yuki.data.items[i].y - e.touches[j].clientY, 2\r\n                    );\r\n                    if (d2 <= Math.pow(Yuki.data.items[i].r, 2) + 11) {\r\n                        const item: SnowBall = Yuki.data.items[i];\r\n                        // 防抖\r\n                        item.active = false;\r\n                        setTimeout(() => {\r\n                            if (item) {\r\n                                item.active = true;\r\n                            }\r\n                        }, 2000);\r\n                        for (let t: number = 0; t < 2600; t += Math.floor(\r\n                            1000 / Shared.animationFPS\r\n                        )) {\r\n                            setTimeout(() => {\r\n                                if (item) {\r\n                                    item.y -= (\r\n                                        1 + 4 * item.r * item.dist / Shared.animationFPS\r\n                                    ) * Math.sqrt(2600 - t) * $(window).height()! / 40000;\r\n                                }\r\n                            }, t);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-29 00:17:10 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-29 23:17:22\r\n */\r\n\r\nimport { Theme } from \"./typedict\";\r\nimport { Yuki } from \"../themes/Yuki\";\r\n\r\nexport interface SharedItem {\r\n    theme: Theme;\r\n    cursorState: \"normal\" | \"pointer\";\r\n    animationFPS: number;\r\n    particalEffects: 0 | 1 | 2 | 3;\r\n    particalOpacity: number;\r\n};\r\n\r\nexport let Shared: SharedItem = {\r\n    theme: Yuki,\r\n    cursorState: \"normal\",\r\n    animationFPS: 60,\r\n    particalEffects: 2,\r\n    particalOpacity: 0.8\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-29 21:17:55 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-30 23:23:26\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport { HashRouter, Link } from \"react-router-dom\";\r\nimport { Shared } from \"../methods/globals\";\r\n\r\n\r\nexport class SettingsButton extends Component<{}, {}> {\r\n\r\n    public constructor(props: {}) {\r\n        super(props);\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div style={{\r\n                position: \"absolute\",\r\n                right: \"12px\",\r\n                top: \"12px\",\r\n                pointerEvents: \"none\"\r\n            }} >\r\n                <HashRouter>\r\n                    <Link to=\"/settings\" >\r\n                        <svg width=\"40px\" height=\"40px\"\r\n                        style={{\r\n                            scale: \"144%\"\r\n                        }} >\r\n                            <path d={\r\n                                \"M32,22 A16.5,16.5,0,0,0,32,18 L29,18 A13.5,13.5,0,0,0,28,15\"\r\n                                + \" L30,13 A16.5,16.5,0,0,0,27,10 L25,12 A13.5,13.5,0,0,0,22,11\"\r\n                                + \" L22,8 A16.5,16.5,0,0,0,18,8 L18,11 A13.5,13.5,0,0,0,15,12\"\r\n                                + \" L13,10 A16.5,16.5,0,0,0,10,13 L12,15 A13.5,13.5,0,0,0,11,18\"\r\n                                + \" L8,18 A16.5,16.5,0,0,0,8,22 L11,22 A13.5,13.5,0,0,0,12,25\"\r\n                                + \" L10,27 A16.5,16.5,0,0,0,13,30 L15,28 A13.5,13.5,0,0,0,18,29\"\r\n                                + \" L18,32 A16.5,16.5,0,0,0,22,32 L22,29 A13.5,13.5,0,0,0,25,28\"\r\n                                + \" L27,30 A16.5,16.5,0,0,0,30,27 L28,25 A13.5,13.5,0,0,0,29,22\"\r\n                            }\r\n                            style={{\r\n                                fill: Shared.theme.colortab.frontground2,\r\n                                pointerEvents: \"all\",\r\n                                cursor: \"none\"\r\n                            }}\r\n                            onMouseOver={\r\n                                () => {\r\n                                    Shared.cursorState = \"pointer\";\r\n                                }\r\n                            }\r\n                            onMouseOut={\r\n                                () => {\r\n                                    Shared.cursorState = \"normal\";\r\n                                }\r\n                            } />\r\n                            <circle\r\n                            cx={ 20 } cy={ 20 } r={ 5.6 }\r\n                            style={{\r\n                                fill: Shared.theme.colortab.frontground\r\n                            }} />\r\n                        </svg>\r\n                    </Link>\r\n                </HashRouter>\r\n            </div>\r\n        );\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 21:07:40 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-30 23:46:46\r\n */\r\n\r\nimport React from \"react\";\r\nimport { PageBody } from \"../methods/typedict\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport { SettingsButton } from \"../compo/SettingsButton\";\r\n\r\n\r\n/**\r\n * 这个页面级组件渲染对应地址 / .\r\n * \r\n * @export\r\n * @class Home\r\n * @extends {PageBody<{}>}\r\n */\r\nexport class Home extends PageBody<{}> {\r\n\r\n    public constructor(props: {}) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n    \r\n    public render(): JSX.Element {\r\n        return (\r\n            <>\r\n                <h1 style={{\r\n                    color: Shared.theme.colortab.color,\r\n                    margin: \"calc(20px + 3vh)\"\r\n                }} >\r\n                    AntoineYANG\r\n                </h1>\r\n                <div style={{\r\n                    color: Shared.theme.colortab.color,\r\n                    margin: \"calc(10px + 6vh) calc(20px + 8vw) calc(10px + 3vh)\",\r\n                    padding: \"calc(12px + 5vh)\",\r\n                    border: `1px solid ${ Shared.theme.colortab.border }`,\r\n                    boxShadow: `6px 5px 0 1px ${\r\n                        Shared.theme.colortab.border.replace(\r\n                            \"(\", \"a(\"\r\n                        ).replace(\r\n                            \")\", \",0.1)\"\r\n                        )\r\n                    }`\r\n                }} >\r\n                    网站升级中...\r\n                    <br />\r\n                    <br />\r\n                    <span style={{ color: Shared.theme.colortab.frontground }} >\r\n                        Sorry,&nbsp;\r\n                    </span>\r\n                    <span style={{ color: Shared.theme.colortab.frontground2 }} >\r\n                        this website&nbsp;\r\n                    </span>\r\n                    <span style={{ color: Shared.theme.colortab.frontground3 }} >\r\n                        is under&nbsp;\r\n                    </span>\r\n                    <span style={{ color: \"rgb(63,119,134)\" }} >rebuilding...</span>\r\n                </div>\r\n                <div style={{\r\n                    position: \"absolute\",\r\n                    left: \"12px\",\r\n                    top: \"12px\",\r\n                    pointerEvents: \"none\"\r\n                }} >\r\n                    <svg width=\"40px\" height=\"40px\" \r\n                    style={{\r\n                        scale: \"144%\"\r\n                    }}>\r\n                        <rect key=\"0\"\r\n                        x={ 20 } y={ 20 } width={ 20 } height={ 20 }\r\n                        style={{\r\n                            fill: Shared.theme.colortab.frontground,\r\n                            stroke: Shared.theme.colortab.background,\r\n                            pointerEvents: \"all\",\r\n                            cursor: \"none\",\r\n                            transform: \"rotate(18deg) translate(-10px,-10px)\",\r\n                            transformOrigin: \"20px 20px\"\r\n                        }}\r\n                        onMouseOver={\r\n                            () => {\r\n                                Shared.cursorState = \"pointer\";\r\n                            }\r\n                        }\r\n                        onMouseOut={\r\n                            () => {\r\n                                Shared.cursorState = \"normal\";\r\n                            }\r\n                        } />\r\n                        <rect key=\"1\"\r\n                        x={ 20 } y={ 20 } width={ 16 } height={ 16 }\r\n                        style={{\r\n                            fill: Shared.theme.colortab.frontground2,\r\n                            stroke: Shared.theme.colortab.background,\r\n                            transform: \"rotate(36deg) translate(-8px,-8px)\",\r\n                            transformOrigin: \"20px 20px\"\r\n                        }} />\r\n                        <rect key=\"2\"\r\n                        x={ 20 } y={ 20 } width={ 12.8 } height={ 12.8 }\r\n                        style={{\r\n                            fill: Shared.theme.colortab.frontground3,\r\n                            stroke: Shared.theme.colortab.background,\r\n                            transform: \"rotate(54deg) translate(-6.4px,-6.4px)\",\r\n                            transformOrigin: \"20px 20px\"\r\n                        }} />\r\n                        <rect key=\"4\"\r\n                        x={ 20 } y={ 20 } width={ 9.8 } height={ 9.8 }\r\n                        style={{\r\n                            fill: Shared.theme.colortab.frontground,\r\n                            stroke: Shared.theme.colortab.background,\r\n                            transform: \"rotate(72deg) translate(-4.9px,-4.9px)\",\r\n                            transformOrigin: \"20px 20px\"\r\n                        }} />\r\n                        <rect key=\"5\"\r\n                        x={ 20 } y={ 20 } width={ 7.6 } height={ 7.6 }\r\n                        style={{\r\n                            fill: Shared.theme.colortab.frontground2,\r\n                            stroke: Shared.theme.colortab.background,\r\n                            transform: \"rotate(90deg) translate(-3.8px,-3.8px)\",\r\n                            transformOrigin: \"20px 20px\"\r\n                        }} />\r\n                        <rect key=\"6\"\r\n                        x={ 20 } y={ 20 } width={ 6 } height={ 6 }\r\n                        style={{\r\n                            fill: Shared.theme.colortab.frontground3,\r\n                            stroke: Shared.theme.colortab.background,\r\n                            transform: \"rotate(108deg) translate(-3px,-3px)\",\r\n                            transformOrigin: \"20px 20px\"\r\n                        }} />\r\n                    </svg>\r\n                </div>\r\n                <SettingsButton />\r\n            </>\r\n        );\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        Shared.cursorState = \"normal\";\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-30 22:42:24 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-31 00:02:08\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport { HashRouter, Link } from \"react-router-dom\";\r\nimport { Shared } from \"../methods/globals\";\r\n\r\n\r\nexport class HomeButton extends Component<{}, {}> {\r\n\r\n    public constructor(props: {}) {\r\n        super(props);\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div style={{\r\n                position: \"absolute\",\r\n                left: \"12px\",\r\n                top: \"12px\",\r\n                pointerEvents: \"none\"\r\n            }} >\r\n                <HashRouter>\r\n                    <Link to=\"/\" >\r\n                        <svg width=\"40px\" height=\"40px\"\r\n                        style={{\r\n                            scale: \"144%\"\r\n                        }} >\r\n                            <rect key=\"0\"\r\n                            x={ 20 } y={ 20 } width={ 20 } height={ 20 }\r\n                            style={{\r\n                                fill: Shared.theme.colortab.frontground,\r\n                                stroke: Shared.theme.colortab.background,\r\n                                pointerEvents: \"all\",\r\n                                cursor: \"none\",\r\n                                transform: \"rotate(18deg) translate(-10px,-10px)\",\r\n                                transformOrigin: \"20px 20px\"\r\n                            }}\r\n                            onMouseOver={\r\n                                () => {\r\n                                    Shared.cursorState = \"pointer\";\r\n                                }\r\n                            }\r\n                            onMouseOut={\r\n                                () => {\r\n                                    Shared.cursorState = \"normal\";\r\n                                }\r\n                            } />\r\n                            <rect key=\"1\"\r\n                            x={ 20 } y={ 20 } width={ 16 } height={ 16 }\r\n                            style={{\r\n                                fill: Shared.theme.colortab.frontground2,\r\n                                stroke: Shared.theme.colortab.background,\r\n                                transform: \"rotate(36deg) translate(-8px,-8px)\",\r\n                                transformOrigin: \"20px 20px\"\r\n                            }} />\r\n                            <rect key=\"2\"\r\n                            x={ 20 } y={ 20 } width={ 12.8 } height={ 12.8 }\r\n                            style={{\r\n                                fill: Shared.theme.colortab.frontground3,\r\n                                stroke: Shared.theme.colortab.background,\r\n                                transform: \"rotate(54deg) translate(-6.4px,-6.4px)\",\r\n                                transformOrigin: \"20px 20px\"\r\n                            }} />\r\n                            <rect key=\"4\"\r\n                            x={ 20 } y={ 20 } width={ 9.8 } height={ 9.8 }\r\n                            style={{\r\n                                fill: Shared.theme.colortab.frontground,\r\n                                stroke: Shared.theme.colortab.background,\r\n                                transform: \"rotate(72deg) translate(-4.9px,-4.9px)\",\r\n                                transformOrigin: \"20px 20px\"\r\n                            }} />\r\n                            <rect key=\"5\"\r\n                            x={ 20 } y={ 20 } width={ 7.6 } height={ 7.6 }\r\n                            style={{\r\n                                fill: Shared.theme.colortab.frontground2,\r\n                                stroke: Shared.theme.colortab.background,\r\n                                transform: \"rotate(90deg) translate(-3.8px,-3.8px)\",\r\n                                transformOrigin: \"20px 20px\"\r\n                            }} />\r\n                            <rect key=\"6\"\r\n                            x={ 20 } y={ 20 } width={ 6 } height={ 6 }\r\n                            style={{\r\n                                fill: Shared.theme.colortab.frontground3,\r\n                                stroke: Shared.theme.colortab.background,\r\n                                transform: \"rotate(108deg) translate(-3px,-3px)\",\r\n                                transformOrigin: \"20px 20px\"\r\n                            }} />\r\n                        </svg>\r\n                    </Link>\r\n                </HashRouter>\r\n            </div>\r\n        );\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 20:50:07 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-30 22:43:52\r\n */\r\n\r\nimport React from \"react\";\r\nimport { PageBody } from \"../methods/typedict\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport { SettingsButton } from \"../compo/SettingsButton\";\r\nimport { HomeButton } from \"../compo/HomeButton\";\r\n\r\n\r\n/**\r\n * 这个页面级组件在无法访问对应网址时渲染.\r\n * \r\n * @export\r\n * @class BadUrl\r\n * @extends {PageBody<{}>}\r\n */\r\nexport class BadUrl extends PageBody<{}> {\r\n\r\n    public constructor(props: {}) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n    \r\n    public render(): JSX.Element {\r\n        return (\r\n            <>\r\n                <h1 style={{\r\n                    color: Shared.theme.colortab.color,\r\n                    margin: \"calc(20px + 3vh)\"\r\n                }} >\r\n                    404\r\n                </h1>\r\n                <div style={{\r\n                    color: Shared.theme.colortab.color,\r\n                    margin: \"calc(10px + 6vh) calc(20px + 8vw) calc(10px + 3vh)\",\r\n                    padding: \"calc(12px + 5vh)\",\r\n                    border: `1px solid ${ Shared.theme.colortab.border }`,\r\n                    boxShadow: `6px 5px 0 1px ${\r\n                        Shared.theme.colortab.border.replace(\r\n                            \"(\", \"a(\"\r\n                        ).replace(\r\n                            \")\", \",0.1)\"\r\n                        )\r\n                    }`\r\n                }} >\r\n                    很抱歉，您访问的页面不存在。\r\n                    <br />\r\n                    <br />\r\n                    Bad Gateway\r\n                </div>\r\n                <HomeButton />\r\n                <SettingsButton />\r\n            </>\r\n        );\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        Shared.cursorState = \"normal\";\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-28 21:15:16 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-29 18:02:58\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport $ from \"jquery\";\r\nimport { Theme } from \"../methods/typedict\";\r\n\r\n\r\nexport interface BackgroundCanvasProps {\r\n    initTheme: Theme;\r\n};\r\n\r\nexport interface BackgroundCanvasState {\r\n    curTheme: Theme;\r\n};\r\n\r\n/**\r\n * 这个组件将作为页面的背景，\r\n * 其定位不随页面移动.\r\n * 建议在页面其他元素的最外层渲染.\r\n * \r\n * @export\r\n * @class BackgroundCanvas\r\n * @extends {Component<BackgroundCanvasProps, BackgroundCanvasState>}\r\n */\r\nexport class BackgroundCanvas extends Component<BackgroundCanvasProps, BackgroundCanvasState> {\r\n\r\n    // 背景\r\n    protected canvas: React.RefObject<HTMLCanvasElement>;\r\n    protected ctx?: CanvasRenderingContext2D;\r\n\r\n    // 鼠标\r\n    protected canvas2: React.RefObject<HTMLCanvasElement>;\r\n    protected ctx2?: CanvasRenderingContext2D;\r\n\r\n    public constructor(props: BackgroundCanvasProps) {\r\n        super(props);\r\n        this.state = {\r\n            curTheme: this.props.initTheme\r\n        };\r\n\r\n        this.canvas = React.createRef<HTMLCanvasElement>();\r\n        this.canvas2 = React.createRef<HTMLCanvasElement>();\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <>\r\n                <canvas key=\"animation\" ref={ this.canvas }\r\n                width=\"100%\" height=\"100%\" style={{\r\n                    position: \"fixed\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    zIndex: -9999\r\n                }} />\r\n                <>\r\n                    { this.props.children }\r\n                </>\r\n                <canvas key=\"cursor\" ref={ this.canvas2 }\r\n                width=\"100%\" height=\"100%\" style={{\r\n                    position: \"fixed\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    zIndex: 9999,\r\n                    pointerEvents: \"none\"\r\n                }} />\r\n            </>\r\n        );\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        // 隐藏默认指针\r\n        $(\"body\").css(\"cursor\", \"none\");\r\n        // 设定大小\r\n        this.canvas.current!.width = $(window).width()!;\r\n        this.canvas.current!.height = $(window).height()!;\r\n        this.canvas2.current!.width = $(window).width()!;\r\n        this.canvas2.current!.height = $(window).height()!;\r\n        // 获取 canvas 上下文\r\n        this.ctx = this.canvas.current!.getContext(\"2d\")!;\r\n        this.ctx2 = this.canvas2.current!.getContext(\"2d\")!;\r\n        // 绑定监听\r\n        $(window).on(\"resize\", () => {\r\n            this.canvas.current!.width = $(window).width()!;\r\n            this.canvas.current!.height = $(window).height()!;\r\n            this.canvas2.current!.width = $(window).width()!;\r\n            this.canvas2.current!.height = $(window).height()!;\r\n        });\r\n        $(\"*\").on(\"mouseover\", e => {\r\n            this.state.curTheme.mouseListener(e);\r\n        }).on(\"mouseout\", e => {\r\n            this.state.curTheme.mouseListener(e);\r\n        }).on(\"click\", e => {\r\n            this.state.curTheme.mouseListener(e);\r\n        }).on(\"mousedown\", e => {\r\n            this.state.curTheme.mouseListener(e);\r\n        }).on(\"mouseup\", e => {\r\n            this.state.curTheme.mouseListener(e);\r\n        }).on(\"mousemove\", e => {\r\n            this.state.curTheme.mouseListener(e);\r\n        }).on(\"touchstart\", e => {\r\n            this.state.curTheme.touchListener(e);\r\n        }).on(\"touchmove\", e => {\r\n            this.state.curTheme.touchListener(e);\r\n        }).on(\"touchend\", e => {\r\n            this.state.curTheme.touchListener(e);\r\n        });\r\n        // 开始渲染\r\n        this.state.curTheme.start(this.ctx!, this.ctx2!);\r\n    }\r\n\r\n    public componentWillUnmount(): void {\r\n        // 还原默认指针\r\n        $(\"body\").css(\"cursor\", \"initial\");\r\n        // 解除监听\r\n        $(window).unbind();\r\n    }\r\n\r\n    public getSnapshotBeforeUpdate(): void {\r\n        // 停止渲染\r\n        this.state.curTheme.end();\r\n    }\r\n\r\n    public componentDidUpdate(): void {\r\n        // 开始渲染\r\n        this.state.curTheme.start(this.ctx!, this.ctx2!);\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-31 01:55:36 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-31 02:27:02\r\n */\r\n\r\n/**\r\n * 获取一个函数的防抖引用.\r\n *\r\n * @template RT 原函数返回值\r\n * @param {(...args: Array<any>) => RT} f 原函数\r\n * @param {number} [span=200] 无效化间隔\r\n * @returns {(() => RT | null)}\r\n */\r\nexport const debounced = <RT>(\r\n    f: (...args: Array<any>) => RT, span: number = 200\r\n): () => RT | null => {\r\n    let flag: boolean = true;\r\n\r\n    return function () {\r\n        if (flag) {\r\n            flag = false;\r\n            setTimeout(() => {\r\n                flag = true;\r\n            }, span);\r\n            return f.apply({}, arguments as any);\r\n        }\r\n        return null;\r\n    };\r\n};\r\n\r\n/**\r\n * 获取一个函数的防抖异步引用，\r\n * 当这个函数被连续触发时，只有最后一次生效.\r\n *\r\n * @template RT 原函数返回值\r\n * @param {() => RT} f 原函数\r\n * @param {number} [span=200] 无效化间隔\r\n * @returns {Promise<() => Promise<RT | null>>}\r\n */\r\nexport const lastCalled = async <RT>(\r\n    f: () => RT, span: number = 200\r\n): Promise<() => Promise<RT | null>> => {\r\n    let curId: number = 0;\r\n\r\n    return async () => {\r\n        curId = (curId + 1) % 1e6;\r\n        const id: number = curId;\r\n        const p: Promise<RT | null> = new Promise<RT | null>((resolve, reject) => {\r\n            setTimeout(() => {\r\n                if (id !== curId) {\r\n                    resolve(null);\r\n                }\r\n                try {\r\n                    resolve(f());\r\n                } catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, span);\r\n        });\r\n        return await p;\r\n    };\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-29 21:47:03 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-31 03:19:13\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport $ from \"jquery\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport Color from \"../preference/Color\";\r\nimport { lastCalled } from \"../methods/decorator\";\r\n\r\n\r\nexport interface SettingItemProps {\r\n    name: string;\r\n    valueChanged: (value: any) => void;\r\n};\r\n\r\nexport interface SettingItemState {};\r\n\r\n/**\r\n * 这个组件用来作为设置页面中的单个选项.\r\n *\r\n * @export\r\n * @class SettingItem\r\n * @extends {Component<P, S>}\r\n * @template P\r\n * @template S\r\n */\r\nexport class SettingItem<P extends SettingItemProps, S extends SettingItemState> extends Component<P, S> {\r\n\r\n    public constructor(props: P) {\r\n        super(props);\r\n    }\r\n\r\n};\r\n\r\n\r\nexport interface SettingValueBarProps extends SettingItemProps {\r\n    min: number;\r\n    max: number;\r\n    setter: (val: number) => number;\r\n    formatter: (val: number) => (string | number);\r\n    default: number;\r\n    valueChanged: (value: number) => void;\r\n    previewChanging: (value: number) => void;\r\n};\r\n\r\nexport interface SettingValueBarState extends SettingItemState {\r\n    value: number;\r\n};\r\n\r\n/**\r\n * 数字类型的拖动条.\r\n *\r\n * @export\r\n * @class SettingValueBar\r\n * @extends {SettingItem<SettingValueBarProps, SettingValueBarState>}\r\n */\r\nexport class SettingValueBar extends SettingItem<SettingValueBarProps, SettingValueBarState> {\r\n\r\n    protected svg: React.RefObject<SVGSVGElement>;\r\n    protected resizeListener: () => void;\r\n\r\n    protected dragging: boolean;\r\n    protected curVal: number;\r\n\r\n    protected submitTouchEnd: Promise<() => Promise<void | null>>;\r\n\r\n    public constructor(props: SettingValueBarProps) {\r\n        super(props);\r\n        this.state = {\r\n            value: this.props.default\r\n        };\r\n\r\n        this.svg = React.createRef<SVGSVGElement>();\r\n        this.resizeListener = this.resize.bind(this);\r\n\r\n        this.dragging = false;\r\n        this.curVal = this.props.default;\r\n\r\n        this.submitTouchEnd = lastCalled(() => {\r\n            const val: number = this.props.setter(this.curVal);\r\n\r\n            if (val !== this.state.value) {\r\n                this.props.valueChanged(val);\r\n                this.setState({\r\n                    value: val\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div style={{\r\n                display: \"inline-flex\",\r\n                margin: \"2vh 2vw\",\r\n                fontSize: \"110%\",\r\n                alignItems: \"center\"\r\n            }} >\r\n                <label style={{\r\n                    cursor: \"none\",\r\n                    display: \"inline-block\",\r\n                    width: \"20vw\",\r\n                    maxWidth: \"260px\",\r\n                    marginLeft: \"auto\",\r\n                    marginRight: \"calc(4px + 0.1vw)\"\r\n                }} >\r\n                    { this.props.name }\r\n                </label>\r\n                <svg ref={ this.svg } height=\"40px\" style={{\r\n                    maxWidth: \"68vw\",\r\n                    minWidth: \"34vw\",\r\n                    marginRight: \"auto\"\r\n                }} >\r\n                    <rect key=\"background\" className=\"background\"\r\n                    x={ 0 } y={ 15 } width={ 40 } height={ 10 }\r\n                    rx={ 4 } ry={ 4 }\r\n                    style={{\r\n                        fill: Color.setLightness(\r\n                            Shared.theme.colortab.background, 0.2\r\n                        ),\r\n                        stroke: Color.setLightness(\r\n                            Shared.theme.colortab.background, 0.8\r\n                        ),\r\n                        strokeWidth: 2,\r\n                        pointerEvents: \"none\"\r\n                    }} />\r\n                    <rect key=\"target\" className=\"target\"\r\n                    x={ 0 } y={ 20 } width={ 22 } height={ 22 }\r\n                    rx={ 4 } ry={ 4 }\r\n                    style={{\r\n                        fill: Color.setLightness(\r\n                            Shared.theme.colortab.frontground,\r\n                            0.88\r\n                        ),\r\n                        fillOpacity: 0.8,\r\n                        stroke: Shared.theme.colortab.frontground2,\r\n                        strokeWidth: 4,\r\n                        transform: \"translate(-11px,-11px)\"\r\n                    }}\r\n                    onMouseOver={\r\n                        e => {\r\n                            Shared.cursorState = \"pointer\";\r\n                            e.currentTarget.style.fillOpacity = \"1.0\";\r\n                        }\r\n                    }\r\n                    onMouseOut={\r\n                        e => {\r\n                            Shared.cursorState = \"normal\";\r\n                            e.currentTarget.style.fillOpacity = \"0.8\";\r\n                        }\r\n                    }\r\n                    onMouseDown={\r\n                        ev => {\r\n                            this.dragging = true;\r\n\r\n                            const target: EventTarget = ev.target;\r\n                            const w: number = $(target).parent(\"svg\").width()!;\r\n                            const x1: number = 4 + 0.05 * w;\r\n                            const x2: number = 0.7 * w - 16;\r\n                            const offset: number = $(target).parent(\"svg\").offset()?.left || 0;\r\n\r\n                            const mouseMoveListener = (e: MouseEvent) => {\r\n                                const x: number = Math.max(\r\n                                    x1, Math.min(\r\n                                        x2, e.clientX - offset\r\n                                    )\r\n                                );\r\n                                this.curVal = this.props.min + (x - x1) / (x2 - x1) * (\r\n                                    this.props.max - this.props.min\r\n                                );\r\n                                $(target).attr(\r\n                                    \"x\", x\r\n                                );\r\n                                const val: number = this.props.setter(this.curVal);\r\n                                $(target).parent(\"svg\").children(\"text\").css(\r\n                                    \"fill\", Shared.theme.colortab.frontground\r\n                                ).text(\r\n                                    this.props.formatter(val)\r\n                                );\r\n                                this.props.previewChanging(val);\r\n                            };\r\n\r\n                            const mouseUpListener = () => {\r\n                                this.dragging = false;\r\n                                $(target).parent(\"svg\").children(\"text\").css(\r\n                                    \"fill\", Shared.theme.colortab.border\r\n                                );\r\n                                const val: number = this.props.setter(this.curVal);\r\n                                if (val !== this.state.value) {\r\n                                    this.props.valueChanged(val);\r\n                                    this.setState({\r\n                                        value: val\r\n                                    })\r\n                                }\r\n\r\n                                document.body.removeEventListener(\r\n                                    \"mousemove\", mouseMoveListener\r\n                                );\r\n                                document.body.removeEventListener(\r\n                                    \"mouseup\", mouseUpListener\r\n                                );\r\n                            };\r\n\r\n                            document.body.addEventListener(\r\n                                \"mousemove\", mouseMoveListener\r\n                            );\r\n                            document.body.addEventListener(\r\n                                \"mouseup\", mouseUpListener\r\n                            );\r\n                        }\r\n                    }\r\n                    onTouchStart={\r\n                        () => {\r\n                            this.dragging = true;\r\n                        }\r\n                    }\r\n                    onTouchMove={\r\n                        async e => {\r\n                            if (this.dragging && e.touches[0]) {\r\n                                const w: number = $(\r\n                                    e.currentTarget.parentElement!\r\n                                ).width()!;\r\n                                const x1: number = 4 + 0.05 * w;\r\n                                const x2: number = 0.7 * w - 16;\r\n                                const x: number = Math.max(\r\n                                    x1, Math.min(\r\n                                        x2, e.touches[0].clientX - (\r\n                                            e.currentTarget.parentElement!.getBoundingClientRect().left\r\n                                        )\r\n                                    )\r\n                                );\r\n                                this.curVal = this.props.min + (x - x1) / (x2 - x1) * (\r\n                                    this.props.max - this.props.min\r\n                                );\r\n                                $(e.currentTarget.parentElement!).children(\"rect.target\").attr(\r\n                                    \"x\", x\r\n                                );\r\n                                const val: number = this.props.setter(this.curVal);\r\n                                $(e.currentTarget.parentElement!).children(\"text\").css(\r\n                                    \"fill\", Shared.theme.colortab.frontground\r\n                                ).text(\r\n                                    this.props.formatter(val)\r\n                                );\r\n                                this.props.previewChanging(val);\r\n                                \r\n                                const submitTouchEnd = await this.submitTouchEnd;\r\n                                await submitTouchEnd();\r\n                            }\r\n                        }\r\n                    } />\r\n                    <text x={ 100 } y={ 20 } textAnchor=\"middle\"\r\n                    style={{\r\n                        fill: Shared.theme.colortab.border,\r\n                        transform: \"translate(-0.5em,0.2em)\"\r\n                    }} >\r\n                        { this.props.formatter(this.state.value) }\r\n                    </text>\r\n                </svg>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    protected resize(): void {\r\n        const svg: JQuery<SVGSVGElement> = $(this.svg.current!);\r\n\r\n        const w: number = svg.width()!;\r\n\r\n        const background: JQuery<SVGRectElement> = svg.children(\"rect.background\") as unknown as JQuery<SVGRectElement>;\r\n        const target: JQuery<SVGRectElement> = svg.children(\"rect.target\") as unknown as JQuery<SVGRectElement>;\r\n        const text: JQuery<SVGTextElement> = svg.children(\"text\") as unknown as JQuery<SVGTextElement>;\r\n\r\n        const x1: number = 4 + 0.05 * w;\r\n        const x2: number = 0.7 * w - 16;\r\n\r\n        background.attr(\"x\", x1).attr(\"width\", x2 - x1);\r\n        target.attr(\r\n            \"x\", (\r\n                this.state.value - this.props.min\r\n            ) / (\r\n                this.props.max - this.props.min\r\n            ) * (x2 - x1) + x1\r\n        );\r\n        text.attr(\"x\", x2 + (w - x2) / 2);\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        this.resize();\r\n        $(window).on(\"resize\", this.resizeListener);\r\n    }\r\n\r\n    public componentWillUnmount(): void {\r\n        $(window).off(\"resize\", this.resizeListener);\r\n    }\r\n\r\n    public componentDidUpdate(): void {\r\n        this.curVal = this.props.default;\r\n        this.dragging = false;\r\n        this.resize();\r\n    }\r\n\r\n};\r\n\r\nexport interface SettingRadioProps extends SettingItemProps {\r\n    formatter: (val: boolean) => (string | number);\r\n    default: boolean;\r\n    valueChanged: (value: boolean) => void;\r\n};\r\n\r\nexport interface SettingRadioState extends SettingItemState {\r\n    value: boolean;\r\n};\r\n\r\n/**\r\n * 单选框.\r\n *\r\n * @export\r\n * @class SettingRadio\r\n * @extends {SettingItem<SettingRadioProps, SettingRadioState>}\r\n */\r\nexport class SettingRadio extends SettingItem<SettingRadioProps, SettingRadioState> {\r\n\r\n    protected svg: React.RefObject<SVGSVGElement>;\r\n    protected resizeListener: () => void;\r\n\r\n    public constructor(props: SettingRadioProps) {\r\n        super(props);\r\n        this.state = {\r\n            value: this.props.default\r\n        };\r\n\r\n        this.svg = React.createRef<SVGSVGElement>();\r\n        this.resizeListener = this.resize.bind(this);\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        return (\r\n            <div style={{\r\n                display: \"inline-flex\",\r\n                margin: \"2vh 2vw\",\r\n                fontSize: \"110%\",\r\n                alignItems: \"center\"\r\n            }} >\r\n                <label style={{\r\n                    cursor: \"none\",\r\n                    display: \"inline-block\",\r\n                    width: \"20vw\",\r\n                    maxWidth: \"260px\",\r\n                    marginLeft: \"auto\",\r\n                    marginRight: \"calc(4px + 0.1vw)\"\r\n                }} >\r\n                    { this.props.name }\r\n                </label>\r\n                <svg ref={ this.svg } height=\"40px\" style={{\r\n                    maxWidth: \"68vw\",\r\n                    minWidth: \"34vw\",\r\n                    marginRight: \"auto\"\r\n                }} >\r\n                    <rect key=\"background\" className=\"background\"\r\n                    x={ 0 } y={ 6 } width={ 28 } height={ 28 }\r\n                    rx={ 6 } ry={ 6 }\r\n                    style={{\r\n                        fill: Color.setLightness(\r\n                            Shared.theme.colortab.background, 0.2\r\n                        ),\r\n                        stroke: Color.setLightness(\r\n                            Shared.theme.colortab.background, 0.8\r\n                        ),\r\n                        strokeWidth: 3\r\n                    }}\r\n                    onMouseOver={\r\n                        e => {\r\n                            Shared.cursorState = \"pointer\";\r\n                            e.currentTarget.style.fill = Color.setLightness(\r\n                                Shared.theme.colortab.background, 0.08\r\n                            );\r\n                        }\r\n                    }\r\n                    onMouseOut={\r\n                        e => {\r\n                            Shared.cursorState = \"normal\";\r\n                            e.currentTarget.style.fill = Color.setLightness(\r\n                                Shared.theme.colortab.background, 0.2\r\n                            );\r\n                        }\r\n                    }\r\n                    onClick={\r\n                        () => {\r\n                            const val: boolean = !this.state.value;\r\n                            this.props.valueChanged(val);\r\n                            this.setState({\r\n                                value: val\r\n                            });\r\n                        }\r\n                    } />\r\n                    <circle key=\"target\" className=\"target\"\r\n                    cx={ 20 } cy={ 20 } r={ 9 }\r\n                    style={{\r\n                        display: this.state.value ? \"initial\" : \"none\",\r\n                        fill: \"none\",\r\n                        stroke: Color.setLightness(\r\n                            Shared.theme.colortab.frontground2, 0.7\r\n                        ),\r\n                        strokeWidth: 3.6,\r\n                        pointerEvents: \"none\"\r\n                    }} />\r\n                    <text x={ 100 } y={ 20 } textAnchor=\"middle\"\r\n                    style={{\r\n                        fill: Shared.theme.colortab.border,\r\n                        transform: \"translate(-0.5em,0.2em)\"\r\n                    }} >\r\n                        { this.props.formatter(this.state.value) }\r\n                    </text>\r\n                </svg>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    protected resize(): void {\r\n        const svg: JQuery<SVGSVGElement> = $(this.svg.current!);\r\n\r\n        const w: number = svg.width()!;\r\n\r\n        const background: JQuery<SVGRectElement> = svg.children(\"rect.background\") as unknown as JQuery<SVGRectElement>;\r\n        const target: JQuery<SVGCircleElement> = svg.children(\"circle.target\") as unknown as JQuery<SVGCircleElement>;\r\n        const text: JQuery<SVGTextElement> = svg.children(\"text\") as unknown as JQuery<SVGTextElement>;\r\n\r\n        const x1: number = 4 + 0.05 * w;\r\n        const x2: number = 0.7 * w - 16;\r\n\r\n        background.attr(\"x\", x1);\r\n        target.attr(\"cx\", x1 + 14);\r\n        text.attr(\"x\", x2 + (w - x2) / 2);\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        this.resize();\r\n        $(window).on(\"resize\", this.resizeListener);\r\n    }\r\n\r\n    public componentWillUnmount(): void {\r\n        $(window).off(\"resize\", this.resizeListener);\r\n    }\r\n\r\n    public componentDidUpdate(): void {\r\n        this.resize();\r\n    }\r\n\r\n};\r\n","/*\r\n * @Author: Antoine YANG \r\n * @Date: 2020-08-29 21:41:10 \r\n * @Last Modified by: Antoine YANG\r\n * @Last Modified time: 2020-08-31 03:19:40\r\n */\r\n\r\nimport React from \"react\";\r\nimport { PageBody } from \"../methods/typedict\";\r\nimport { Shared } from \"../methods/globals\";\r\nimport { SettingValueBar, SettingRadio } from \"../compo/SettingItem\";\r\nimport { HomeButton } from \"../compo/HomeButton\";\r\n\r\n\r\n/**\r\n * 这个页面级组件渲染对应地址 /settings .\r\n * \r\n * @export\r\n * @class Settings\r\n * @extends {PageBody<{}>}\r\n */\r\nexport class Settings extends PageBody<{}> {\r\n\r\n    public constructor(props: {}) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n    \r\n    public render(): JSX.Element {\r\n        return (\r\n            <>\r\n                <h1 style={{\r\n                    color: Shared.theme.colortab.color,\r\n                    margin: \"calc(20px + 3vh)\"\r\n                }} >\r\n                    Settings\r\n                </h1>\r\n                <div style={{\r\n                    color: Shared.theme.colortab.color,\r\n                    width: \"86vw\",\r\n                    margin: \"calc(10px + 6vh) 4vw calc(10px + 3vh)\",\r\n                    padding: \"calc(12px + 5vh) 3vw\",\r\n                    display: \"block\"\r\n                }} >\r\n                    <SettingValueBar name=\"Animation FPS\"\r\n                    min={ 10 } max={ 120 } default={ Shared.animationFPS }\r\n                    formatter={\r\n                        (val: number) => val\r\n                    }\r\n                    setter={\r\n                        (val: number) => Math.floor(val / 5) * 5\r\n                    }\r\n                    previewChanging={\r\n                        (val: number) => {\r\n                            Shared.animationFPS = val;\r\n                        }\r\n                    }\r\n                    valueChanged={\r\n                        (val: number) => {\r\n                            Shared.animationFPS = val;\r\n                        }\r\n                    } />\r\n                    <SettingRadio name=\"Set Automatically\" default={ false }\r\n                    formatter={\r\n                        (val: boolean) => val.toString()\r\n                    }\r\n                    valueChanged={\r\n                        (_val: boolean) => {}\r\n                    } />\r\n                    <SettingValueBar name=\"Partical Effects\"\r\n                    formatter={\r\n                        (val: number) => (\r\n                            val === 3 ? \"high\"\r\n                                : val === 2 ? \"normal\"\r\n                                    : val === 1 ? \"low\"\r\n                                        : \"off\"\r\n                        )\r\n                    }\r\n                    min={ 0 } max={ 3 } default={ Shared.particalEffects }\r\n                    setter={\r\n                        (val: number) => Math.round(val)\r\n                    }\r\n                    previewChanging={\r\n                        (val: number) => {\r\n                            Shared.particalEffects = val as 0 | 1 | 2 | 3;\r\n                        }\r\n                    }\r\n                    valueChanged={\r\n                        (val: number) => {\r\n                            Shared.particalEffects = val as 0 | 1 | 2 | 3;\r\n                        }\r\n                    } />\r\n                    <SettingValueBar name=\"Partical Opacity\"\r\n                    formatter={\r\n                        (val: number) => val.toFixed(2)\r\n                    }\r\n                    min={ 0.1 } max={ 1 } default={ Shared.particalOpacity }\r\n                    setter={\r\n                        (val: number) => val\r\n                    }\r\n                    previewChanging={\r\n                        (val: number) => {\r\n                            Shared.particalOpacity = val;\r\n                        }\r\n                    }\r\n                    valueChanged={\r\n                        (val: number) => {\r\n                            Shared.particalOpacity = val;\r\n                        }\r\n                    } />\r\n                </div>\r\n                <HomeButton />\r\n            </>\r\n        );\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        Shared.cursorState = \"normal\";\r\n    }\r\n\r\n};\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport { Home } from './routings/Home';\nimport { BadUrl } from './routings/BadUrl';\nimport { BackgroundCanvas } from './themes/BackgroundCanvas';\nimport { Theme } from './methods/typedict';\nimport { Shared } from './methods/globals';\nimport { Settings } from './routings/Settings';\n\n\nexport interface AppState {\n  theme: Theme;\n};\n\n/**\n * 默认的最外层渲染元素.\n *\n * @class App\n * @extends {Component<{}, {}>}\n */\nclass App extends Component<{}, AppState> {\n\n  public constructor(props: {}) {\n    super(props);\n    this.state = {\n      theme: Shared.theme\n    };\n  }\n\n  public render(): JSX.Element {\n    Shared.theme = this.state.theme;\n\n    return (\n      <div className=\"App\">\n        <BackgroundCanvas initTheme={ this.state.theme } >\n          <HashRouter>\n            <Switch>\n              <Route path=\"/\" exact component={ Home } />\n              <Route path=\"/settings\" exact component={ Settings } />\n              <Route path=\"/**\" component={ BadUrl } />\n            </Switch>\n          </HashRouter>\n        </BackgroundCanvas>\n      </div>\n    );\n  }\n\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}